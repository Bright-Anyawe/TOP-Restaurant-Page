"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2984,95813,15906,40370,33021,65923,31348,56864,98075,43887],{76582:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselEllipsis_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"CarouselEllipsis_pin2"}],type:"Pin",abstractKey:null};a.hash="a4b0b28d3f9f52a7e3d5874c94bfb63d";let r=a},217373:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselEllipsis_pin2",selections:[{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};a.hash="3286ed8ff7f456e30ce44b879fb3e273";let r=a},27063:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContextMenuClickthroughLogging_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:a,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};r.hash="91958ad6d73597b90dd099ea462eb40e";let n=r},70822:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeprecatedCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"DeprecatedCarousel_pin2"}],type:"Pin",abstractKey:null};a.hash="32a4849bbdfc8b2b65b08bf4b8c4c887";let r=a},415970:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeprecatedCarousel_pin2",selections:[{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};a.hash="c13d796babebf5b4a8ad6ebb2b50c324";let r=a},563392:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinImage_pin"}],type:"Pin",abstractKey:null};r.hash="c984545d398a5bd6c3278c3657eca9c9";let n=r},478485:(e,t,i)=>{var a,r,n,s,l,o;i.r(t),i.d(t,{default:()=>u});let d=(r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l=[a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRepWithImpressions_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[a],storageKey:null},r,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[n,a,s],storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[r,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[a,s,n,{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:l,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoStatus",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"VideoStatusMessage",kind:"LinkedField",name:"videoStatusMessage",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"PinRepConfiguration_pin"}],type:"Pin",abstractKey:null});d.hash="9448e773f4ec70b8950755da40f13561";let u=d},961e3:(e,t,i)=>{var a,r;i.r(t),i.d(t,{default:()=>s});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinTypeIdentifier_pin",selections:[{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[a={alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},a,{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"LabelInfo",kind:"LinkedField",name:"labelInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labels",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null}],storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="80b7e3dc9560d77c9c21fddd19c4e32f";let s=n},84623:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideoWithVisibility_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideoWithVisibility_pin2"}],type:"Pin",abstractKey:null};a.hash="11b7bb355510a9c8964a9b35d05c369a";let r=a},191317:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideoWithVisibility_pin2",selections:[{args:null,kind:"FragmentSpread",name:"PinVideo_pin"}],type:"Pin",abstractKey:null};a.hash="c4876bc86b017c1390fdec3edc77f6d4";let r=a},632462:(e,t,i)=>{var a,r;i.r(t),i.d(t,{default:()=>s});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideo_pin",selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[a,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideo_pin2"}],type:"Pin",abstractKey:null};n.hash="7de1543a7e9ef08dab86ce070f3dca6a";let s=n},982758:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideo_pin2",selections:[{args:null,kind:"FragmentSpread",name:"PinImage_pin"}],type:"Pin",abstractKey:null};a.hash="147f5f417b6700208c89761b9857c06e";let r=a},183759:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"736x")'}],type:"Pin",abstractKey:null};r.hash="91bd9c250408ba97583006b39619e468";let n=r},421664:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useLogSwipe_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};a.hash="dbfca9820e0aa1302554a0137a270b16";let r=a},391014:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};a.hash="461a57fcc8f7958e3742c217e4cc45a2";let r=a},860972:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="a3cbf6d55cf89d97d6e04c32195968d9";let n=r},902965:(e,t,i)=>{var a,r;i.r(t),i.d(t,{default:()=>s});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:r=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:r,storageKey:null}],type:"Pin",abstractKey:null};n.hash="6588018e2880f2695fc6c4ba45aab606";let s=n},759426:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useReactionCounts_pin",selections:[{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="35057abf870764ec0d5898c8093c1574";let r=a},965361:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:a=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:a,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:a,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:a,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};r.hash="b49953855cdc69f6ee2c8d4925149d23";let n=r},748722:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(339001);function r({altText:e,autoAltText:t,i18n:i,locale:r}){let n=e?(0,a.nk)(i._('This contains: {{ altText }}', 'web.altText', 'Alt text input by a human'),{altText:e}).join(""):"",s=t?(0,a.nk)(i._('This may contain: {{ autoAltText }}', 'web.altText', 'Alt text generated by a computer'),{autoAltText:t}).join(""):"";return r?.startsWith("en")?s||n||"":n||s||""}},439025:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(883119),r=i(785893);function n({currentPrice:e,onlyShowCurrentPrice:t,originalPrice:i,textSize:n,weight:s}){let l=n||"200";return(0,r.jsxs)(a.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[e&&(0,r.jsx)(a.xv,{color:"default",size:l,weight:s??"bold",children:e}),i&&i!==e&&!t&&(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,r.jsx)(a.xv,{color:"subtle",size:l,weight:s??"bold",children:i})})]})}},119351:(e,t,i)=>{i.d(t,{Z:()=>k}),i(167912);var a,r,n=i(693967),s=i.n(n),l=i(883119),o=i(748722),d=i(598356),u=i(262032),c=i(333739),p=i(807023),h=i(140017),m=i(339001),g=i(223785),y=i(5859),_=i(207012),f=i(968508),b=i(785893);let v=void 0!==a?a:a=i(183759);function S({alt:e,onError:t=()=>{},onLoad:i=()=>{},pinKey:a}){let r=(0,_.Z)(v,a),{dominantColor:n}=r,{height:s,width:o,url:d}=("number"==typeof r.imageSpec_474x?.width&&"number"==typeof r.imageSpec_474x.height&&r.imageSpec_474x.width>r.imageSpec_474x.height?r.imageSpec_736x:r.imageSpec_474x)??{};return(0,b.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{zIndex:f.Z.storyPinImage}},"data-test-id":"story-pin-image-box",width:"100%",children:(0,b.jsx)(l.Ee,{alt:e,color:n||"transparent",naturalHeight:s??1,naturalWidth:o??1,onError:t,onLoad:i,src:d||""})})}var P=i(253482);let T=["ShoppingGridSmall","ShoppingGridSmallCarousel","ShoppingDynamicHeightGrid"],E=void 0!==r?r:r=i(563392),x=e=>({altText:e.alt_text||null,autoAltText:e.auto_alt_text||null,carouselData:e.carousel_data?{__typename:"PinCarouselData"}:null,description:e.description||null,dominantColor:e.dominant_color||null,entityId:e.id,gridTitle:e.grid_title||null,imageSpec_236x:e.images?.["236x"]?{height:e.images["236x"].height||null,url:e.images["236x"].url||null,width:e.images["236x"].width||null}:null,imageSpec_474x:e.images?.["474x"]?{height:e.images["474x"].height||null,url:e.images["474x"].url||null,width:e.images["474x"].width||null}:null,imageSpec_736x:e.images?.["736x"]?{height:e.images["736x"].height||null,url:e.images["736x"].url||null,width:e.images["736x"].width||null}:null,imageSpec_orig:e.images?.orig?{height:e.images.orig.height||null,url:e.images.orig.url||null,width:e.images.orig.width||null}:null,storyPinDataId:e.story_pin_data_id||null,title:e.title||null,isThirdPartyAd:e.is_third_party_ad||null,...c.tx}),w=({children:e,cropStoryPinImage:t,cropWidth:i,cropHeight:a})=>t?(0,b.jsx)(l.kC,{alignItems:"center",height:i?a:void 0,justifyContent:"start",width:i||void 0,children:e}):(0,b.jsx)(l.xu,{children:e}),k=({cropHeight:e,cropWidth:t,fallbackColor:i,highResOnly:a,imageFit:r,lowResOnly:n,mediumResOnly:c,onError:_,onLoad:f,pinKey:v,saved:k=!1,surface:I})=>{let D=(0,h.ZP)(),{locale:A}=(0,y.B)(),R=(0,d.Xx)(),{data:C,childDataKey__DEPRECATED:O}=(0,p.Q)(E,v,{useLegacyAdapter:x}),{altText:L,autoAltText:F,carouselData:N,description:j="",dominantColor:M,entityId:V,gridTitle:U,isThirdPartyAd:Z,title:H}=C,K=(0,m.nk)(D._('This contains an image of: {{ pinTitle }}', 'web.altText', 'Alt text input for PinImage by a human'),{pinTitle:H||U}).join(""),B=(0,o.Z)({altText:L,autoAltText:F,i18n:D,locale:A})||!!j?.trim().length&&j||K;if(N)return(0,b.jsx)(P.Z,{highResOnly:a,isThirdPartyAd:Z,lowResOnly:n,onError:_,onLoad:f,pinId:V,pinKey:null});let G="",z,W=0,$=0;if(C.imageSpec_736x||C.imageSpec_orig||C.imageSpec_474x||C.imageSpec_236x){let e=C.imageSpec_236x;a?e=C.imageSpec_736x||C.imageSpec_orig||C.imageSpec_474x||C.imageSpec_236x:c&&(e=C.imageSpec_474x||C.imageSpec_orig||C.imageSpec_236x),W=e?.height,$=e?.width,G=e?.url,z=n||c||a?e?.url?`${e.url} 1x`:"":[C.imageSpec_236x?.url&&`${C.imageSpec_236x.url} 1x`,C.imageSpec_474x?.url&&`${C.imageSpec_474x.url} 2x`,C.imageSpec_736x?.url&&`${C.imageSpec_736x.url} 3x`,C.imageSpec_orig?.url&&`${C.imageSpec_orig.url} 4x`].filter(Boolean).join(", ")}R?.image&&(W=R.image.height,$=R.image.width,G=R.image.url);let Y=["ShoppingGridSmall","ShoppingGridSmallCarousel"].includes(I)?void 0:g.Ml;return(0,b.jsx)(l.kC,{alignItems:"center",justifyContent:"start",minHeight:Y,children:(0,b.jsx)(l.xu,{flex:"grow",children:(0,b.jsx)("div",{className:s()({savedGradient:k}),children:C.storyPinDataId?(0,b.jsx)(w,{cropHeight:e,cropStoryPinImage:!!t&&T.includes(I),cropWidth:t,children:(0,b.jsx)(S,{alt:B,onError:_,onLoad:f,pinKey:O})}):(0,b.jsx)(l.xu,{"data-test-id":"non-story-pin-image",height:t?e:void 0,width:t||void 0,children:(0,b.jsx)(u.Z,{alt:B,color:"dominant"===i?M??void 0:i,crossOrigin:Z?"anonymous":void 0,fit:r,naturalHeight:W??1,naturalWidth:$??1,onError:_,onLoad:f,src:G??"",srcSet:z})})})})})}},903202:(e,t,i)=>{i.d(t,{Z:()=>O});var a,r,n,s,l=i(667294);i(167912);var o=i(883119),d=i(119351),u=i(207012),c=i(807023),p=i(558273),h=i(363074),m=i(239821),g=i(31327),y=i(306781),_=i(233186),f=i(140017),b=i(785893);let v={overlay:{__style:{backgroundColor:"#000"}}};function S({backgroundImage:e,naturalHeight:t,naturalWidth:i,onRestartVideo:a,pinId:r}){let n=(0,f.ZP)();return(0,b.jsxs)(o.Ee,{alt:n._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:t,naturalWidth:i,src:e,children:[(0,b.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:v.overlay,left:!0,opacity:.8,position:"absolute",right:!0,top:!0}),(0,b.jsxs)(o.xu,{"data-test-id":`video-end-card-${r}`,direction:"column",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",children:[(0,b.jsx)(o.iP,{rounding:2,children:(0,b.jsxs)(o.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,b.jsx)(o.JO,{accessibilityLabel:n._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:{__path:y.Z},size:25}),(0,b.jsx)(o.xu,{margin:1}),(0,b.jsx)(o.xv,{color:"light",lineClamp:1,weight:"bold",children:n._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,b.jsx)(o.xu,{margin:3}),(0,b.jsx)(o.iP,{onTap:a,rounding:2,children:(0,b.jsxs)(o.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,b.jsx)(o.JO,{accessibilityLabel:n._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:{__path:_.Z},size:25}),(0,b.jsx)(o.xu,{margin:1}),(0,b.jsx)(o.xv,{color:"light",lineClamp:1,weight:"bold",children:n._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}function P({aspectRatio:e,children:t}){return(0,b.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:e}},children:t})}var T=i(628189);let E=new Set(["ConversationView","TodayTabFeed"]),x=void 0!==a?a:a=i(632462);var w=i(631602),k=i(626849),I=i(249803);function D(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let A=(0,w.Z)(function({isAutoplay:e,cropHeight:t,currentTime:a,lowResOnly:n,highResOnly:s,onLoad:y,onError:_,saved:f,onTimeChange:v,isExperimentalPinRep:w,pinKey:k,surface:I,playing:D,rootMargin:A,viewType:R,viewParameter:C,onVisibilityChanged:O,trackFullVisible:L,inVisibilityChangedHookExperiment:F,imageHeightModifier:N,cropWidth:j,video:M}){let V;let[U,Z]=(0,l.useState)(!1),[H,K]=(0,l.useState)(!D),B=(0,u.Z)(x,k),{childDataKey__DEPRECATED:G}=(0,c.Q)(void 0!==r?r:r=i(982758),B,{useLegacyAdapter:e=>({})}),{isDownstreamPromotion:z,promoter:W}=B,$=(0,p.jL)(!!z,!!W),Y=$&&!B.isEligibleForWebCloseup,q=w&&$&&B.isEligibleForWebCloseup&&!E.has(I),{setCurrentVideo:J}=(0,m.I)(),X=Y||!w||!$,Q=(0,h.Z)({onVisibilityChanged:O,trackFullVisible:L,rootMargin:A});e&&D&&H&&K(!1);let{url:ee}=B.imageSpec_236x??{},{entityId:et,isPromoted:ei}=B,ea=(0,l.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),J({pinId:et,isPromoted:!!ei,currentTime:0}),Z(!1)},[ei,et,J]),er=(0,l.useCallback)(()=>{ei&&Z(q)},[q,ei]),en=M??B.videos?.videoList?.vHLSV4;if(!en)return null;let{height:es,thumbnail:el,width:eo,url:ed}=en,eu=M?.entityId??B.videos?.entityId??"",ec=(eo??1)/(es??1),ep=I&&(0,g.Z)(I)&&"UserProfilePinGrid"!==I;if(ep&&(ec=1,V="transparent",N&&(ec-=N-1)),U&&$)return(0,b.jsx)(o.xu,{ref:F?Q:null,children:(0,b.jsx)(S,{backgroundImage:ee??"",naturalHeight:es??1,naturalWidth:eo??1,onRestartVideo:ea,pinId:et})});if(H){let e={highResOnly:s,lowResOnly:n,onError:_,onLoad:y,pinKey:G,saved:f};return ep&&(e={...e,cropHeight:t,cropWidth:j,imageFit:"contain"}),(0,b.jsx)(o.xu,{ref:F?Q:null,children:(0,b.jsx)(P,{aspectRatio:ec,children:(0,b.jsx)(d.Z,{...e})})})}return(0,b.jsx)(o.xu,{ref:F?Q:null,children:(0,b.jsx)(T.ZP,{aspectRatio:ec,backgroundColor:V,captions:"",contextLogData:{viewParameter:C,component:0,objectId:et,video_id:eu,view:R},cropHeight:t,hlsConfig:{capLevelToPlayerSize:!0,startPosition:a||-1},isAutoPlay:!!e,loop:X,onEnded:er,onPlay:()=>{},onPlayError:()=>{},onTimeChange:v,playing:D,poster:ee||el||void 0,rootMargin:A,src:[{type:"video/m3u8",src:ed}]??[],surface:I,videoStartTime:a,volume:0})})}),R=void 0!==n?n:n=i(84623);class C extends l.Component{constructor(...e){super(...e),D(this,"calculateCurrentVideoTime",()=>{let{currentTimeFromPinRep:e,pin:t,videosAutoplaying:i}=this.props,{entityId:a}=t,r=(0,k.Z)(a,i);return this.currentVideoCurrentTime||r||e}),D(this,"handleVisibilityChanged",e=>{let{currentTimeFromPinRep:t,pin:i,setCurrentVideo:a,pauseAutoplay:r,videosAutoplaying:n,autoplayOrgVideoOnHover:s,surface:l}=this.props,{entityId:o,isPromoted:d}=i,u=(0,I.Z)(o,n),c=function(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:a}=t,r={...i,...a};for(let t in r){let{paused:i}=r[t];if(t!==e&&!i)return!1}return!0}(o,n);e?d?a({pinId:o,isPromoted:d,currentTime:this.calculateCurrentVideoTime()}):c&&!(s&&"RelatedPinGrid"===l)&&a({pinId:o,isPromoted:!!d,currentTime:this.calculateCurrentVideoTime()}):!e&&u&&r({pinId:o,isPromoted:!!d,currentTime:t||this.currentVideoCurrentTime})}),D(this,"handleVideoTimeChange",e=>{let{pin:t,onTimeChange:i,videosAutoplaying:a}=this.props,{entityId:r}=t,n=(0,I.Z)(r,a);n&&(this.currentVideoCurrentTime=e.time),i&&i(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){let{appInFocus:t}=e,{appInFocus:i,currentTimeFromPinRep:a,pauseAutoplay:r,pin:n,setCurrentVideo:s,videosAutoplaying:l}=this.props,{entityId:o,isPromoted:d}=n,u=(0,I.Z)(o,l);i!==t&&!i&&u?(this.pausedDueToBrowserOutOfFocus=!0,r({pinId:o,isPromoted:!!d,currentTime:a||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&i&&(this.pausedDueToBrowserOutOfFocus=!1,s({pinId:o,isPromoted:!!d,currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){let{currentTimeFromPinRep:e,pauseAutoplay:t,pin:i,videosAutoplaying:a}=this.props,{entityId:r,isPromoted:n}=i,s=(0,I.Z)(r,a);s&&t({pinId:r,isPromoted:!!n,currentTime:e||this.currentVideoCurrentTime})}render(){let{childDataKey__DEPRECATED:e,cropHeight:t,isAutoplay:i,pin:a,surface:r,videosAutoplaying:n,viewParameter:s,viewType:l,highResOnly:o,lowResOnly:d,onError:u,onLoad:c,saved:p,isExperimentalPinRep:h,rootMargin:m,cropWidth:g,imageHeightModifier:y,video:_}=this.props,{entityId:f}=a,v=(0,k.Z)(f,n),S=(0,I.Z)(f,n),P=S&&i,T={cropHeight:t,rootMargin:m,currentTime:v,isAutoplay:i,viewParameter:s,viewType:l,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pinKey:e,surface:r,playing:P,trackFullVisible:!1,highResOnly:o,lowResOnly:d,onError:u,onLoad:c,saved:p,isExperimentalPinRep:h,cropWidth:g,imageHeightModifier:y,..._?{video:_}:{}};return(0,b.jsx)(A,{...T})}}function O({pinKey:e,...t}){let{appUI:{appInFocus:a,isAutoplay:r,videosAutoplaying:n},pauseAutoplay:l,setCurrentVideo:o}=(0,m.I)(),d=(0,u.Z)(R,e),{childDataKey__DEPRECATED:p}=(0,c.Q)(void 0!==s?s:s=i(191317),d,{useLegacyAdapter:e=>({})});return(0,b.jsx)(C,{...t,appInFocus:a,childDataKey__DEPRECATED:p,isAutoplay:r,pauseAutoplay:l,pin:d,setCurrentVideo:o,videosAutoplaying:n})}},912849:(e,t,i)=>{i.r(t),i.d(t,{default:()=>T});var a,r=i(667294);i(167912);var n=i(616550),s=i(883119),l=i(18846),o=i(263032),d=i(798580),u=i(207012),c=i(184390),p=i(666472),h=i(558273),m=i(340523),g=i(178093),y=i(5859),_=i(268127),f=i(156591),b=i(785893);let v={overlay:{__style:{backgroundColor:"#000"}}};function S({image:e,pinId:t,title:i,videoDuration:a,videoStatusMessage:n}){return(0,b.jsx)(r.Fragment,{children:(0,b.jsx)(s.st,{children:(0,b.jsxs)(s.Tg,{href:`/pin/${t}`,rounding:2,children:[(0,b.jsxs)(s.xu,{overflow:"hidden",position:"relative",rounding:2,children:[e&&(0,b.jsx)(s.Ee,{alt:i||"",color:"lightGray",naturalHeight:e.height??1,naturalWidth:e.width??1,src:e.url??""}),!!a&&(0,b.jsx)(s.xu,{bottom:!0,display:"flex",left:!0,padding:2,position:"absolute",children:(0,b.jsx)(f.Z,{duration:a})}),(0,b.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:v.overlay,left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),(0,b.jsxs)(s.xu,{left:!0,padding:5,position:"absolute",top:!0,width:"100%",children:[(0,b.jsx)(s.X6,{color:"light",overflow:"normal",size:"400",children:n?.title}),(0,b.jsx)(s.xu,{marginTop:4,children:(0,b.jsx)(s.xv,{color:"light",overflow:"normal",size:"200",children:n?.subtitle})})]})]}),(0,b.jsx)(s.xu,{alignItems:"start",display:"flex",justifyContent:"between",marginTop:1,paddingX:1,children:(0,b.jsx)(s.xu,{flex:"grow",children:i&&(0,b.jsx)(s.xu,{paddingY:1,children:(0,b.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:i})})})})]})})})}let P=void 0!==a?a:a=i(478485);function T({trackingParams:e,objectIdStr:t,impressionData:i,auxData:a,componentType:f,slotIndex:v,viewData:T,viewParameter:E,viewType:x,productTagParentPinId:w,pinKey:k,trackingParamsMap:I,...D}){let A=(0,n.TH)(),{checkExperiment:R}=(0,m.F)(),C=(0,y.B)(),O=(0,u.Z)(P,k),L=!!O.storyPinData?.isDeleted,F=(0,_.Z)(O),N=e||(0,d.Z)({boardUrl:O.board?.url,location:A,pinId:O.entityId,pinnerUserName:O.pinner?.username,storyPinDataId:O.storyPinDataId,trackingParams:O.trackingParams,trackingParamsMap:I}),j=O.videos?.videoList?.vHLSV3MOBILE||O.videos?.videoList?.vHLSV4||O.videos?.videoList?.v720P,M=!!j&&!!j.url&&!!j.height&&!!j.width||void 0,V=j&&O.videos?O.videos.entityId:void 0,[U,Z]=(0,r.useState)(!1),H=(0,r.useCallback)(()=>Z(!L),[L]),K=(0,r.useCallback)(()=>Z(!1),[]),B=(0,g.yz)(),G=i?.story_type==="product_tagged_shopping_module_upsell",z=!!O.promotedIsLeadAd;z&&(a={lead_form_id:O.promotedLeadForm?.leadFormId,is_lead_ad:1});let{anyEnabled:W}=R("m10n_view_event_conversion_measurement_chrome"),{anyEnabled:$}=R("m10n_ara_hardcoded_reporting_url"),Y=C.isAuthenticated&&R("web_deprecated_impression_tracker_standalone_pin_rep_impression_auth").anyEnabled,q={};G&&(i={...i,productTagParentPinId:w},q={closeupImpressionType:15,storyPinProductEventData:{productPinIdStr:O.entityId,pinIdStr:w}});let J=O.productPinData?.items?.[0],X=J&&Number(J.additionalImagesLength)>0;return Y?(0,b.jsx)(p.F,{...q,componentType:f,contextLogData:{pwa_type:B,...a,...F({default:a?.commerce_data})},impressionAuxFields:{...i||{},isNativeVideoAndWatchable:M,chromeAraViewExp:W,araHardcodedReportingUrlExp:$,araAuxData:{appType:C.appTypeDetailed,osType:(0,o.eF)(C.userAgent.osName??"Unknown")},videoIdStr:V,clientTrackingParams:N||`${O.trackingParams||""}-0`,imageURL:O.imageSpec_236x?.url??"",richTypes:(O.shoppingFlags||[]).concat(X&&!O.shoppingFlags?.includes(10)?[10]:[])},impressionType:"Pin",isPaused:!U,isPromoted:!!O.isPromoted,loggingId:O.entityId,objectIdStr:t,pinData:(0,h._J)(O.videoStatus)?null:{adDestinationUrl:O.adDestinationUrl,advertiserId:O.advertiserId,attributionSourceId:O.attributionSourceId,campaignId:O.campaignId?O.campaignId.toString():null,domain:O.domain,isPromoted:O.isPromoted,link:O.link},slotIndex:v,viewData:T,viewParameter:E,viewType:x,children:({impressionTrackerRef:e})=>(0,b.jsx)(s.xu,{ref:e,children:(0,h._J)(O.videoStatus)?(0,b.jsx)(S,{image:O.imageSpec_236x&&{width:O.imageSpec_236x.width,height:O.imageSpec_236x.height,url:O.imageSpec_236x.url},pinId:O.entityId,title:O.title,videoDuration:O.videos?.videoList?.vHLSV4?.duration,videoStatusMessage:O.videoStatusMessage&&{title:O.videoStatusMessage.title,subtitle:O.videoStatusMessage.subtitle}}):(0,b.jsx)(l.Z,{...D,debugImpressionState:U?"started":"paused",onError:K,onLoad:H,pinKey:O,productTagParentPinId:w,trackingParameters:{componentType:f,contextLogData:a,slotIndex:v,viewParameter:E,viewType:x},trackingParamsMap:I})})}):(0,b.jsx)(c.Z,{...q,componentType:f,contextLogData:{pwa_type:B,...a,...F({default:a?.commerce_data})},impressionAuxFields:{...i||{},isNativeVideoAndWatchable:M,chromeAraViewExp:W,araHardcodedReportingUrlExp:$,araAuxData:{appType:C.appTypeDetailed,osType:(0,o.eF)(C.userAgent.osName??"Unknown")},videoIdStr:V,clientTrackingParams:N||`${O.trackingParams||""}-0`,imageURL:O.imageSpec_236x?.url??"",richTypes:(O.shoppingFlags||[]).concat(X&&!O.shoppingFlags?.includes(10)?[10]:[])},impressionType:"Pin",isPaused:!U,isPromoted:!!O.isPromoted,loggingId:O.entityId,objectIdStr:t,pinData:(0,h._J)(O.videoStatus)?null:{adDestinationUrl:O.adDestinationUrl,advertiserId:O.advertiserId,attributionSourceId:O.attributionSourceId,campaignId:O.campaignId?O.campaignId.toString():null,domain:O.domain,isPromoted:O.isPromoted,link:O.link},slotIndex:v,viewData:T,viewParameter:E,viewType:x,children:(0,h._J)(O.videoStatus)?(0,b.jsx)(S,{image:O.imageSpec_236x&&{width:O.imageSpec_236x.width,height:O.imageSpec_236x.height,url:O.imageSpec_236x.url},pinId:O.entityId,title:O.title,videoDuration:O.videos?.videoList?.vHLSV4?.duration,videoStatusMessage:O.videoStatusMessage&&{title:O.videoStatusMessage.title,subtitle:O.videoStatusMessage.subtitle}}):(0,b.jsx)(l.Z,{...D,debugImpressionState:U?"started":"paused",onError:K,onLoad:H,pinKey:O,productTagParentPinId:w,trackingParameters:{componentType:f,contextLogData:a,slotIndex:v,viewParameter:E,viewType:x},trackingParamsMap:I})})}},894043:(e,t,i)=>{i.d(t,{Z:()=>s}),i(167912);var a,r=i(207012);let n=void 0!==a?a:a=i(759426),s=e=>{let t=(0,r.Z)(n,e);return t?.reactionCountsData?t.reactionCountsData.reduce((e,{reactionCount:t,reactionType:i})=>({...e,...i?{[i]:t}:{}}),{}):null}},598356:(e,t,i)=>{i.d(t,{Xx:()=>n});var a=i(667294);i(785893),(0,a.createContext)(void 0),i(214877);let r=(0,a.createContext)(void 0),n=()=>{let e=(0,a.useContext)(r);return e}},98068:(e,t,i)=>{i.d(t,{Z:()=>_});var a=i(883119),r=i(612541),n=i(140017),s=i(72461),l=i(339001),o=i(686769),d=i(5859);function u({count:e,rating:t}){return!!(t&&"None"!==t&&Number.isFinite(e))}var c=i(785893);let p=({rating:e,textSize:t,type:i})=>{if("single"===i){let i=parseFloat(e);return Number.isNaN(i)?null:(0,c.jsxs)(a.kC,{alignItems:"center",children:[(0,c.jsx)(o.A,{fill:"full"}),(0,c.jsx)(a.xv,{size:t,children:i.toFixed(1)})]})}return(0,c.jsx)(o.Z,{rating:e})},h=({bracket:e,count:t,countFormat:i,countType:r,marginStart:o,textSize:u,underline:p})=>{let{locale:h}=(0,d.B)(),m=(0,n.ZP)(),g=(0,s.Z)();if(null==t)return null;let y=g(h,t,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===i){let e="review"===r?m.ngettext('{{ count }} review', '{{ count }} reviews', t, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):m.ngettext('{{ count }} rating', '{{ count }} ratings', t, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');y=(0,l.nk)(e,{count:t}).join("")}return e&&(y=`(${y})`),(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:p?"1px solid gray":"none"}},marginStart:o,children:(0,c.jsx)(a.xv,{color:p?"subtle":"default",size:u,underline:p,children:(0,c.jsx)(a.xu,{"data-test-id":"ratings-count-text",display:"inlineBlock",children:y})})})};function m({bracket:e,count:t,countFormat:i,countType:r,rating:n,textSize:s,underline:l}){let o=u({count:t,rating:n});return o?(0,c.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(p,{rating:n,textSize:s,type:"multiple"}),(0,c.jsx)(h,{bracket:e,count:t,countFormat:i,countType:r,textSize:s,underline:l})]}):null}let g=({count:e,countFormat:t,ratingValue:i,shippingInfo:n})=>(0,c.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,c.jsx)(m,{count:e,countFormat:t,rating:i,textSize:"200"}),(0,c.jsx)(a.xu,{marginTop:u({count:e,rating:i})?1:0,children:(0,c.jsx)(r.Z,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:n?.freeShippingPrice,freeShippingValue:n?.freeShippingValue})})]}),y=({count:e,countType:t,countFormat:i,hideSeparationDot:n,bracket:s,ratingValue:l,shippingInfo:o})=>(0,c.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,c.jsx)(m,{bracket:s,count:e,countFormat:i,countType:t,rating:l,textSize:"300"}),(0,c.jsx)(a.xu,{marginStart:u({count:e,rating:l})&&n?2:0,children:(0,c.jsx)(r.Z,{customStyles:{color:"default",size:"300"},freeShippingPrice:o?.freeShippingPrice,freeShippingValue:o?.freeShippingValue,showPrevDot:u({count:e,rating:l})&&!n})})]});function _(e){return e.isGridView?(0,c.jsx)(g,{...e}):(0,c.jsx)(y,{...e})}},89856:(e,t,i)=>{i.d(t,{Z:()=>a});function a({maxPrice:e,minPrice:t,price:i}){return e&&t?`${t}-${e}`:i}},481177:(e,t,i)=>{i.d(t,{Z:()=>a});let a={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},6619:(e,t,i)=>{i.d(t,{Z:()=>y});var a,r=i(667294);i(167912);var n=i(616550),s=i(798580),l=i(901855),o=i(214877),d=i(107366),u=i(207012),c=i(558273),p=i(414131),h=i(268127),m=i(785893);let g=void 0!==a?a:a=i(27063);function y({children:e,hovered:t,pinKey:i,slotIndex:a,trafficSource:y,trackingParamsMap:_,viewType:f}){let{logContextEvent:b}=(0,o.v)(),[v,S]=(0,r.useState)(),[P,T]=(0,r.useState)(),E=(0,u.Z)(g,i),{entityId:x,trackedLink:w,link:k}=E,I=w||k||"",D=()=>{S(!0)},A=function(e){let t=(0,n.TH)(),{previous:i}=(0,l.Hv)();return(0,s.Z)({...e,location:t,previousHistory:i})}({boardUrl:E.board?.url,pinId:x,pinnerUserName:E.pinner?.username,storyPinDataId:E.storyPinDataId,trackingParams:E.trackingParams,trackingParamsMap:_}),R=(0,p.Z)({hasPin:!!E,hasPinRichMetadata:!!E.richMetadata,hasPinRichMetadataProducts:!!E.richMetadata?.products,hasPinRichMetadataArticle:!!E.richMetadata?.article,hasPinRichMetadataRecipe:!!E.richMetadata?.recipe,hasPinStoryPinData:!!E.storyPinData}),C=(0,h.Z)(E),O=()=>{let e=C();(0,d.Z)({url:"/v3/offsite/",data:{check_only:!1,pin_id:x,url:I,client_tracking_params:A,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:x,...a||{},...e})}}).then(t=>{t&&(b({event_type:12,object_id_str:x,view_type:f,view_parameter:R,aux_data:{clickthrough_type:"rightClick",...a||{},...e}}),b({event_type:8948,view_type:f,object_id_str:x,view_parameter:R,aux_data:{click_type:"clickthrough",closeup_navigation_type:y&&(0,c.sV)(y)?"deeplink":"click",clickthrough_type:"rightClick",...a||{},...e}}))})},L=e=>{v&&(/^\/pin/.test(e.target.activeElement.attributes.href?.value)||(O(),S(!1)),window.removeEventListener(P,L,!1))};return(0,r.useEffect)(()=>{void 0!==window?.document?.hidden?T("visibilitychange"):void 0!==window?.document?.msHidden?T("msvisibilitychange"):void 0!==window?.document?.webkitHidden&&T("webkitvisibilitychange")},[]),(0,r.useEffect)(()=>(v&&window&&window.addEventListener(P,L,!1),()=>window.removeEventListener(P,L)),[v,P]),(0,r.useEffect)(()=>(t&&window.addEventListener("contextmenu",D),()=>{window.removeEventListener("contextmenu",D)}),[t]),(0,m.jsx)(r.Fragment,{children:e})}},901855:(e,t,i)=>{i.d(t,{Hv:()=>o,aX:()=>c,nK:()=>p});var a=i(667294),r=i(616550),n=i(342513),s=i(785893);let{Provider:l,useHook:o}=(0,n.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function u(e,t){let i={action:t.type,location:t.location,match:t.match};if(t.location===e.current?.location)return e;switch(t.type){case"POP":if(e.forward.length>0&&d(e.forward[0].location)===d(i.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:i,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:i};default:return e}}function c(){let{current:e,previous:t}=o(),i=(0,a.useMemo)(()=>e?t.concat(e):t,[e,t]);return i}function p({children:e}){let t=(0,r.k6)(),i=(0,r.TH)(),n=(0,r.$B)(),o={forward:[],current:{action:t.action,location:i,match:n},previous:[]},[d,c]=(0,a.useReducer)(u,o);return(0,a.useEffect)(()=>{let{action:e}=t;c({type:e,location:i,match:n})},[i]),(0,s.jsx)(l,{value:d,children:e})}},406893:(e,t,i)=>{i.d(t,{Z:()=>n}),i(441143);var a=i(785893);class r{static factory(e){return e instanceof r?e:new r(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function n(e){let{css:t,unsafeCSS:i,...n}=e,s=String(t||"")||i||"",l=!!s;return l?(0,a.jsx)("style",{...n,dangerouslySetInnerHTML:{__html:String(r.factory(s))}}):null}},223785:(e,t,i)=>{i.d(t,{Dv:()=>n,Ml:()=>s,Oc:()=>a,mv:()=>r});let a=16,r=4,n={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},s=120},934378:(e,t,i)=>{i.d(t,{$N:()=>m,Cu:()=>y,GY:()=>d,MZ:()=>s,NR:()=>c,Vn:()=>u,bC:()=>g,fm:()=>a,kM:()=>n,q6:()=>r,qp:()=>o,uV:()=>p,ug:()=>h,xL:()=>l});let a={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},r={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},n={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},s={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud"},l={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},o={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},d={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},u={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},c={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},p="604800",h="86400",m={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},g="click",y="view"},263032:(e,t,i)=>{i.d(t,{YS:()=>s,eF:()=>l,m_:()=>n});var a=i(934378),r=i(953565);function n(e,t,i,n,s,l){let o=new URLSearchParams,d=e??"0",u=t.reduce((e,t)=>{if(null!=t){let i=function(e){let t;try{t=decodeURIComponent(e)}catch(i){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(a){let i=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(i&&i.length>1)return i[1];return e}}(t);return e.add(i)}return e},new Set);o.append(a.NR.SOURCE_EVENT_ID,d),o.append(a.NR.DESTINATION,JSON.stringify([...u])),o.append(a.NR.EXPIRY,i?a.uV:a.ug),o.append(a.NR.PRIORITY,i?a.NR.CLICK_PRIORITY:a.NR.VIEW_PRIORITY),s&&o.append(a.NR.ADVERTISER_ID,s),n&&o.append(a.NR.CAMPAIGN_ID,n),o.append(a.NR.SOURCE_EVENT_TYPE,i?a.bC:a.Cu);try{let{hostname:e}=new URL(window.location.href);l&&"www.pinterest.com"!==e&&o.append(a.NR.HOSTNAME,e)}catch(e){(0,r.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return l?"https://www.pinterest.com/attribution_source/?"+o.toString():"/attribution_source/?"+o.toString()}async function s(e,t,i,a,s,l,o,d,u,c){let p;let{appType:h,osType:m}=l||{},g="",y="";if(["Pin","pinImpressions"].includes(e)&&t&&(a||d||u)){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:h,osType:m}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:h,osType:m}});return}g=n(i,[a,d,u],!1,s,o,c);try{y=new URL(window.location.href).hostname}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(c&&y&&"www.pinterest.com"!==y){let e=document.createElement("img");e.setAttribute("attributionsrc",g),(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:h,osType:m,hostname:y}})}else if(!(p=await window.fetch(g,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:h,osType:m}})}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:e.name,message:e.message,appType:h,osType:m,sourceEventUrl:g,stack:e.stack.slice(0,200),hostname:y,href:window.location.href,responseStatus:p&&p.status,redirectLocation:p&&p.headers&&p.headers.get("Location")}})}}else(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:h,osType:m}})}function l(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},107991:(e,t,i)=>{i.d(t,{t:()=>_,Z:()=>b});var a=i(883119),r=i(667294),n=i(406893),s=i(785893);let l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",o=()=>[,,,,,].fill().map(()=>l[Math.floor(Math.random()*l.length)]).join(""),d=e=>{let t=[],i=Math.floor(3*Math.random()+1);for(let a=0;a<i-1;a+=1){let i=Math.floor(Math.random()*(e.length-1)+1);t.push(i)}t.sort((e,t)=>e-t);let a=[],r=0;for(let i=0;i<t.length;i+=1)a.push(e.slice(r,t[i])),r=t[i];return a.push(e.slice(r)),[...a]};function u({children:e}){let t=(0,r.useMemo)(()=>d(e.replace("  "," ")).map(e=>({className:o(),content:e})),[e]);return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(n.Z,{unsafeCSS:t.map(({className:e,content:t})=>`.${e} { display: inline; overflow-wrap: unset; } .${e}:before { content: "${t}"; font-weight: 600;  }`).join(" ")}),t.map(({className:e})=>(0,s.jsx)("div",{className:e},e))]})}var c=i(340523),p=i(5859),h=i(149722);let m=e=>"Promoted by"===e,g=()=>{let e=(0,h.Z)(),{checkExperiment:t}=(0,c.F)(),i=t("web_obfuscate_ads_with_global_css").group.split("_")[3]??"op";return`${i}${e.isAuth?e.id:"unauth"}`},y=()=>(0,s.jsx)("div",{className:g()}),_=()=>{let{checkExperiment:e}=(0,c.F)(),t=g();return e("web_obfuscate_ads_with_global_css").anyEnabled?(0,s.jsx)(n.Z,{unsafeCSS:`.${t}:before { content: "Promoted by"; font-weight: 600;  }`}):null};function f({children:e}){let{checkExperiment:t}=(0,c.F)();return t("web_obfuscate_ads_with_global_css").anyEnabled?(0,s.jsx)(y,{}):(0,s.jsx)(u,{children:e})}function b({children:e,color:t,lineClamp:i,size:r,underline:n,weight:l}){let{isAuthenticated:o}=(0,p.B)(),d=o&&m(e);return(0,s.jsx)(a.xv,{color:t,lineClamp:i,size:r,title:d?void 0:e,underline:n,weight:l,children:d?(0,s.jsx)(f,{children:e}):e})}},755704:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e){return e.replace("ad.doubleclick.net","ad.doubleClick.net").replaceAll(/&epik=[^&]+/g,"")}},86785:(e,t,i)=>{i.d(t,{G6:()=>n,i7:()=>s,oi:()=>a,u$:()=>r,un:()=>o,vU:()=>l});let a=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),r=e=>e?e.includes("Chrome")?a.CHROME:e.includes("Safari")?a.SAFARI:e.includes("Firefox")?a.FIREFOX:e.includes("Opera")?a.OPERA:e.includes("IE")?a.IE:e.includes("Edge")?a.EDGE:a.OTHER:a.OTHER;function n(e){return r(e)===a.SAFARI}function s(e){return r(e)===a.CHROME}function l(e){return r(e)===a.FIREFOX}function o(e){return r(e)===a.EDGE}},663056:(e,t,i)=>{i.d(t,{P:()=>p,Z:()=>c});var a,r,n,s,l=i(167912),o=i(807023),d=i(895409),u=i(333739);function c(e){let{childDataKey__DEPRECATED:t}=(0,o.Q)(void 0!==s?s:s=i(391014),e,{useLegacyAdapter:()=>({})}),c=function(e){let{data:t}=(0,o.Q)(void 0!==a?a:a=i(860972),e,{useLegacyAdapter:e=>({carouselData:e.carousel_data&&{entityId:e.carousel_data.id??"",index:e.carousel_data.index,carouselSlots:e.carousel_data.carousel_slots?.map(e=>({details:e.details,imageSignature:e.image_signature,image236x:e.images?.["236x"]&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width},image474x:e.images?.["474x"]&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},image564x:e.images?.["564x"]&&{height:e.images["564x"].height,url:e.images["564x"].url,width:e.images["564x"].width},image736x:e.images?.["736x"]&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width},slotId:e.id,title:e.title}))??[]}})});return t?.carouselData?{index:t.carouselData.index,carouselId:t.carouselData.entityId,carouselSlots:t.carouselData.carouselSlots?.map(({details:e,imageSignature:t,image236x:i,image474x:a,image564x:r,image736x:n,slotId:s,title:l})=>({details:e,imageSignature:t,imageSizeMap:[["236x",i],["474x",a],["564x",r],["736x",n]].reduce((e,[t,i])=>({...e,[t]:i}),{}),slotId:s,title:l}))??[]}:null}(t),p=function({pinKey:e,index:t}){let a;return a=null==e?{type:"deprecated",data:null}:"graphqlRef"===e.type?e:{type:"deprecated",data:e.data},(0,u.Zm)(void 0!==n?n:n=i(902965),a,{useGraphQLAdapter:e=>{let a=(e.richMetadata||e.richSummary)?.products?.[0],n=function(e){let t=(0,l.useFragment)(void 0!==r?r:r=i(965361),e);if(!t)return[];let a={},{image236x:n,image474x:s,image564x:o,image736x:d}=t;return[[n,"236x"],[s,"474x"],[o,"564x"],[d,"736x"]].forEach(([e,t])=>{(e??[]).forEach(({canonicalImage:e,imageSignature:i})=>{i&&e&&(a={...a,[i]:{...a[i],[t]:{height:e.height,url:e.url,width:e.width}}})})}),Object.entries(a).map(([e,t])=>({imageSignature:e,imageSizeMap:t}))}(a);return a&&n.length?{carouselId:a.productId,carouselSlots:[{imageSignature:null,imageSizeMap:[["236x",e.image236x],["474x",e.image474x],["564x",e.image564x],["736x",e.image736x]].reduce((e,[t,i])=>({...e,[t]:i&&{height:i.height,url:i.url,width:i.width}}),{})},...n],index:t}:null},useLegacyAdapter:e=>{let i=(e?.rich_metadata||e?.rich_summary)?.products?.[0],a=(i?.additional_images??[]).reduce((e,{canonical_images:t,image_signature:i})=>e.concat(t&&i?[{imageSignature:i,imageSizeMap:Object.keys(t).reduce((e,i)=>t[i]?{...e,[i]:{height:t[i].height,url:t[i].url,width:t[i].width}}:e,{})}]:[]),[]);return e&&i&&a.length?{carouselId:i.id,carouselSlots:[...e.images?[{imageSignature:null,imageSizeMap:(0,d.b)(e.images)}]:[],...a],index:t}:null}}).data}({pinKey:t,index:c?.index});return p?{...p,carouselSlots:p.carouselSlots.map(e=>({...e,details:null,slotId:null,title:null}))}:c}function p({children:e,pinKey:t}){return e(c(t))}},798580:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(624797);let r=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,n=(e,t)=>t?e.substring(t.length).split("/")[0]:e,s=({boardUrl:e,path:t,pinId:i,pinnerUserName:s,search:l,storyPinDataId:o})=>{if(!t)return"";let d="";switch(t){case"/":case"/homefeed/":return"UserHomefeedResource";case s&&`/${s}/pins/`:return"UserPinsResource";case s&&`/${s}/`:case/\/_activity\//.test(t)&&t:return"UserActivityPinsResource";case/\/_created\//.test(t)&&t:return o?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(t)&&t:return"UserDiscoveredPinsResource";case/\/_saved\//.test(t)&&t:return"BoardlessPinsResource";case s&&`/${s}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(t)&&t:return"VisualLiveSearchResource";case/\/pin\//.test(t)&&t:d="/pin/";let u=n(t,d);if(i!==u)return`RelatedPinFeedResource_${u}`;break;case/\/search\//.test(t)&&t:if(l){let e=(0,a.mB)(l,{shouldDecode:!1}).q||"";return`SearchResource_${e.toLowerCase()}`}break;case/\/categories\//.test(t)&&t:d="/categories/";let c=n(t,d);return`CategoryFeedResource_${c}`;case/\/discover\/topics\//.test(t)&&t:return"CategoryFeedResource";case/\/news_hub\//.test(t)&&t:d="/news_hub/";let p=n(t,d);return`NewsHubDetailsResource_${p}`;case/\/_tools\/more-ideas\//.test(t)&&t:return"BoardContentRecommendationResource";case/\/topics\//.test(t)&&t:d="/topics/";let h=n(t,d);return`TopicFeedResource_${h}`;case/\/source\//.test(t)&&t:d="/source/";let m=n(t,d);return`DomainFeedResource_${m}`;case/\/explore\//.test(t)&&t:d="/explore/";let g=n(t,d);return`SearchResource_${g}`;case e:case!!e&&/\/more_ideas\//.test(t)&&t:return"BoardFeedResource";case e&&t.indexOf(e)>-1&&t:return"BoardSectionPinsResource";case/\/brand_catalog\//.test(t)&&t:return"BrandCatalogFeedResource";case r.test(t)&&t:let y=t.match(r)?.[2]||"unknown";return`TodayArticleFeedResource_${y}`;case/\/today\//.test(t):return"TodayTabResource";case/\story_feed\//.test(t)&&t:if(l){let{feed_type:e,request_params:t}=(0,a.mB)(l);return`StoryFeedResource_${e}_${t}`}}return""},l=e=>{let t=e?.pathname;return t?(t.match(/\/search\//)&&e?.search&&(t+=e.search),t.toLowerCase()):""},o=({boardUrl:e,location:t,pinId:i,pinnerUserName:a,previousHistory:r,storyPinDataId:n,trackingParams:o,trackingParamsMap:d={}})=>{let u,c;if(!i||!o||!t)return;if(!d)return`${o??""}~0`;let{pathname:p,search:h}=t,m=s({boardUrl:e,path:p,pinId:i,pinnerUserName:a,search:h,storyPinDataId:n,trackingParams:o,trackingParamsMap:d}),g=Object.keys(d),y=(p||"").startsWith("/pin/");if(y){let e=g.find(e=>"PinResource"!==e);u=e?d[e]:d.PinResource}else u=d[m];if(!u&&r&&r.length){let t=l(r[r.length-1].location);c=s({boardUrl:e,path:t,pinId:i,pinnerUserName:a,search:h,storyPinDataId:n,trackingParams:o,trackingParamsMap:d}),u=d[c]}return u||(u=`${o||""}~0`),u}},259866:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e){return function e(t,i){let a;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let r=i.find(e=>e.value===t);if(r)return r.result;let n=Object.prototype.toString.call(t);switch(n){case"[object Array]":a=Array(t.length);break;case"[object Set]":a=new Set;break;case"[object Object]":case"[object Arguments]":a={};break;case"[object Map]":a=new Map;break;default:return t}let s=[...i,{value:t,result:a}];switch(n){case"[object Array]":t.forEach((t,i)=>{a[i]=e(t,s)});break;case"[object Set]":t.forEach(t=>{a.add(e(t,s))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,i])=>{a[t]=e(i,s)});break;case"[object Map]":t.forEach((t,i)=>{a.set(i,e(t,s))})}return a}(e,[])}},214877:(e,t,i)=>{i.d(t,{B:()=>o,v:()=>l});var a=i(525364),r=i(342513),n=i(785893);let{Provider:s,useHook:l}=(0,r.Z)("ContextLogger");function o({children:e,value:t}){let{setViewContextData:i}=(0,a.sV)();return t.injectSetViewContextDataFromHook=i,(0,n.jsx)(s,{value:t,children:e})}},587703:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(214877);let r=()=>(0,a.v)().logContextEvent},696534:(e,t,i)=>{i.d(t,{F6:()=>c,Hs:()=>u,Yc:()=>o,vs:()=>d});var a=i(667294),r=i(191313),n=i(217058);let s="theme",l="dark"===(0,r.qn)(s),o=()=>l;function d(){let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{t(o())},[t]),e}let u=()=>{(0,r.Nh)(s,"dark"),(0,n.My)("mweb.dark_mode.enable"),window.location.reload()},c=()=>{(0,r.L_)(s),(0,n.My)("mweb.dark_mode.disable"),window.location.reload()}},135839:(e,t,i)=>{i.d(t,{Z:()=>n,k:()=>a});let a={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year"},r=function(e){switch(e){case a.YEAR:return{year:"numeric"};case a.LONG:return{year:"numeric",month:"long",day:"numeric"};case a.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case a.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case a.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case a.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case a.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case a.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case a.MONTH_DAY:return{month:"long",day:"numeric"};case a.SHORT_MONTH:return{month:"short"};case a.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case a.DAY:return{day:"numeric"};case a.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case a.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case a.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case a.TIME:return{hour:"numeric",minute:"2-digit"};case a.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case a.HOUR:return{hour:"numeric"};default:throw Error('invalid dateFormatType "'+e+'"')}};function n(e,t,i,a=!0){let n=r(i);a&&(n.timeZone="UTC");let s=new Intl.DateTimeFormat(e,n);return s.format(t)}},419075:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e){let t=Math.round(e/1e3),i=t%60;return Math.floor(t/60)+":"+(i<10?"0":"")+i}},541841:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(667294),r=i(973935);function n(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s extends a.Component{constructor(...e){super(...e),n(this,"observer",null),n(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){let e=r.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return a.Children.only(this.props.children)}}let l=s},103322:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(667294),r=i(701785),n=i(953565);function s(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends a.Component{constructor(...e){super(...e),s(this,"state",{error:null,info:null}),s(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,i=this.props.type||"secondary";(0,r.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:i,message:e.message,name:e.name,stack:e.stack}),(0,n.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,n.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:i}=this.state;return t&&i?e?e({error:t,info:i,resetError:this.resetError}):null:this.props.children}}},510989:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(103322);let r=a.Z},401429:(e,t,i)=>{i.d(t,{Z:()=>g});var a=i(667294),r=i(702664),n=i(587703),s=i(25919),l=i(216167);let o=(e,t,i,a)=>(r,n)=>o=>{if(r&&r.id){let d=l.Z.create(e,{placed_experience_id:r.id,extra_context:{}});switch(t){case"dismissed":d.callDelete().then(()=>{o((0,s.fO)()),i&&a&&i({event_type:a,object_id_str:r.id.toString()})});break;case"completed":d.callUpdate().then(()=>{n||o((0,s.fO)()),i&&a&&i({event_type:a,object_id_str:r.id.toString()})});break;case"viewed":d.callUpdate().then(()=>{i&&a&&i({event_type:a,object_id_str:r.id.toString()})})}}},d=e=>o("UserExperienceCompletedResource","completed",e,6567),u=o("UserExperienceResource","dismissed"),c=e=>o("UserExperienceViewedResource","viewed",e,4503);var p=i(785893);function h(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class m extends a.Component{constructor(...e){super(...e),h(this,"state",{hasCompleted:[],hasDismissed:[]}),h(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:i,viewExperience:a,viewExperienceObject:r}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",r(e)):i?a(e.placement_id,e.experience_id,i):a(e.placement_id,e.experience_id))}),h(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:i,experience:a,isBackendExperience:r,preventRemoval:n,targeting:s}=this.props,l=e||1;if(a&&!this.state.hasCompleted.includes(a.experience_id)){let{placement_id:e,experience_id:o}=a||{},d=n||2===l;(1===l||d)&&e&&o&&(r?i(a,d):s?t(e,o,d,s):t(e,o,d),this.setState(e=>({hasCompleted:[...e.hasCompleted,o]})))}}),h(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:i,isBackendExperience:a,preventRemoval:r,targeting:n}=this.props,{placement_id:s,experience_id:l}=i||{};i&&!this.state.hasDismissed.includes(l)&&(a?t(i):n?e(s,l,!!r,n):e(s,l,!!r),this.setState(e=>({hasDismissed:[...e.hasDismissed,l]})))}),h(this,"isEligibleExperience",()=>{let{experience:e}=this.props;if(!e)return!1;let{eligibleIds:t,eligibleTypes:i,predicate:a,transitionType:r}=this.props,{experience_id:n,type:s}=e;return t&&t.length?t.includes(n):i&&i.length?i.includes(s):a?a(e):!r||r===s})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,i=this.props.experience;i&&this.isEligibleExperience()&&(t&&t.experience_id===i.experience_id||this.view())}render(){let{children:e,experience:t,disableAutoView:i}=this.props;return t&&this.isEligibleExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...i?{view:this.view}:Object.freeze({})}):a.Children.only(e):null}}function g(e){let t=(0,r.useSelector)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),i=(0,r.useDispatch)(),a=(0,s.be)(),l=(0,s.Am)(),o=(0,s.Ig)(),h=(0,n.Z)();return(0,p.jsx)(m,{...e,completeExperience:(e,t,r,n)=>i(a(e,t,r,!1,{},n)),completeExperienceObject:(e,t)=>i(d(h)(e,t)),dismissExperience:(e,t,a,r)=>i(l(e,t,a,void 0,r)),dismissExperienceObject:e=>i(u(e)),experience:t,viewExperience:(e,t,a)=>i(o(e,t,!1,!1,void 0,a)),viewExperienceObject:e=>i(c(h)(e))})}h(m,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},619370:(e,t,i)=>{i.r(t),i.d(t,{default:()=>c});var a=i(667294),r=i(883119),n=i(401429),s=i(785893);function l(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o extends a.PureComponent{constructor(...e){super(...e),l(this,"onScroll",()=>{let{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){let{anchor:e,text:t,thumbnails:i,idealDirection:a}=this.props,n=i.slice(-3);return(0,s.jsx)(r.J2,{anchor:e,color:"white",idealDirection:a,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,s.jsxs)(r.xu,{alignContent:"center",display:"flex",justifyContent:"between",padding:3,width:"100%",children:[(0,s.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,s.jsx)(r.xv,{color:"default",weight:"bold",children:t})}),(0,s.jsx)(r.xu,{display:"flex",marginEnd:-2,paddingX:2,children:n.map(e=>(0,s.jsx)(r.xu,{height:60,paddingX:1,width:50,children:(0,s.jsx)(r.zd,{height:60,rounding:2,children:(0,s.jsx)(r.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}var d=i(76561);function u(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c extends a.Component{constructor(...e){super(...e),u(this,"dismissRef",(0,a.createRef)()),u(this,"state",{paused:!1}),u(this,"dismissCb",()=>{this.dismissRef.current?.()}),u(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){let{anchor:e}=this.props;clearTimeout(this.timer),e?.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){e.has_pulsar=null==e.has_pulsar||e.has_pulsar,e.has_tooltip=null==e.has_tooltip||e.has_tooltip}getText(e,t,i){return(t&&e.text.replace("{boardName}",t),i)?i(e):e.text}render(){let{anchor:e,customWrapper:t,experienceIds:i,boardTextOverride:l,flyoutSize:u,fontSize:c,hasFullWidthButton:p=!0,idealDirection:h,useMasonryFlyout:m,noClickToDismiss:g,onClickComplete:y,onClickDismiss:_,placementId:f,positionRelativeToAnchor:b,shouldSeeReturnToHomeFeedTooltipEdu:v=!1,shouldTimeoutDismiss:S,showCaret:P,textAlign:T,textOverflow:E,textOverrideFn:x,textWeight:w,customizedComplete:k,pulsarZIndex:I,advertiserId:D,dismissButtonLocation:A,dismissButtonColor:R,dismissButtonMarginTop:C}=this.props,O=t||(({children:e})=>m?(0,s.jsx)(r.mh,{children:e}):e);return(0,s.jsx)(n.Z,{eligibleIds:i,eligibleTypes:[8],placementId:f,targeting:D?{advertiserId:parseInt(D,10)}:null,children:({complete:t,dismiss:i,experience:n})=>{let{display_data:{scroll_to_dismiss:f,scroll_to_dismiss_delay_in_seconds:D=0,...L}}=n,F=f&&e,N=()=>{j(),this.timer||(this.timer=setTimeout(i,1e3*D))},j=()=>{F&&(window.removeEventListener("scroll",N),window.removeEventListener("touchmove",N))},M=()=>{j(),t()};if(F&&(window.addEventListener("scroll",N),window.addEventListener("touchmove",N)),this.setDefaultPulsarTooltip(L),!L.has_pulsar&&!L.has_tooltip)return M(),null;S&&L.disappearTime&&L.disappearTime>0&&(this.timer=setTimeout(()=>(N(),null),L.disappearTime));let V=501041===n.experience_id||505086===n.experience_id;return L.has_tooltip&&!L.has_pulsar&&(this.dismissRef.current=N,e?.addEventListener("click",this.dismissCb)),(0,s.jsxs)(a.Fragment,{children:[L.has_pulsar&&(0,s.jsx)(d.Z,{anchor:e,leftOverride:V?342:void 0,onTouch:()=>this.handlePulsarClick(L.has_tooltip,M),paused:this.state.paused,topOverride:V?-5:void 0,zIndex:I&&I.index()}),L.has_tooltip&&(!L.has_pulsar||this.state.paused)&&(L.thumbnail_urls?(0,s.jsx)(o,{anchor:e,dismiss:N,idealDirection:h||"down",text:L.text,thumbnails:L.thumbnail_urls}):(0,s.jsx)(O,{children:(0,s.jsx)(r.J2,{_deprecatedShowCaret:P,anchor:e,color:"deprecatedBlue",idealDirection:h||"down",onDismiss:g?()=>{}:N,positionRelativeToAnchor:!m&&b,shouldFocus:!1,size:u,children:(0,s.jsxs)(r.xu,{column:12,paddingX:v?5:3,paddingY:3,children:[(0,s.jsxs)(r.xv,{align:"right"===T?"end":T,color:"inverse",overflow:E,size:c,weight:w||"bold",children:[this.getText(L,l,x),L.secondary_cta_link&&(0,s.jsx)(r.xu,{display:"inlineBlock",marginStart:1,children:(0,s.jsx)(r.xv,{color:"inverse",size:c,weight:"bold",children:(0,s.jsx)(r.rU,{display:"inlineBlock",href:L.secondary_cta_link.url,target:"blank",underline:"hover",children:L.secondary_cta_link.text})})})]}),L.sub_text&&(0,s.jsx)(r.xu,{paddingY:2,children:(0,s.jsx)(r.xv,{color:"inverse",size:c,children:L.sub_text})}),(L.dismiss_button_text||L.complete_button_text)&&(0,s.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:A||"start",marginTop:C||2,children:[L.dismiss_button_text&&(0,s.jsx)(r.xu,{column:6,marginEnd:1,children:(0,s.jsx)(r.zx,{color:R||"blue",fullWidth:p,onClick:()=>{_&&_(),N()},size:"md",text:L.dismiss_button_text})}),L.complete_button_text&&(0,s.jsx)(r.xu,{column:L.dismiss_button_text?6:12,children:k?(0,s.jsx)(r.iP,{fullHeight:!0,onTap:()=>{M(),y&&y()},rounding:2,children:(0,s.jsx)(r.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"10px"}},display:"flex",justifyContent:"center",padding:2,rounding:2,children:(0,s.jsx)(r.xv,{color:"shopping",weight:"bold",children:L.complete_button_text})})}):(0,s.jsxs)(r.kC,{justifyContent:"center",children:[L.complete_button_cta_url&&(0,s.jsx)(r.ZP,{color:"white",fullWidth:p,href:L.complete_button_cta_url,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),M(),y&&y()},size:"md",target:L.complete_button_cta_url?"blank":null,text:L.complete_button_text}),!L.complete_button_cta_url&&(0,s.jsx)(r.zx,{color:"white",fullWidth:p,onClick:()=>{M(),y&&y()},size:"md",text:L.complete_button_text})]})})]})]})})}))]})}})}}u(c,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},25919:(e,t,i)=>{let a;i.d(t,{Am:()=>_,Ig:()=>g,N:()=>S,Sd:()=>f,YX:()=>v,be:()=>y,fO:()=>p,kd:()=>b,pz:()=>h});var r=i(667294),n=i(216167),s=i(587703),l=i(703404),o=i(957753),d=i(107366),u=i(953565);let c=(e,t,i={})=>(0,u.nP)(`${e}.${t}`,{sampleRate:1,tags:i}),p=(e,t)=>i=>{let a=t?{extra_context:e,targeting:t}:{extra_context:e};return n.Z.create("UserExperiencePlatformResource",a).callGet().then(e=>e.resource_response?i((0,o.OD)(e.resource_response.data)):void 0)},h=(e,t,i,r)=>(s,d)=>{if(t)return Promise.resolve();if(r&&(a=r),1===e.length){let t=e[0],a=d().experiences,r=a[t],n=r?.extraContext||null;if(JSON.stringify(n)===JSON.stringify(i)||(0,l.E3)(r)&&!(i&&Object.keys(i).length>0))return Promise.resolve()}return n.Z.create("UserExperienceResource",{placement_ids:e,extra_context:i||null,targeting:r}).callGet().then(e=>e.resource_response?s((0,o.cL)(e.resource_response.data)):void 0)},m=(e,t,i,r)=>(s,l,d,u=!1,c,h)=>(m,g)=>{let{experiences:y,experiencesMulti:_}=g(),f=null,b=!0;if(u||(f=(b=y[s]&&y[s].experience_id===l)?y[s]:Array.isArray(_[s])&&_[s]?.find(e=>e.experience_id===l)),f&&f.experience_id===l||u&&s&&l){let u=n.Z.create(e,{placed_experience_id:`${s}%3A${l}`,extra_context:c??{},targeting:h}),g=b?o.Yb:o.xW;switch(t){case"dismissed":return u.callDelete().then(()=>{m(g(s,l,t)),m(p(void 0,a)),i&&r&&i({event_type:r,object_id_str:l.toString()})});case"completed":return u.callUpdate().then(()=>{!d&&(m(g(s,l,t)),m(p(void 0,a)),i&&r&&i({event_type:r,object_id_str:l.toString()}))});case"viewed":return m(g(s,l,t)),u.callUpdate().then(()=>{1000162===s&&m(p()),i&&r&&i({event_type:r,object_id_str:l.toString()})});case"completedWithoutHomefeed":return u.callUpdate().then(()=>{d||m(g(s,l,t)),i&&r&&i({event_type:r,object_id_str:l.toString()})})}}return Promise.resolve()},g=()=>{let e=(0,s.Z)(),t=(0,r.useCallback)(m("UserExperienceViewedResource","viewed",e,4503),[e]);return t},y=()=>{let e=(0,s.Z)(),t=(0,r.useCallback)(m("UserExperienceCompletedResource","completed",e,6567),[e]);return t},_=()=>{let e=(0,s.Z)(),t=(0,r.useCallback)(m("UserExperienceResource","dismissed",e,6568),[e]);return t},f=()=>{let e=(0,s.Z)(),t=(0,r.useCallback)(m("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e]);return t},b=(e,t)=>(i,a)=>{let{experiences:r}=a(),n=r[e];n&&n.triggerable_placed_exps&&n.triggerable_placed_exps.length&&n.triggerable_placed_exps.forEach(i=>{let[,a]=i.split(":"),r=t;n.metadata&&n.metadata[a]&&(r={...t,...n.metadata[a]}),(0,d.Z)({url:`/v3/experiences/${i.replace(":","%3A")}/trigger/`,method:"PUT",data:r?{extra_context:JSON.stringify(r,null,1)}:{}}).then(()=>{c("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:a})})})},v=e=>(t,i)=>{t(b(e));let{experiences:a}=i();return a[e]},S=(e,t,i)=>r=>{i&&(a=i),r(b(e,t)),t&&Object.keys(t).length>0&&r(h([e],!1,t,i))}},703404:(e,t,i)=>{i.d(t,{A0:()=>o,E3:()=>s,MQ:()=>l,fL:()=>d});var a=i(883119),r=i(862249),n=i(785893);function s(e){return!!e&&0!==e.type}let l=(e,t,i)=>{let a=e[i];return t[i]&&s(a)?a:null};function o(e){return e.display_data?.anchor}let d=e=>{let t=new DOMParser,i=t.parseFromString(e,"text/html"),s=[...i.body?.childNodes||[]].map(e=>{if("A"!==e.nodeName)return(0,n.jsx)(a.xv,{inline:!0,children:e.textContent});{let t=e.href||"",i=(0,r.Z)({url:t});return(0,n.jsx)(a.rU,{display:"inline",externalLinkIcon:i?"default":"none",href:t,rel:i?"nofollow":"none",target:"blank",children:e.textContent})}});return(0,n.jsx)(a.xv,{inline:!0,children:s})}},26616:(e,t,i)=>{i.d(t,{$S:()=>a,V$:()=>r,_4:()=>s,iY:()=>l,mR:()=>n});let a="REFRESH_ALL_EXPERIENCES_MULTI",r="UPDATE_EXPERIENCE_MULTI",n="FETCH_EXPERIENCES",s="REFRESH_ALL_EXPERIENCES",l="UPDATE_EXPERIENCE"},957753:(e,t,i)=>{i.d(t,{NW:()=>l,OD:()=>d,Yb:()=>o,cL:()=>u,xW:()=>s});var a=i(216167),r=i(26616);let n=e=>({type:r.$S,payload:{experiencesMulti:e}}),s=(e,t,i)=>({type:r.V$,payload:{placementId:e,experienceId:t,status:i}}),l=e=>t=>a.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t(n(e.resource_response.data)):void 0),o=(e,t,i)=>({type:r.iY,payload:{placementId:e,experienceId:t,status:i}}),d=e=>({type:r._4,payload:{experiences:e}}),u=e=>({type:r.mR,payload:{experiences:e}})},76561:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(883119),r=i(667294),n=i(785893);let s=(e,t,i,a)=>({horizontalOffset:-(a/2-t/2),verticalOffset:-(i/2-e/2)});function l({anchor:e,children:t,zIndex:i,leftOverride:l,topOverride:o}){let d=(0,r.useRef)(null),[u,c]=(0,r.useState)(0),[p,h]=(0,r.useState)(0),{height:m,width:g}=e.getBoundingClientRect();return(0,r.useEffect)(()=>{let{current:t}=d;if(e&&t){let{height:e,width:i}=t.getBoundingClientRect(),{horizontalOffset:a,verticalOffset:r}=s(m,g,e,i);c(a),h(r)}}),(0,n.jsx)(a.xu,{ref:d,dangerouslySetInlineStyle:{__style:{left:l||u,top:o||p}},"data-test-id":"center-box",position:"absolute",zIndex:i?new a.Ry(i):void 0,children:t})}let o=function(e){let{anchor:t,leftOverride:i,onTouch:r,onMouseEnter:s,paused:o,size:d,topOverride:u,zIndex:c}=e;return t?(0,n.jsx)(l,{anchor:t,leftOverride:i,topOverride:u,zIndex:c,children:(0,n.jsx)(a.iP,{fullWidth:!1,onMouseEnter:s,onTap:({event:e})=>r(e),rounding:"circle",children:(0,n.jsx)(a.o3,{paused:o,size:d})})}):null}},306781:(e,t,i)=>{i.d(t,{Z:()=>a});let a="M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},233186:(e,t,i)=>{i.d(t,{Z:()=>a});let a="M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},262032:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(667294),r=i(883119);let n=(0,a.createContext)();var s=i(785893);function l(e){(0,a.useContext)(n);let{alt:t,color:i,children:l,crossOrigin:o,decoding:d,elementTiming:u,fetchPriority:c,fit:p,loading:h,naturalHeight:m,naturalWidth:g,onError:y,onLoad:_,role:f,sizes:b,src:v,srcSet:S}=e;return(0,s.jsx)(r.Ee,{alt:t,color:i,crossOrigin:o,decoding:d,elementTiming:u,fetchPriority:c,fit:p,loading:h,naturalHeight:m,naturalWidth:g,onError:y,onLoad:_,role:f,sizes:b,src:v,srcSet:S,children:l})}},930837:(e,t,i)=>{i.d(t,{ZP:()=>d,b7:()=>s.b7,bN:()=>l,p4:()=>o});var a=i(240684),r=i(554786),n=i(785893),s=i(844683);let l=(0,a.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(51879).then(i.bind(i,980536)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return i(t)},resolve:()=>980536}),o=(0,a.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(72430).then(i.bind(i,119936)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return i(t)},resolve:()=>119936});function d(e){let t=(0,r.ZP)(),i=void 0===e.isOpen||e.isOpen;if("desktop"===t&&i){let{isOpen:t,mobileAccessibilityCloseIconLabel:i,mobileAllowScroll:a,mobileHideCloseIcon:r,mobileIsFullscreen:s,mobileIsSlideUp:o,type:d,mobileIsFooter:u,zIndex:c,...p}=e;return(0,n.jsx)(l,{...p})}let{allowMediaPlay:a,allowScroll:s,role:d,size:u,_dangerouslyDisableScrollBoundaryContainer:c,...p}=e;return(0,n.jsx)(o,{...p,isOpen:i})}},844683:(e,t,i)=>{i.d(t,{JN:()=>d,Vf:()=>u,ZM:()=>l,b7:()=>s,i_:()=>o});var a=i(883119),r=i(696534),n=i(69979);let s=new a.Ry(1e3),l=new a.H3([n.Z]),o=12,d=({variant:e})=>({__style:"fullscreen"===e?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{border:(0,r.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,r.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"}}),u=({isFullscreen:e,isTablet:t,isShowing:i,isRelatedInterestsModal:a})=>{let n={border:(0,r.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},s=i?"translateY(0)":"translateY(100vh)";return n.height=e?"100vh":"",t&&a&&(n={...n,width:425,left:"50%",transform:"translateX(-50%)"},s=i?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...n,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:s}}}},454514:(e,t,i)=>{i.d(t,{UZ:()=>d,Vg:()=>o,ZP:()=>u});var a=i(667294),r=i(883119),n=i(554786),s=i(494125),l=i(785893);let o=200,d=({deviceType:e,hiding:t,visible:i})=>{let a="desktop"===e,r=0,n=a?"translateY(200px)":"translateY(-200px)",s="opacity 0.1s ease-in-out",l="hidden";return i&&!t&&(r=1,n="translateY(0)",s="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",l="visible"),i&&t&&(n="scale(1.1)",s="opacity transform 0.2s"),{opacity:r,pointerEvents:"auto",position:"relative",marginTop:a?10:0,transform:n,transition:s,visibility:l}};function u({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:i,primaryAction:u,dismissButton:c,helperLink:p,thumbnail:h,type:m,dataTestId:g,duration:y=2e3,onHide:_,href:f,onClick:b,openNewPage:v,imageUrl:S}){let P;let T=(0,n.ZP)(),[E,x]=(0,a.useState)(!1),[w,k]=(0,a.useState)(!1),I=(0,a.useRef)(),D=()=>{x(!0),I.current=setTimeout(_,o)},A=()=>{I.current=setTimeout(D,y)},R=()=>{I.current&&clearTimeout(I.current)};(0,s.Z)(()=>(setTimeout(()=>k(!0),100),A(),R)),S&&(P={image:(0,l.jsx)(r.Ee,{alt:"string"==typeof i?i:`${i[0]} ${i[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:S})});let C=(0,l.jsx)(r.FN,{_dangerouslySetPrimaryAction:t,_dangerouslySetThumbnail:e,dismissButton:c,helperLink:p,primaryAction:u,text:i,thumbnail:P??h,type:m}),{marginTop:O,opacity:L,pointerEvents:F,position:N,transform:j,transition:M,visibility:V}=d({deviceType:T,hiding:E,visible:w});return(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:j,transition:M,visibility:V,pointerEvents:F}},"data-test-id":g??"toast",display:"flex",marginTop:O,onMouseEnter:R,onMouseLeave:A,opacity:L,position:N,children:f?(0,l.jsx)(r.Tg,{href:f,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{f.startsWith("#")&&(e.preventDefault(),t()),b?.(e)},rounding:"pill",target:v?"blank":null,children:C}):C})}},205841:(e,t,i)=>{i.d(t,{qE:()=>l,u_:()=>o.ZP});var a=i(883119),r=i(785893);let n=(e,t)=>{let i=e?.includes("images/user/default");return!!(i&&t)};function s({accessibilityLabel:e,name:t,outline:i,size:s,src:l,verified:o}){return(0,r.jsx)(a.qE,{accessibilityLabel:e,name:t,outline:i,size:s,src:n(l,t)?void 0:l,verified:o})}s.displayName="Avatar";let l=s;var o=i(930837);i(454514)},895409:(e,t,i)=>{i.d(t,{b:()=>r});let a=({height:e,url:t,width:i})=>({height:e,url:t,width:i}),r=e=>Object.entries(e).reduce((e,[t,i])=>({...e,[t]:i&&a(i)}),{})},807023:(e,t,i)=>{i.d(t,{Q:()=>s});var a=i(167912),r=i(91402),n=i(333739);function s(e,t,{useLegacyAdapter:i}){if(null==t)return{data:null,childDataKey__DEPRECATED:null};let s=(0,r.j)(t);if("deprecated"===s.type){let{data:t}=s;return null==t?{data:null,childDataKey__DEPRECATED:s}:{data:(0,n.V4)(e,i)(t),childDataKey__DEPRECATED:s}}let l=(0,a.useFragment)(e,s.data);return{data:l,childDataKey__DEPRECATED:{type:"graphqlRef",data:l}}}},213377:(e,t,i)=>{i.d(t,{$H:()=>s,$q:()=>f,D6:()=>d,KN:()=>v,Lo:()=>r,P2:()=>g,TS:()=>S,Wv:()=>b,ZZ:()=>c,g5:()=>p,jC:()=>l,lX:()=>m,nW:()=>h,oX:()=>y,qG:()=>_,tG:()=>n,yF:()=>a,yc:()=>u,yt:()=>o});let a=236,r=2*a/3,n=175,s=24,l=4,o=8,d=2,u=2,c=14,p=16,h=12,m=16,g=24,y=16,_=-1,f=(e=!1,t=!1)=>e?t?m:h:g,b=({contentVisibleItemCount:e,gap:t,width:i})=>e||i?(i-(e-1)*t)/e:a,v=(e,t,i,a,r=c)=>{let n=e+r,s=`
@media (min-width: ${t*n}px) and (max-width: ${(i+1)*n-1}px) {
  ${a}
}
`;return s},S=(e,t,i)=>{let r=i?3:2,s=t?5:r,l=t?a:n,d=t?y:o,u=l*s+d*s-(t?12:!t&&i?12:6);if(!e)return u;for(let t=s;t>=2&&!(e>u);t-=1)u=l*t+d*t;return u}},388769:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(72461),r=i(5859),n=i(785893);let s=({currency:e,maximumFractionDigits:t,minimumFractionDigits:i,shortform:s,shortformMaximumFractionDigits:l,formatStyle:o,uplimit:d,value:u})=>{let c=(0,a.Z)();return(0,n.jsx)(r.LC,{children:a=>c(a.locale||"en-US",u,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:i,shortform:s,shortform_maximum_fraction_digits:l,style:o,uplimit:d})})}},140017:(e,t,i)=>{i.d(t,{ZP:()=>l,oz:()=>n,q6:()=>r});var a=i(342513);let{Provider:r,Consumer:n,useHook:s}=(0,a.Z)("i18n"),l=s},72461:(e,t,i)=>{i.d(t,{Z:()=>d});var a=i(140017),r=i(427514);let n=(e,t)=>{let i=t||0,a=10**i,r=+(i?e*a:e).toFixed(8),n=Math.floor(r),s=r-n,l=s>.49999999&&s<.50000001?n%2==0?n:n+1:Math.round(r);return i?l/a:l},s=({maximumFractionDigits:e,minimumFractionDigits:t,style:i,currency:a})=>{let r={maximumFractionDigits:e,minimumFractionDigits:t};return i?{...r,style:i,..."currency"===i?{currency:a,currencyDisplay:"symbol"}:{}}:r},l=e=>{try{0..toLocaleString([e])}catch(e){return!1}return!0},o=(e,t)=>{if(t){let{minimumFractionDigits:i,maximumFractionDigits:a}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==i&&void 0!==a)return{minimumFractionDigits:i,maximumFractionDigits:a}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function d(){let e=(0,a.ZP)();return(t,i,a)=>{let d=0,u=0,c=a&&a.style||void 0,p=a&&a.shortform||!1,h=a&&a.uplimit||void 0,m=a&&a.currency||void 0,g=!!h&&i>=h,y=h&&g?h:i;if("currency"===c){let{minimumFractionDigits:e,maximumFractionDigits:i}=o(t,m);d=void 0===a||void 0===a.maximum_fraction_digits?i:a.maximum_fraction_digits,u=void 0===a||void 0===a.minimum_fraction_digits?e:a.minimum_fraction_digits}else d=void 0===a||void 0===a.maximum_fraction_digits?0:a.maximum_fraction_digits,u=void 0===a||void 0===a.minimum_fraction_digits?0:a.minimum_fraction_digits;if(p&&y>999&&(d=void 0===a||void 0===a.shortform_maximum_fraction_digits?2:a.shortform_maximum_fraction_digits,u=0),d<u)return String(y);let _=y,f="",b=[{"100M":{value:1e8,localeKey:e._('億', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('万', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],v=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],S=/^zh|ja|ko/.test(t);if(p&&y>999){let e=S?b:v;for(let t=0;t<e.length;t+=1){let i=Object.keys(e[t])[0],a=e[t][i].value;if(y>=a){_=n(y/a*Math.pow(10,d))/Math.pow(10,d),f=e[t][i].localeKey;break}}}if(null==_)return"";let P=_.toLocaleString([l(t)&&"ar-SA"!==t?t:"en-US"],s({maximumFractionDigits:d,minimumFractionDigits:u,currency:m,style:c}));return f&&f.length>0?(0,r.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:P,numberSuffix:f})+(g?"+":""):P+(g?"+":"")}}},666472:(e,t,i)=>{i.d(t,{F:()=>u,Z:()=>d});var a=i(667294),r=i(263032),n=i(214877),s=i(30378),l=i(369708);let o={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054}};function d({carouselData:e,closeupImpressionType:t,closeupNavigationType:i,componentType:d,contextLogData:u,clientTrackingParams:c,elementType:p,impressionAuxFields:h,inImpressionExp:m,impressionType:g,impressionsFramework:y,isPaused:_,loggingId:f,objectIdStr:b,slotIndex:v,trackCarousel:S,viewData:P,viewParameter:T,viewType:E,isPromoted:x,storyPinProductEventData:w,pinData:k}){let{logContextEvent:I}=(0,n.v)(),{logMrcVideoAdEventOnPlay:D}=(0,l.rG)(),A=y||s.Z,R=(0,a.useRef)(null),C=a=>{let n=o[g],s=n.idType,l={clientTrackingParams:c,endTime:a.endTime,[s]:f,slotIndex:v,time:a.startTime,renderDuration:a.endTime-a.startTime,type:t,...h,forcedExit:"removed"===a.forcedExit?0:void 0},m={};if("Pin"===g&&(l={...l,pinCellWidth:R.current?.getBoundingClientRect().width||0,pinCellHeight:R.current?.getBoundingClientRect().height||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight},h?.chromeAraViewExp&&k&&k.isPromoted)){let{attributionSourceId:e}=k;(0,r.YS)(g,k.isPromoted??null,e??null,k.link??null,k.campaignId??null,h.araAuxData??null,k.advertiserId??null,k.domain??null,k.adDestinationUrl??null,h?.araHardcodedReportingUrlExp),m={is_arapi:!0,attribution_source_id:e||""}}let y={component:d,object_id_str:b,view_type:E,view_data:P||{},view_parameter:T};if(S)e&&S&&I({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...l,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...y,aux_data:{...u,...m}});else{let e={clientTrackingParams:c,event_type:n.eventType,...y,element:p,event_data:{[n.impressionType]:"Story"===g?l:[l],...w?{storyPinProductEventData:w}:{}},aux_data:{closeup_navigation_type:i,...u,...m}};I(e),D(e)}},O=(0,a.useCallback)(()=>{try{let{current:e}=R;e instanceof HTMLElement&&(!x||e.getElementsByTagName("img").length>0)&&A.start(e).onExitViewport(C).setDebugId(f||"unknown")}catch{window.console.error('Can only track impressions for type "HTMLElement"')}},[R.current]);return(0,a.useEffect)(()=>(m&&!A.inExperiment&&A.setExperimentStatus(!0),_||O(),()=>{let{current:e}=R;e instanceof HTMLElement&&(!x||e.getElementsByTagName("img").length>0)&&A.stop(e)}),[_,O]),R}let u=({children:e,...t})=>e({impressionTrackerRef:d(t)})},307772:(e,t,i)=>{function a(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z3:()=>c,LU:()=>p,ZP:()=>h});let r=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,n={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},s={},l={background:"#FF8A8A",transform:"scale(.98)"},o={init:e=>({transform:`scale(${s[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[n.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[n.exit]:l,[n.stopped]:l,[n.paused]:l,[n.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){a(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),a(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),a(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),a(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){let e=Date.now();this.startTime=e,this._debug(n.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach(e=>e())}else!t&&this.inViewport&&(this._debug(n.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON())));this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,r&&Object.assign(this.node.style,o.init(e)),this}pause(){return this.inViewport&&(this._debug(n.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(n.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(n.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`}}_debug(e,t){if(r)switch(window.console.log(`📌 ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),o[e]&&Object.assign(this.node.style,o[e]),e){case n.flushed:case n.paused:case n.exit:s[this.debugId]=!0}}}function u(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let c=!0,p=!1;class h{constructor(){u(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),u(this,"_handleMutations",(e,t)=>{let i=this.mutationObservers.get(t),a=i&&i.offsetHeight<1;a&&i&&this.stop(i,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let i=this.activeImpressions.get(e);i&&(i.stop(t),this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);return t||(t=new d(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer.observe(e),t.setMutationObserver(new window.MutationObserver((e,t)=>this._handleMutations(e,t))),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),t}pause(e=c){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==p||(this.pausePriority=e))}resume(e=c){(e!==p||this.pausePriority!==c)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=p)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:i}=t.getBoundingClientRect();return i>e?i:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:i}=t.getBoundingClientRect();return i<e?i:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let i={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},30378:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(307772);let r=new a.ZP},339001:(e,t,i)=>{i.d(t,{Wc:()=>o,bF:()=>u,nk:()=>l,r7:()=>c});var a=i(667294),r=i(785893);function n(e,t,i){return e.split(i).map(e=>{if(e.match(i)){let i=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,i))return t[i]}return e})}let s=/(\{\{\s*\w+\s*\}\})/g;function l(e,t){return n(e,t,s)}function o(e,t){return n(e,t,s).join("")}let d=/(\{\s*\w+\s*\})/g;function u(e,t){return n(e,t,d)}let c=({text:e})=>Array.isArray(e)?e.map((e,t)=>(0,r.jsx)(a.Fragment,{children:e},t)):e},263148:(e,t,i)=>{i.d(t,{Se:()=>_,iw:()=>b,gV:()=>g,G3:()=>v,Gj:()=>f,Jd:()=>m,$3:()=>y});var a=i(29156),r=i(658583),n=i(622541),s=i(107366),l=i(460270);let o=e=>"string"!=typeof e&&e?e.state:null;var d=i(337478),u=i(940910),c=i(998449),p=i(797258),h=i(467139);let m=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},g=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),y=({location:e,pinId:t,surface:i})=>!!i&&!h.ZF.includes(i)||e.pathname.includes(t),_=(e,t)=>{let i=Math.round(1e3*Math.random())+"",a=Math.round(1e3*Math.random())+"";r.t8((0,n.GS)(i),a);let s={token:`${i}-${a}`,url:e,...t&&!t.params?t.queryParams:t?.params&&{pin:t.params.pinId??void 0,isThirdPartyAd:t.params.isThirdPartyAd??void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,d.Z)(s)}`},f=(e,t)=>{(0,a.Z)(_(e,t),!0,t?.features)},b=async({clientTrackingParams:e,href:t,isMounted:i,pinId:a,spamCheckCallback:r})=>{let n=await (0,s.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e,pin_id:a,url:t}});if(!n.resource_response.error&&i){let e=n.resource_response.data||{},{message:t,redirect_status:i,url:a}=e,s=["blocked","suspicious","porn"].includes(i);r({blocked:s,message:t,redirectStatus:i,sanitized_url:a})}},v=({event:e,onHistoryChange:t,href:i,history:r,target:n})=>{let s=(0,l.Z)(i),d=o(i)??{},h=(0,u.Z)(s);h===p.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===n?(0,a.Z)(s,"blank"===n):r&&h===p.Z.SAME_ORIGIN&&(r.push((0,c.Z)({url:s}),{from:r.location,...d}),t&&t({event:e}))}},340370:(e,t,i)=>{i.d(t,{Z:()=>p});var a=i(667294),r=i(616550),n=i(798580),s=i(263148),l=i(96761),o=i(460270),d=i(862249),u=i(557874),c=i(953565);function p(e){let{externalData:t,href:i,onHistoryChange:p,target:h}=e,[m,g]=(0,a.useState)(null),[y,_]=(0,a.useState)(!1),f=(0,r.k6)(),b=(0,r.TH)(),v=(0,o.Z)(i),S=(0,d.Z)({url:v}),{showWarning:P}=(0,u.s)()??{},{pin:T,surface:E}=t||{},x=T?(0,n.Z)({boardUrl:T.board?.url,location:b,pinId:T.entityId,pinnerUserName:T.pinner?.username,storyPinDataId:T.storyPinDataId,trackingParams:T.trackingParams,trackingParamsMap:T.trackingParamsMap}):null,w=(0,l.Z)();return(0,a.useEffect)(()=>(_(!0),()=>{_(!1)}),[]),(0,a.useEffect)(()=>{S&&T&&null===m&&y&&(!T.promoter||T.isDownstreamPromotion)&&(0,s.$3)({location:b,pinId:T.entityId,surface:E})&&(0,s.iw)({clientTrackingParams:x,isMounted:y,pinId:T.entityId,spamCheckCallback:e=>g(e),href:v})},[x,T,E,v,S,y,b,m]),({event:e})=>{if(!(0,s.gV)({isOffsiteUrl:S,event:e})){if(e.preventDefault(),!i||"string"==typeof i&&i.startsWith("#")){(0,c.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:b.pathname,href:i}});return}S||t?.dangerouslyForceOffsiteUrl?w({auxData:t?.auxData,clientTrackingParams:x,pin:t?.pin&&{attributionSourceId:t.pin.attributionSourceId,campaignId:t.pin.campaignId,isPromoted:t.pin.isPromoted,pinPromotionId:t.pin.pinPromotionId,isThirdPartyAd:t.pin.isThirdPartyAd,advertiserId:t.pin.advertiserId,destinationUrl:t.pin.destinationUrl,link:t.pin.link,domain:t.pin.domain},pinId:t?.pin?.entityId,queryParams:t?.queryParams,showWarning:P,spamCheck:m,url:v}):(0,s.G3)({event:e,href:i,history:f,onHistoryChange:p,target:"blank"===h?"blank":null})}}}},96761:(e,t,i)=>{i.d(t,{Z:()=>h});var a=i(453880),r=i(934378),n=i(263032),s=i(86785),l=i(214877),o=i(263148),d=i(171966);let u=(e,t,i)=>{let a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("target","_blank"),a.setAttribute("rel","noopener nofollow noreferrer"),a.style.cursor="pointer",a.style.display="block",a.setAttribute(r.$N.ATTRIBUTION_SOURCE_ID,e),a.setAttribute(r.$N.ATTRIBUTE_DESTINATION,i),a.setAttribute(r.$N.ATTRIBUTE_ON,i),a.click()},c=(e,t,i,a,s,l,o,d)=>{let u=(0,n.m_)(e,[i,a,s],!0,l,o,d),c=document.createElement("a");c.setAttribute("href",t),c.setAttribute("target","_blank"),c.setAttribute("rel","noopener nofollow noreferrer"),c.style.cursor="pointer",c.style.display="block",c.setAttribute(r.NR.SOURCE,u),c.click()},p=()=>{let{logContextEvent:e}=(0,l.v)();return({attributionSourceId:t,auxData:i,campaignId:r,clientTrackingParams:n,href:l,isPromoted:d,pinId:p,pinPromotionId:h,isThirdPartyAd:m,advertiserId:g,destinationUrl:y,link:_,domain:f})=>{if(!d)return!1;let b=(0,a.Z)(),v=(0,o.Se)(l,{params:{pinId:p,csrId:null,clientTrackingParams:n,auxData:i,isThirdPartyAd:m}}),S=b?.userAgent.browserName??"";if((0,s.G6)(S)){let{group:i}=b?.experimentsClient.checkExperiment("m10n_event_conversion_measurement")??{},a=b?.userAgent.browserVersion?b.userAgent.browserVersion:"0.0",s=parseFloat(a.split(".")[0]+"."+a.split(".")[1]);if(t&&s>=14.1&&["enabled_safari"].includes(i))return u(t,v,l),e({event_type:101,clientTrackingParams:n,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:h||"",click_measurement_campaign_id:r||"",is_pcm:!0,attribution_source_id:t,page_url:l}}),!0}else if((0,s.i7)(S)&&window.document.featurePolicy?.allowsFeature("attribution-reporting"))return c(t,v,y,_,f,r,g,b?.experimentsClient.checkExperiment("m10n_ara_hardcoded_reporting_url").anyEnabled),e({event_type:101,clientTrackingParams:n,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:h||"",click_measurement_campaign_id:r||"",is_arapi:!0,attribution_source_id:t,page_url:l}}),!0;return!1}},h=e=>{let t=p();return({auxData:i,clientTrackingParams:a,pin:r,pinId:n,queryParams:s,showWarning:l,spamCheck:u,url:c})=>{if("undefined"!=typeof window&&window.Windows){(0,d.Z)(c,{clientTrackingParams:a,pinId:n,hasPin:!!r,auxData:i,isThirdPartyAd:r?.isThirdPartyAd});return}if(!r&&!e?.isFromClickthroughLink){(0,o.Gj)(c,s?{queryParams:s}:{params:{pinId:n}});return}if(u?.blocked){l?.(u);return}r&&t({attributionSourceId:r.attributionSourceId,auxData:i,campaignId:r.campaignId?String(r.campaignId):null,clientTrackingParams:a,href:c,isPromoted:r.isPromoted,pinId:n,pinPromotionId:r.pinPromotionId?String(r.pinPromotionId):null,isThirdPartyAd:r.isThirdPartyAd,advertiserId:r.advertiserId?r.advertiserId:null,destinationUrl:r.destinationUrl,link:r.link,domain:r.domain})||(0,o.Gj)(c,{params:{clientTrackingParams:a,auxData:i,pinId:n,isThirdPartyAd:r?.isThirdPartyAd}})}}},891162:(e,t,i)=>{i.d(t,{Q6:()=>c,ZP:()=>o,qe:()=>d,yU:()=>u});var a=i(520893);let r=(e,t)=>e.length===t.length&&e.every((e,i)=>e===t[i]),n=e=>e;function s(e,t=r,i=n){return function(a){let r=[];return function(...n){let s=r.find(e=>t(e.args,i(n)));if(s)return s.result;let l=a(...n);return r.push({args:i(n),result:l}),e&&r.length>e&&r.shift(),l}}}let l=s(),o=l,d=s(1),u=s(void 0,r,e=>[JSON.stringify(e)]),c=s(0,(e,t)=>e.length===t.length&&e.every((e,i)=>(0,a.Z)(e,t[i])))},705895:(e,t,i)=>{function a(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:()=>s});let r=new class{constructor(){a(this,"onResumeListeners",[]),a(this,"onPauseListeners",[]),a(this,"inExp",!1),a(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},n=e=>{if(e.isHidden){let{reason:t}=e;r.windowInFocus=!1,r.onPauseListeners.forEach(e=>e(t))}else r.windowInFocus=!0,r.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>n({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>n({isHidden:!1})),window.addEventListener("blur",()=>n({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>n({isHidden:!1})),window.addEventListener("pagehide",()=>n({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>n(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>n(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let s=r},735922:(e,t,i)=>{i.d(t,{Z:()=>y}),i(167912);var a,r=i(883119),n=i(419075),s=i(205841),l=i(207012),o=i(140017),d=i(558273),u=i(340523),c=i(785893);let p={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px"},h={sm:{...p,padding:"0 6px"},lg:{...p,padding:"4px 8px"},xl:{...p,height:"32px",padding:"4px"}};function m({backgroundColor:e,identifier:t,size:i="sm"}){let a=h[i];return(0,c.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{...a,backgroundColor:e?"pine"===e?"#0FA573":"#fff":"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",display:"inlineBlock",children:t})}let g=void 0!==a?a:a=i(961e3);function y({allowProductCarousel:e,allowShoppingPriceIndicator:t,pinKey:i,pinOwner:a,shoppingLabelColor:p,showUserIndicator:h,size:y="sm",surface:_}){let f=(0,o.ZP)(),b=(0,l.Z)(g,i),v=!!b?.carouselData?.entityId,S=(b?.embed||b?.attribution?.embed)?.type==="gif",P=b?.richSummary?.typeName==="product",T=!!b?.storyPinDataId,E=!!b?.videos?.videoList,x=!!b?.promoter&&!b.isDownstreamPromotion,{checkExperiment:w}=(0,u.F)();if(h&&a){let{image_small_url:e,full_name:t=""}=a,i=(0,c.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[e&&(0,c.jsx)(s.qE,{name:t,size:"xs",src:e}),(0,c.jsx)(r.xu,{alignItems:"center",display:"flex",marginStart:1,children:(0,c.jsx)(r.JO,{accessibilityLabel:f._('Pin', 'pin.pinTypeIdentifier.taggedProduct', 'identifier that shows the pin type'),color:"default",icon:"tag",inline:!0,size:14})})]});return m({identifier:i,size:"xl",backgroundColor:"white"})}if(S)return m({identifier:"GIF",size:y});if(T&&b?.shouldOpenInStream!==!1){let e=b?.storyPinData?.staticPageCount??0,t=b?.storyPinData?.totalVideoDuration??0;if(x&&w("ads_iad_dweb").anyEnabled||"ShoppingGridSmallCarousel"===_||0===t&&e<=1)return null;{let i=t+e*d.oN,a=(0,n.Z)(i);return m({identifier:a,size:y})}}if(E){let{videos:e}=b??{},t=e?.duration??0;return m({identifier:(0,n.Z)(t),size:y})}if(P){let e=b?.richSummary&&b.richSummary.products&&b.richSummary.products[0]&&b.richSummary.products[0].offerSummary;if(t){let t=e&&(e.price||e.maxPrice);return t?m({identifier:t,size:y}):null}if(!p)return null;{let e=(b?.richSummary?.products?.[0]||{}).labelInfo?.labels?.[0];return e?m({identifier:e,backgroundColor:p,size:y}):null}}if(e){let e=b?.productPinData&&b.productPinData.items&&b.productPinData.items[0],t=(b?.imageSpec_orig?1:0)+(e?.additionalImagesLength??0),i=b?.carouselData?.index??0;return m({identifier:`${i+1}/${t}`,size:y})}if(v){let e=b?.carouselData?.carouselSlots??[],t=b?.carouselData?.index??0;return m({identifier:`${t+1}/${e.length}`,size:y})}return null}},510972:(e,t,i)=>{i.d(t,{P:()=>g,t:()=>y});var a=i(216167),r=i(107366);let n=()=>{};async function s({board_id:e},t,i){await (0,r.Z)({url:`/v3/boards/${e??""}/follow/`,method:"DELETE"}),i({event_type:27,object_id_str:e}),t()}async function l({board_id:e},t,i){await (0,r.Z)({url:`/v3/boards/${e??""}/follow/`,method:"PUT"}),i({event_type:26,object_id_str:e}),t()}async function o(e,t){let i=a.Z.create("UserFollowResource",e);await i.callDelete(),t()}async function d(e,t){let i=a.Z.create("UserFollowResource",e);await i.callCreate(),t()}async function u(e,t,i){let r=a.Z.create("InterestFollowResource",e);await r.callDelete(),t(),i({event_type:602,object_id_str:e.interest_id})}async function c(e,t,i){let r=a.Z.create("InterestFollowResource",e);await r.callCreate(),t(),i({event_type:601,object_id_str:e.interest_id})}async function p(e,t){let i=a.Z.create("PinFeedbackResource",e);await i.callUpdate(),t()}async function h(e,t){let i=a.Z.create("PinFeedbackResource",e);await i.callUpdate(),t()}let m={complaint:p,followBoard:l,followPinner:d,followTopic:c,newsHubPinHide:function(e,t){let i=(0,r.Z)({url:e.undo?`/v3/news_hub/${e.news_id??""}/pin/${e.pin_id??""}/undo/`:`/v3/news_hub/${e.news_id??""}/pin/${e.pin_id??""}/hide/`,method:"PUT"});i.then(()=>t()),p({feedback_type:1,pin_id:e.pin_id,...e},t)},promotedComplaint:h,relatedPinHide:function(e,t){let i=(0,r.Z)({url:e.undo?`/v3/p2p/${e.pin??""}/unhide/`:`/v3/p2p/${e.pin??""}/hide/`,method:"PUT"});i.then(()=>t()),p({feedback_type:1,pin_id:e.pin,...e},t)},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:s,unfollowPinner:o,unfollowTopic:u,unrelatedSearchPin:function(e,t){let i=(0,r.Z)({url:e.undo?`/v3/search/${e.pin_id??""}/unhide/`:`/v3/search/${e.pin_id??""}/hide/`,method:"PUT",data:{query:e.query,pin_type:e.pin_type}});i.then(()=>t()),p({feedback_type:1,...e},t)}},g=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function y(e,t={},i=n,a){let r=e?m[e]:null;return r?r(t,i,a):i()}},899394:(e,t,i)=>{i.d(t,{EF:()=>p,Iv:()=>d,Ud:()=>o,hP:()=>l,nb:()=>c,oK:()=>u});var a=i(339001),r=i(510972),n=i(555933);let s=e=>e.length>32?`${e.substring(0,32).trim()}...`:e;function l({boardFollowedByMe:e,feedbackType:t,viewParameter:i,promotion:a,recommendationReason:r,pinnerFollowedByMe:n}){if(a&&!a.isDownstreamPromotion)return"promoted";if(t)return t;if(r){if("FOLLOWED_INTEREST"===r.reason)return"topic";if("FOLLOWING_FEED"!==r.reason&&"RECENT_FOLLOWED_BOARD"!==r.reason)return r.hasBoard?"pfyBoard":"pfy"}if(e||n)return"followed";switch(i){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";default:return"default"}}function o({feedback:e,i18n:t,makeNavigateLink:i}){switch(e.type){case"pfy":return t._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":let{recommendationReasonBoard:r}=e;return r?(0,a.nk)(t._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:i("navigation",r.url,r.name)}):null;case"topic":let{sourceInterest:n}=e;return n?(0,a.nk)(t._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:i("topicUrl",`/topics/${n.url_name}`,n.name)}):null;case"followed":let{followed:l}=e,o="pinner"===l.type?(0,a.nk)(t._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:i("pinnerUrl",`/${l.pinner?.username??""}`,s(l.pinner?.full_name??""))}):(0,a.nk)(t._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:i("boardUrl",l.board?.url??"",s(l.board?.name??""))});return o;case"promoted":let{promotedIsPersonalized:d,isEligibleForPromotedPartnership:u,promotedPartnershipAttributionName:c,promotedPartnershipAdvertiserName:p}=e.thirdPartyAdAttributes||{};if(!d&&u)return(0,a.nk)(t._('{{ promotedPartnershipAdvertiserName }} paid, through a partnership with {{ promotedPartnershipAttributionName }}, to have this Pin show up where you\'d be more likely to notice it', 'feedbackHelpers.getRecommendationDescription.promoted.thirdParty', 'Recommendation description for ads with promoted partnership. promotedPartnershipAdvertiserName:Name of advertiser, promotedPartnershipAttributionName:Name of promoted partner'),{promotedPartnershipAdvertiserName:p,promotedPartnershipAttributionName:c});if(!e.promoter||d)return t._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');{let{full_name:r,username:n}=e.promoter,s=i("promotedLink",n?"/"+n+"/":"/",r);return(0,a.nk)(t._('{{ promoterLink }} paid to have this Pin show up where you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:s})}default:return null}}function d({sourceInterest:e,i18n:t,makeNavigateLink:i}){return{action:"unfollowTopic",actionOptions:{interest_id:e.id,interest_list:n.X},title:"",subTitle:(0,a.nk)(t._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:i("topicUrl",`/topics/${e.url_name??""}`,e.name??"",!0)})}}function u({boardId:e,display:t,i18n:i,makeNavigateLink:r}){return{action:"unfollowBoard",actionOptions:{board_id:e},title:"",subTitle:"pinner"===t.type?(0,a.nk)(i._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:r("pinnerUrl",`/${t.data.username??""}`,t.data.full_name??"",!0)}):(0,a.nk)(i._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:r("boardUrl",t.data.url??"",t.data.name??"",!0)})}}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function p(e,t,i,a,n,s){return()=>{let l={...e,undo:!0},o=t;"unfollowPinner"===t?o="followPinner":"unfollowBoard"===t?o="followBoard":"unfollowTopic"===t&&(o="followTopic"),(0,r.t)(o,l,void 0,s),n(),s({event_type:101,component:0,element:11181,view_type:i??void 0,view_parameter:a})}}},558273:(e,t,i)=>{i.d(t,{NK:()=>y,P6:()=>n,ZE:()=>m,Zt:()=>g,_J:()=>o,_S:()=>_,cL:()=>p,jL:()=>l,oN:()=>r,rM:()=>h,sV:()=>d,sY:()=>u});var a=i(115557);let r=5e3,n=r/a.gJ,s=["Uploaded by user"],l=(e,t)=>!!t&&!e,o=e=>!!e&&5!==e,d=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,c=e=>"pinstory"===e,p=({embedSrc:e,embedSubtype:t,embedType:i})=>!!e&&!u(i)&&!c(t),h=({link:e,mobileLink:t,trackedLink:i})=>!t&&!i&&!e,m=e=>/pin.it/gim.test(e||""),g=({link:e,mobileLink:t,origImageUrl:i,trackedLink:a})=>t||a||e||i||"",y=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function _(e){for(let t of s)if(e===t)return!1;return!0}},414131:(e,t,i)=>{i.d(t,{Z:()=>a});function a({hasPin:e,hasPinRichMetadata:t,hasPinRichMetadataProducts:i,hasPinRichMetadataArticle:a,hasPinRichMetadataRecipe:r,hasPinStoryPinData:n}){if(e){if(t)return i?144:a?141:r?145:139;if(n)return 157}return 140}},555933:(e,t,i)=>{i.d(t,{X:()=>a});let a="favorited"},612541:(e,t,i)=>{i.d(t,{Z:()=>u});var a=i(883119),r=i(140017),n=i(339001),s=i(629650),l=i(785893);function o(){let e=(0,r.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function d({freeShippingPrice:e}){let t=(0,r.ZP)();return(0,n.nk)(t._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function u({customStyles:e,showPrevDot:t,freeShippingPrice:i,freeShippingValue:r}){let n;let u=t?[""]:[],{color:c="subtle",size:p="200"}=e||{};return Number.isFinite(r)?(0===r?n=(0,l.jsx)(o,{}):i&&(n=(0,l.jsx)(d,{freeShippingPrice:i})),n&&u.push((0,l.jsx)(a.kC,{direction:"row",children:n})),0===u.length)?null:(0,l.jsx)(a.xv,{color:c,size:p,children:(0,l.jsx)(s.Z,{color:c,items:u})}):null}},178093:(e,t,i)=>{i.d(t,{kf:()=>y,l5:()=>m,of:()=>p,xC:()=>g,yz:()=>h});var a=i(667294),r=i(342513),n=i(805783),s=i(494125),l=i(194602),o=i(953565),d=i(785893);let{Provider:u,useMaybeHook:c}=(0,r.Z)("PwaContext"),p=({children:e,initialContext:t})=>{let[i,r]=(0,a.useState)(null),l=t||{pwaType:"unknown",twaType:null},c=l.pwaType;(0,s.Z)(()=>{let e=(0,n.FB)(window)||"unknown";r(e),c!==e&&(0,o.nP)("pwa.type_mismatch",{sampleRate:1,tags:{serverPwaType:c,clientPwaType:e,conflict:"unknown"!==c&&"unknown"!==e}})});let p="unknown"===c&&i?i:c,{twaType:h}=l,m=(0,a.useMemo)(()=>({pwaType:p,twaType:h}),[p,h]);return(0,d.jsx)(u,{value:m,children:e})},h=()=>{let e=c();return e?.pwaType??"unknown"},m=()=>{let e=c();return e?.twaType??null},g=()=>{let e=h();return"android-twa"===e},y=()=>{let e=h(),t=(0,l.Z)();return"unknown"===e&&t?null:"windows"===e}},371626:(e,t,i)=>{i.d(t,{Z:()=>a});let a=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";case"AU":return"AU";case"IN":return"IN";default:return"OTHER"}}},934441:(e,t,i)=>{i.d(t,{GY:()=>S,Jg:()=>v,fW:()=>P});var a=i(184508),r=i(147916),n=i(167361),s=i(697031),l=i(404247),o=i(836866),d=i(620668),u=i(86119),c=i(753873),p=i(873774),h=i(479197),m=i(110099),g=i(244892),y=i(485846),_=i(461471),f=i(662502),b=i(239784);let v=["goodIdea","love","thanks","wow","haha"],S={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},P=(e,t,i="darkGray")=>{let v={default:{staticAsset:"white"===i?h:p},goodIdea:{staticAsset:n,animatedAsset:a,gridAsset:r,label:t._('Good idea', 'Reaction label to tell a creator that their pin is a good idea', 'Reaction label to tell a creator that their pin is a good idea'),htmlStyle:`
    @keyframes play90 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -3600px 0px;
        }
    }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:7},haha:{staticAsset:o,animatedAsset:s,gridAsset:l,label:t._('Haha', 'Reaction label to tell a creator that the pinner laughed because of their pin', 'Reaction label to tell a creator that the pinner laughed because of their pin'),htmlStyle:`
    @keyframes play60 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -2400px 0px;
        }
    }
    `,animationStyle:"play60 2000ms steps(60) infinite forwards",type:5},love:{staticAsset:c,animatedAsset:d,gridAsset:u,label:t._('Love', 'Reaction label to tell a creator that the pinner loved their pin', 'Reaction label to tell a creator that the pinner loved their pin'),htmlStyle:`
    @keyframes play90 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -3600px 0px;
        }
    }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:1},thanks:{staticAsset:y,animatedAsset:m,gridAsset:g,label:t._('Thanks', 'Reaction label to tell a creator thank you', 'Reaction label to tell a creator thank you'),htmlStyle:`
    @keyframes play60 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -2400px 0px;
        }
    }
    `,animationStyle:"play60 2000ms steps(60) infinite forwards",type:13},wow:{staticAsset:b,animatedAsset:_,gridAsset:f,label:t._('Wow', 'Reaction label to tell a creator that the pinner was wowed by their pin', 'Reaction label to tell a creator that the pinner was wowed by their pin'),htmlStyle:`
    @keyframes play90 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -3600px 0px;
        }
    }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:11}};return v[e]||v.default}},356621:(e,t,i)=>{function a(e){let t=Object.keys(e);if(t.length>0){let i=t.sort((t,i)=>e[i]-e[t]).slice(0,3);return i}return null}function r(e){let t=Object.values(e);if(t.length>0){let e=t.reduce((e,t)=>e+t,0);return e}return 0}function n(e,t,i){return!e.isPromoted&&!e.isDownstreamPromotion&&!!(e.videos?.entityId||e.storyPinDataId)&&!t&&(!e.board?.isCollaborative||!e.board.collaboratedByMe)&&!i}i.d(t,{At:()=>a,J6:()=>n,Ud:()=>r})},686769:(e,t,i)=>{i.d(t,{A:()=>s,Z:()=>l});var a=i(667294),r=i(883119),n=i(785893);let s=({fill:e})=>{let t="half"===e?(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(r.xu,{position:"absolute",children:(0,n.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,n.jsx)(r.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,n.jsx)(r.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,n.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},"data-test-id":`rating-star-${e}`,display:"inlineBlock",children:t})};function l({max_rating:e,rating:t}){var i;let a=[],l=parseFloat(e)||5,o=5*(i=(i=parseFloat(t)||0)<=l?i:l)/l;if(Number.isNaN(o))return null;let d=Math.floor(o),u=o-d;return[...Array(d).keys()].forEach(e=>a.push((0,n.jsx)(s,{fill:"full"},e))),u>=.75?a.push((0,n.jsx)(s,{fill:"full"},a.length)):u>=.25&&a.push((0,n.jsx)(s,{fill:"half"},a.length)),[...Array(5-a.length).keys()].forEach(()=>a.push((0,n.jsx)(s,{fill:"empty"},a.length))),(0,n.jsx)(r.xu,{display:"inlineBlock",position:"relative",width:15*l,children:a})}},608516:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(14583);let r=a.Z},980803:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e){return(e||"").trim().replace(/\s+/g," ")}},447479:(e,t,i)=>{i.d(t,{i:()=>a});let a={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",VANILLA_GUIDE:"guide",VIDEO:"video"}},214164:(e,t,i)=>{i.d(t,{Wr:()=>c,Hx:()=>h,RC:()=>p});var a=i(667294),r=i(342513),n=i(951050),s=i(587070),l=i(785893);let o=()=>Promise.resolve().then(i.bind(i,951050)),{Provider:d,useHook:u}=(0,r.Z)("IdeaPinVideoPlayer");function c({children:e}){let[t,i]=(0,s.Z)(o,n.initialState),r=(0,a.useMemo)(()=>({dispatch:i,ideaPinVideoPlayerControls:t}),[i,t]);return(0,l.jsx)(d,{value:r,children:e})}function p(){let{dispatch:e}=u();return(0,a.useMemo)(()=>({updateSeekTime:(t,i)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:i||""}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})},updateSeekingIdeaPin:t=>{t?e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}):e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:t=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:t=>{e({type:"UPDATE_DURATION",payload:{duration:t}})}}),[e])}function h(){let{ideaPinVideoPlayerControls:e}=u();return e}},951050:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r,initialState:()=>a});let a={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function r(e=a,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime},seekTime:t.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:t.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:t.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:t.payload.duration}};default:return e}}},873955:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(958881);let r=/\{\{\s*(\w+)\s*\}\}/g,n=(e,t)=>(0,a.Z)(r,e,t)},498659:(e,t,i)=>{i.d(t,{Z:()=>a});let a=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},175789:(e,t,i)=>{i.d(t,{Z:()=>a});let a=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"…":e},958881:(e,t,i)=>{i.d(t,{Z:()=>a});let a=(e,t,i)=>t?t.replace(e,(e,t)=>i&&Object.prototype.hasOwnProperty.call(i,t)?i[t]:""):""},427514:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(873955),r=i(498659);let n=(e,t)=>{let i={};return Object.keys(t).forEach(e=>{i[e]=t[e]?(0,r.Z)(t[e].toString()):""}),(0,a.Z)(e,i)}},325362:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}},274262:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(883119),r=i(785893);function n({ariaHidden:e=!1,color:t="darkGray",size:i}){return(0,r.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,r.jsx)(a.xv,{color:t,inline:!0,size:i??"200",children:"\xb7"})})}},629650:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(667294),r=i(883119),n=i(274262),s=i(785893);function l(e){return null!=e}function o({additionalPadding:e,color:t="darkGray",inline:i,items:o}){let d=e?(0,s.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,s.jsx)(n.Z,{color:t})}):(0,s.jsx)(n.Z,{color:t}),u=o.filter(l).reduce((e,t,i)=>[...e,0!==i?d:null,t],[]).filter(l).map((e,t)=>(0,s.jsx)(a.Fragment,{children:e},t));return 0===u.length?null:i?(0,s.jsx)(r.xu,{children:u}):(0,s.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:u})}},13848:(e,t,i)=>{i.d(t,{F9:()=>n,Zo:()=>r});var a=i(342513);let{Provider:r,useHook:n}=(0,a.Z)("toastManagerContext")},460270:(e,t,i)=>{i.d(t,{Z:()=>a});let a=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},862249:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(968946);let r=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,a.Z)(e))},998449:(e,t,i)=>{i.d(t,{Z:()=>n});let a=(e,t)=>0===e.lastIndexOf(t,0);var r=i(885896);let n=({url:e})=>{let t=(0,r.Z)("/");return a(e,t)?e.substr(t.length-1):e}},587070:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(667294);function r(e,t){let i=(0,a.useRef)([]),[r,n]=(0,a.useState)(),[s,l]=(0,a.useReducer)(r??(()=>t),t),o=(0,a.useCallback)(t=>{r?l(t):(i.current.length||e().then(e=>{n(()=>e.default)}),i.current=[...i.current,t])},[e,r]);return(0,a.useEffect)(()=>{r&&(i.current.forEach(l),i.current=[])},[r]),[s,o]}},494125:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(667294);let r=e=>{(0,a.useEffect)(e,[])}},194602:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(667294);let r=()=>()=>{},n=()=>!1,s=()=>!0,l=()=>{let e=(0,a.useSyncExternalStore)(r,n,s);return e}},631602:(e,t,i)=>{i.d(t,{Z:()=>h});var a=i(667294),r=i(973935),n=i(785893);function s(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let l=new Map,o=null,d=e=>{e.forEach(e=>{let t=l.get(e.target);t&&t(e)})},u=e=>{o.unobserve(e),l.delete(e)},c=(e,t="-64px 0px 0px 0px",i)=>{let a={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};o=o||new window.IntersectionObserver(d,a),l.set(e,i),o.observe(e)},p=e=>l.has(e),h=e=>{class t extends a.Component{constructor(...e){super(...e),s(this,"seen",!1),s(this,"enter",e=>{let t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)}),s(this,"leave",()=>{let e=this._node;e&&p(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),s(this,"observe",e=>{try{this._node=r.findDOMNode(this)}catch(e){return}if(!this._node)return;let t=this._node;c(t,e,e=>{if(!l.has(t))return;let i=this.props.trackFullVisible?e.intersectionRatio>=1:e.intersectionRatio>=.5,a=this.props.trackFullVisible?0===e.intersectionRatio:!i;!this.seen&&i?this.enter(e):this.seen&&a&&this.leave()})})}componentDidMount(){let{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){let e=this._node;e&&(this.leave(),u(e))}render(){return(0,n.jsx)(e,{...this.props})}}return s(t,"displayName",`DeprecatedWithVisibilityChanged(${e.displayName||e.name})`),t}},363074:(e,t,i)=>{i.d(t,{Z:()=>u});var a=i(667294);let r=new Map,n=null,s=e=>{e.forEach(e=>{let t=r.get(e.target);t&&t(e)})},l=e=>{n.unobserve(e),r.delete(e)},o=(e,t="-64px 0px 0px 0px",i)=>{let a={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};n=n||new window.IntersectionObserver(s,a),r.set(e,i),n.observe(e)},d=e=>r.has(e);function u({onVisibilityChanged:e,trackFullVisible:t,rootMargin:i}){let n=(0,a.useRef)(null),s=!1,u=t=>{let i=t.intersectionRatio>0||t.isIntersecting;(s=i)&&e(!0)},c=()=>{n.current instanceof HTMLElement&&d(n.current)&&s&&(e(!1),s=!1)},p=(0,a.useCallback)(e=>{n.current instanceof HTMLElement&&o(n.current,e,e=>{if(!r.has(n.current))return;let i=t?e.intersectionRatio>=1:e.intersectionRatio>=.5,a=t?0===e.intersectionRatio:!i;!s&&i?u(e):s&&a&&c()})},[n.current]);return(0,a.useEffect)(()=>(p(i),()=>{n.current instanceof HTMLElement&&(c(),l(n.current))}),[p]),n}},584452:(e,t,i)=>{i.d(t,{Z:()=>S});var a=i(667294),r=i(293041),n=i(883119),s=i(587703),l=i(406893),o=i(340523),d=i(5859),u=i(149722),c=i(813779),p=i(115557),h=i(239821),m=i(734950),g=i(785893);function y(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let _=(e,t)=>typeof e!=typeof t||(Array.isArray(t)?e.length!==t.length||t.some((t,i)=>!Array.isArray(e)||t.type!==e[i].type||t.src!==e[i].src):t!==e),f=e=>e[0].src?[{...e[0],src:e[0].src}]:e,b=e=>"string"==typeof e?e:Array.isArray(e)?f(e):e;class v extends a.PureComponent{constructor(...e){super(...e),y(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:p.Cy.DEFAULT,videoStartTime:this.props.seekTime||0}),y(this,"errorRetryCount",1),y(this,"firstFragBuffered",!1),y(this,"hasPlaybackStarted",!1),y(this,"hasVideoSessionStarted",!1),y(this,"hasVideoSessionEnded",!1),y(this,"hls",null),y(this,"fragStartupTime",{}),y(this,"lastLevelSwitchKbps",null),y(this,"lastStallTime",null),y(this,"lastPauseTime",null),y(this,"logSessionStartOnNextPlay",!1),y(this,"playerId",""),y(this,"videoSessionId",""),y(this,"videoVisibleTime",null),y(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?this.props.src:this.props.src[0].src,totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null,webBrowser:this.props.webBrowser,webBrowserVersion:this.props.webBrowserVersion}),y(this,"initializeHls",()=>{this.destroyHls();let{src:e,hlsConfig:t}=this.props,i=new r.ZP(t),a=b(e);i.loadSource(a),this.videoPlayerRef&&i.attachMedia(this.videoPlayerRef.video),i.on(r.ZP.Events.FRAG_BUFFERED,this.handleHlsFragBuffered),i.on(r.ZP.Events.FRAG_CHANGED,this.handleHlsFragChanged),i.on(r.ZP.Events.FRAG_LOADING,this.handleHlsFragLoading),i.on(r.ZP.Events.FRAG_LOADED,this.handleHlsFragLoaded),i.on(r.ZP.Events.MANIFEST_PARSED,()=>{this.setState({isManifestParsed:!0})}),i.on(r.ZP.Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),i.on(r.ZP.Events.ERROR,this.handleHlsError),this.hls=i}),y(this,"destroyHls",()=>{let{hls:e}=this;e&&e.destroy()}),y(this,"addSegment",e=>{let{segments:t}=this.playbackPerformance,i=t&&t[t.length-1];if(this.hls&&t.length&&i&&i.uri!==e.url){this.updateWatchDurationForCurrentSegment();let i=this.videoPlayerRef&&this.videoPlayerRef.video,a=this.hls&&this.hls.levels||{},r="number"==typeof e.level?a[e.level]:{},n=this.fragStartupTime[e.url],s=-1;n&&n.startLoadTime&&n.endLoadTime&&(s=n.endLoadTime-n.startLoadTime);let l={indicatedKbps:r.bitrate/p.bR,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:r.width,sourceHeight:r.height,startupTimeMs:s,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:i&&i.clientWidth||-1,viewportHeight:i&&i.clientHeight||-1,watchedDurationMs:0};t.push(l)}}),y(this,"initializeSegments",e=>{let{contextLogData:t={}}=this.props,{is_closeup_video:i=!1}=t,{segments:a}=this.playbackPerformance;if(!a.length){if(!this.hls||!this.videoPlayerRef||!this.videoPlayerRef.video||!e){(0,c.tE)("initializeSegmentsFailed",!0,i);return}if(!a.length&&"number"==typeof e.level){let t=this.videoPlayerRef&&this.videoPlayerRef.video,{levels:i}=this.hls,r="number"==typeof e.level?i[e.level]:{},n=this.fragStartupTime[e.url],s=-1;n&&n.startLoadTime&&n.endLoadTime&&(s=n.endLoadTime-n.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/p.bR;let l={indicatedKbps:r.bitrate/p.bR,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:r.width,sourceHeight:r.height,startupTimeMs:s,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:t.clientWidth,viewportHeight:t.clientHeight,watchedDurationMs:0};a.push(l)}}}),y(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*p.gJ:null),y(this,"handleCanPlayVideo",e=>{let{contextLogData:t={},onReady:i,playing:a}=this.props,{is_closeup_video:r=!1}=t,{canPlayVideo:n}=this.state;(0,c.tE)("handleCanPlayVideo",!0,r,{firstCanPlayEvent:!n,playing:a}),this.playbackPerformance.hasFatalError=!1,n||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),i&&i(e)}),y(this,"handleEnded",e=>{let{loop:t,onEnded:i}=this.props,{segments:a}=this.playbackPerformance,r=a&&a[a.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),r&&(r.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(p.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:p.Cy.ENDED}),i&&i(e)}),y(this,"handleHlsError",(e,t)=>{let{contextLogData:i={}}=this.props,{is_closeup_video:a=!1}=i;if(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${t.details}`,t.fatal){this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=t.type,this.playbackPerformance.errorReason=t.details,this.playbackPerformance.errorCode=t.response&&t.response.code?t.response.code:0;let e={errorName:t.type,errorReason:t.details,errorRetryCount:this.errorRetryCount,errorMessage:t.err?.message?.slice(0,50)||"unknown",errorResponse:t.response?.text?.slice(0,50)||"unknown",playbackState:this.state.playbackState};if((0,c.tE)("fatalError",!0,a,e),this.errorRetryCount>0)switch(this.errorRetryCount-=1,t.type){case r.ZP.ErrorTypes.NETWORK_ERROR:if(t.details===r.ZP.ErrorDetails.MANIFEST_LOAD_ERROR||t.details===r.ZP.ErrorDetails.MANIFEST_LOAD_TIMEOUT||t.details===r.ZP.ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){let e=b(this.props.src);this.hls?.loadSource(e)}else this.hls?.startLoad();break;case r.ZP.ErrorTypes.MEDIA_ERROR:this.hls?.recoverMediaError()}}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:p.Cy.FAILED})}),y(this,"handleHlsFragBuffered",(e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)}),y(this,"handleHlsFragChanged",(e,t)=>{this.addSegment(t.frag)}),y(this,"handleHlsFragLoading",(e,t)=>{let i=t.frag?.url;i&&!this.fragStartupTime[i]&&(this.fragStartupTime[i]={startLoadTime:new Date})}),y(this,"handleHlsFragLoaded",(e,t)=>{t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/p.Fm);let i=t.frag?.url;i&&this.fragStartupTime[i]&&this.fragStartupTime[i].startLoadTime&&(this.fragStartupTime[i].endLoadTime=new Date)}),y(this,"handleHlsLevelSwitched",()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/p.bR)}),y(this,"handleLoadedMetadata",()=>{this.setState({playbackState:p.Cy.LOADED_METADATA})}),y(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:p.Cy.LOAD_START})}),y(this,"handleLoadedData",()=>{this.setState({playbackState:p.Cy.LOADED_DATA})}),y(this,"handlePlaying",e=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:p.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime(),this.props.onPlaying&&this.props.onPlaying(e)}),y(this,"handleUserPause",e=>{let{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)}),y(this,"handleVideoPause",()=>{this.state.playbackState===p.Cy.STALLING||this.state.playbackState===p.Cy.SEEKING||(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:p.Cy.PAUSED})}),y(this,"handleSeeking",()=>{this.playbackPerformance.numberOfSeeks+=1;let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==p.Cy.ENDED&&this.setState({playbackState:p.Cy.SEEKING})}),y(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==p.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1),this.setState({playbackState:p.Cy.STALLING})}),y(this,"handleTimeUpdate",e=>{let{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===p.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())}),y(this,"resetPlaybackMetrics",()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;let e=this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],t={...e,lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[t]}),y(this,"setLastSegmentStartPlayTime",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())}),y(this,"setLastSegmentPlaybackStartDate",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())}),y(this,"setPlaybackStartTime",()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)}),y(this,"setVideoPlayerRef",e=>{let{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){let e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),y(this,"updateStallDuration",()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)}),y(this,"updatePauseDuration",()=>{if(null!==this.lastPauseTime){let{lastPauseTime:e}=this;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}}),y(this,"updateWatchDurationForCurrentSegment",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],i=t?t.lastStartPlayTime:null,a=this.getCurrentVideoTime();if(t&&null!==i&&"number"==typeof a&&"number"==typeof i){let e=a-i;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}}),y(this,"logPlaybackPerformance",(e,t)=>{let{contextLogData:i={},userId:a,isAutoPlay:r,logContextEvent:n,preload:s,webBrowser:l,webBrowserVersion:o}=this.props,{is_closeup_video:d=!1}=i,{canPlayTime:u,detailedErrors:h,downloadedKiloBytes:m,errorCode:g,errorName:y,errorReason:_,hasFatalError:f,playbackStartTimestamp:b,totalPauseDurationMs:v,totalStallDurationMs:S,segments:P,srcString:T,loadStartTime:E,numberOfStalls:x,numberOfSeeks:w}=this.playbackPerformance,k=this.videoPlayerRef&&this.videoPlayerRef.video,I=e===p.DR,D=I&&!this.hasVideoSessionStarted,A=!I&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&k&&(D||A)){let D=-1;u&&E&&(D=u>E?u-E:0);let A=-1;u&&this.videoVisibleTime&&(A=u>this.videoVisibleTime?u-this.videoVisibleTime:0),I&&(this.videoSessionId=(0,p.Y7)(a),this.playerId=this.playerId||(0,p.EB)());let R={autoplaying:r,averageVideoKbps:-1,detailedErrors:h,downloadedKiloBytes:m,isCellular:!1,errorCode:g,errorName:y,errorReason:_,fatalError:f,nativeVideoDurationMs:k.duration*p.gJ||-1,numberOfStalls:x,numberOfSeeks:w,overallPausedDurationMs:v,overallBufferDurationMs:S,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:b||-1,segments:[],sessionMark:e,screenPixelScale:window?.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:k.clientWidth,startupPlayerHeight:k.clientHeight,startupTimeMs:D,startupLatencyMs:A,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:k.videoWidth,startupVariantHeight:k.videoHeight,videoUrl:T,wasVideoPreloaded:"auto"===s};if(!I&&P.length){let{levels:e}=this.hls,t=P[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();let i=P.reduce((t,i)=>{if(!i||"number"!=typeof i.level||!e||!(e.length>0))return t;{let a=(e[i.level]||{}).bitrate,r=i.watchedDurationMs;return t+a*(r||0)/p.gJ}},0),a=P.reduce((e,t)=>e+(t.watchedDurationMs||0),0),r=null,n=0,s=0;do n+=P[s].watchedDurationMs,r=r||P[s].level,s+=1;while(s<P.length&&P[s].level===r)R.startupVariantKbps=t.indicatedKbps,R.startupVariantWatchedDurationMs=n,R.startupVariantWidth=t.sourceWidth,R.startupVariantHeight=t.sourceHeight,R.startupPlayerWidth=t.viewportWidth,R.startupPlayerHeight=t.viewportHeight,R.overallWatchedDurationMs=a,a>0?(R.averageVideoKbps=i/(a/p.gJ),R.rebufferRate=this.playbackPerformance.totalStallDurationMs/a):0===a&&(R.averageVideoKbps=-1,R.rebufferRate=-1,R.errorName="invalid_watch_duration"),R.segments=P}else R.errorName="invalid_watch_duration";(0,c.ZP)(R,!0,d,{playbackState:this.state.playbackState,...t});let{clientTrackingParams:C,component:O,durationNs:L,element:F,objectId:N,pairId:j,viewData:M,view:V,viewParameter:U,...Z}=i;n({aux_data:{...Z,is_closeup_video:d,playback_session_id:this.videoSessionId,web_browser:l,web_browser_version:o},clientTrackingParams:C,component:O,duration_ns:L,element:F,event_data:{videoPerformanceData:R},event_type:3606,object_id_str:N,pair_id:j,view_data:M,view_parameter:U,view_type:V}),I?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,c.tE)(I?"sessionStart":"sessionEnd",!0,d,{playbackState:this.state.playbackState,...t})}})}componentDidMount(){let{contextLogData:e={},playing:t}=this.props,{is_closeup_video:i=!1}=e;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,c.tE)("videoMounted",!0,i),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(p.DR,{initiator:"mount"}))}componentDidUpdate(e){let{loop:t,playing:i,src:a,visible:r,appInFocus:n,seekTime:s,captionsEnabled:l}=this.props,o=this.videoPlayerRef?.video?.textTracks[0];o&&(l?o.mode="showing":o.mode="disabled",o.addEventListener("cuechange",()=>{let e=o.activeCues&&o.activeCues.length>0&&o.activeCues[0];e&&e.line&&(e.line=-6,e.size=88)})),s&&s!==e.seekTime&&this.setState({videoStartTime:s}),_(e.src,a)&&this.initializeHls(),e.appInFocus&&!n&&(this.logPlaybackPerformance(p.$f,{initiator:"update",loop:t}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===r&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"update",loop:t})),!1===e.visible&&!0===r&&(this.videoVisibleTime=this.videoVisibleTime||new Date,i?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),i&&n&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){let{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"unmount",loop:e}),this.destroyHls()}render(){let{aspectRatio:e,backgroundColor:t,captions:i,controls:a,loop:r,loopOverride:s,objectFit:o,onDurationChange:d,onFullscreenChange:u,onLoadedChange:c,onControlsPlay:p,onPlayheadDown:h,onPlayheadUp:y,onSeek:_,onVolumeChange:f,playbackRate:v,playing:S,playsInline:P,poster:T,preload:E,src:x,volume:w,webBrowser:k,webBrowserVersion:I}=this.props,{canPlayVideo:D,isManifestParsed:A,videoStartTime:R}=this.state,C=b(x);return(0,g.jsxs)(n.xu,{children:[(0,g.jsx)(l.Z,{unsafeCSS:m.P}),(0,g.jsx)(n.nk,{ref:this.setVideoPlayerRef,aspectRatio:e,backgroundColor:t,captions:i,controls:a,loop:void 0===s?r:s,objectFit:o,onControlsPause:this.handleUserPause,onControlsPlay:p,onDurationChange:d,onEnded:this.handleEnded,onFullscreenChange:u,onLoadedChange:c,onLoadStart:this.handleLoadStart,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:h,onPlayheadUp:y,onPlaying:this.handlePlaying,onReady:this.handleCanPlayVideo,onSeek:_,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:f,onWaiting:this.handleStalled,playbackRate:v,playing:A&&D&&S,playsInline:P,poster:T,preload:E,src:C,startTime:R,volume:w,webBrowser:k,webBrowserVersion:I})]})}}let S=(0,a.memo)(function(e){let{country:t,isAuthenticated:i,isBot:a,isSocialBot:r,unauthId:n,userAgent:l}=(0,d.B)(),p=(0,s.Z)(),m=(0,u.Z)(),{browserName:y,browserVersion:_,isMobile:f}=l,{contextLogData:b={}}=e,{is_closeup_video:S=!1,view:P,viewParameter:T}=b,{checkExperiment:E}=(0,o.F)(),{appUI:x}=(0,h.I)(),w=E("web_video_fail_to_start_fix").anyEnabled?x.appInFocus:e.appInFocus;return(0,c.r$)({browserName:y,browserVersion:_,country:t,isAuthenticated:i,isBot:a,is_closeup_video:S,isMobile:f,isSocialBot:r,view:P,viewParameter:T}),(0,g.jsx)(v,{...e,appInFocus:w,logContextEvent:p,userId:m.id||n,webBrowser:y,webBrowserVersion:_})})},369708:(e,t,i)=>{i.d(t,{Wr:()=>u,rG:()=>d});var a=i(667294),r=i(214877),n=i(342513),s=i(340523),l=i(785893);let{Provider:o,useHook:d}=(0,n.Z)("VideoPlayer");function u({children:e}){let{logContextEvent:t,logImpression:i}=(0,r.v)(),{checkExperiment:n}=(0,s.F)(),[d,u]=(0,a.useState)(!1),[c,p]=(0,a.useState)([]),[h,m]=(0,a.useState)([]),[g,y]=(0,a.useState)({}),_=n("web_ads_mrc_video_impression").anyEnabled,f=e=>{y(t=>({...t,[e]:!0}))},b=(0,a.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],i=(e.aux_data?.commerce_data||"").includes("story_pin_id");_&&(t||i)&&p(t=>[...t,e].slice(-1e3))}},[_]),v=(0,a.useCallback)(e=>{18===e.eventType&&_&&m(t=>[...t,e].slice(-1e3))},[_]),S=e=>{let{renderDuration:t,time:i}=e.event_data.pinImpressions[0],a=Math.max(t,15e8);return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:i+a,renderDuration:a}]}}},P=e=>{if(e.eventData){let{time:t,endTime:i}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:(t??0)+Math.max((i??0)-(t??0),15e8)}}}return null};(0,a.useEffect)(()=>{let e=c.filter(e=>{let{pinIdStr:i}=e.event_data.pinImpressions[0],a=g[i];if(a&&_){let i=S(e);return t(i),!1}return!0});e.length!==c.length&&p(e)},[c,_,t,g]),(0,a.useEffect)(()=>{let e=h.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;let a=g[t];if(a&&_){let t=P(e);return t&&i(t),!1}return!0});e.length!==h.length&&m(e)},[h,_,i,g]);let T=(0,a.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:v,logMrcVideoAdEventOnPlay:b,setCaptionsEnabled:u,setVideoPlayed:f,videosPlayed:g}),[d,b,v,g]);return(0,l.jsx)(o,{value:T,children:e})}},626849:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:a}=t,r={...i,...a};return r[e]&&r[e].currentTime}},249803:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:a}=t,r={...i,...a};return!!r[e]&&!r[e].paused}},813779:(e,t,i)=>{i.d(t,{ZP:()=>p,r$:()=>u,tE:()=>c});var a=i(371626),r=i(115557),n=i(953565);let s=["isCellular","videoUrl","sessionMark"],l={},o="",d=e=>e<0?"negative":0===e?"zero":e<200?"xs":e<400?"s":e<600?"m":e<800?"l":e<1e3?"xl":e<1200?"xxl":"over1200",u=e=>{let{browserName:t,browserVersion:i,country:r,isAuthenticated:n,isBot:s,isMobile:d,isSocialBot:u,view:c="unknown",viewParameter:p="unknown"}=e;o=u&&"socialBot"||s&&"bot"||"nonbot";let h=(0,a.Z)(r);l={browserName:t,browserVersion:i?.split(".")[0]||"0",isAuthenticated:n,isMobile:d,region:h,view:c,viewParameter:p}};function c(e,t,i,a={}){let r={...a,...l},s=`web.video.${t?"hls":"nonHls"}.${o}.${i?"closeup":"nonCloseup"}.${e}`;"nonbot"===o&&(0,n.nP)(s,{sampleRate:1,tags:r})}function p(e,t,i,a={}){let u=i?"closeup":"nonCloseup",c=t?"hls":"nonHls",p=e.sessionMark===r.DR?"sessionStart":"sessionEnd",h={...a,...l};if("nonbot"===o&&(Object.entries(e).forEach(([t,i])=>{let a=`web.video.${c}.${o}.${u}.${p}.${t}`,r=parseInt(i,10),l="number"==typeof r?r:-1;if(!s.includes(t)){if(t.includes("fatalError")&&!0===i){let{errorCode:t,errorName:i,errorReason:r}=e;(0,n.nP)(a,{sampleRate:1,tags:{errorCode:t,errorName:i,errorReason:r,...h}})}else if(t.includes("Width")||t.includes("Height")){let e=d(l);(0,n.nP)(a,{sampleRate:1,tags:{dimensionBucket:e,...h}})}else if("numberOfStalls"===t){let e=i;l>1e3?e="over1000":l>10?e="over10":l<0&&(e="negative"),(0,n.nP)(a,{sampleRate:1,tags:{numberOfStalls:e,...h}})}else"screenPixelScale"===t?(0,n.nP)(a,{sampleRate:1,tags:{screenPixelScale:i||-1,...h}}):l>=0?(0===l&&(0,n.nP)(`${a}.zero`,{sampleRate:1,tags:h}),(0,n.LY)(a,l,{sampleRate:1})):l<0&&(0,n.nP)(`${a}.negative`,{sampleRate:1,tags:h})}}),e.sessionMark!==r.DR)){let{rebufferRate:t,screenPixelScale:i,startupLatencyMs:a,startupVariantWidth:r,startupPlayerWidth:s}=e,l=`web.video.${c}.${o}.${u}.${p}`;"number"==typeof r&&"number"==typeof s&&"number"==typeof i&&(0,n.nP)(`${l}.upscaled.${1.5*r>i*s?"good":"bad"}`,{sampleRate:1,tags:h}),"number"==typeof a&&(0,n.nP)(`${l}.startupLatency.${a<500?"good":"bad"}`,{sampleRate:1,tags:h}),"number"==typeof t&&(0,n.nP)(`${l}.rebufferRate.${t<.01?"good":"bad"}`,{sampleRate:1,tags:h})}}},115557:(e,t,i)=>{i.d(t,{$f:()=>n,Cy:()=>d,DR:()=>r,EB:()=>p,Fm:()=>o,Y7:()=>c,bR:()=>l,gJ:()=>s,lG:()=>u});var a=i(172045);let r=1,n=2,s=1e3,l=1e3,o=1e3,d=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),u=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function c(e){return e+"-"+(0,a.Z)()}function p(){return(0,a.Z)()}},537513:(e,t,i)=>{i.d(t,{Z:()=>n,e:()=>r});var a=i(419075);let r=e=>{if("undefined"==typeof window)return"";let t=0,i=document.querySelector('[data-test-id="header"]');if(null!==i){let{height:e}=i.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":let a=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==a){let{height:e}=a.getBoundingClientRect();t+=e}break;case"SearchItem":let r=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==r){let{height:e}=r.getBoundingClientRect();t+=e}let n=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==n){let{height:e}=n.getBoundingClientRect();t+=e}}return`${-1*t}px 0px 0px 0px`},n=({videosDuration:e,vHLSV4VideoDuration:t,storyPinDataTotalVideoDuration:i})=>{let r=(0,a.Z)(e||t||i||0);return r}},171966:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(107366),r=i(263148);function n(e,t){let{auxData:i,clientTrackingParams:n,hasPin:s,pinId:l,isThirdPartyAd:o}=t||{},d={pin_id:l,check_only:!0,client_tracking_params:s?n:void 0,url:e,aux_data:JSON.stringify(i)};o&&(d.third_party_ad=l,delete d.pin_id),(0,a.Z)({url:"/v3/offsite/",data:d}).then(t=>{if(t&&t.resource_response&&!t.resource_response.error){let{resource_response:e}=t,{redirect_status:i,url:a}=e.data,r=["blocked","suspicious","porn"].includes(i);if(!r){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(a);window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,r.Gj)(e,{params:s?{pinId:l,clientTrackingParams:n,auxData:i,isThirdPartyAd:o}:{pinId:l}})})}},446653:(e,t,i)=>{i.d(t,{r:()=>v,K:()=>b});var a=i(667294),r=i(342513),n=i(340523),s=i(995917),l=i(149722),o=i(998577),d=i(573810),u=i(325362);let c=e=>{let t={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&("object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?t[(0,u.Z)(i)]=e[i]:t[(0,u.Z)(i)]=c(e[i]));return t},p=(e,t)=>{let i=[];for(let a in e)a!==t&&i.push({id:a,...c(e[a])});let a=i.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),r=new Map;for(let e of a)r.set(e.id,e);return r},h={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},m=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},g=({dispatch:e,isEnabled:t,state:i})=>{let{orbacVisibility:r,disableProfileChanger:n,headerVisible:s}=i,l=(0,a.useCallback)(i=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:i})},[t,e]),o=(0,a.useCallback)(i=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:i??!r})},[t,e,r]),d=(0,a.useCallback)(i=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:i??!n})},[t,e,n]),u=(0,a.useCallback)(i=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:i??!s})},[t,e,s]);return{changeProfile:l,toggleORBACVisibility:o,toggleDisableProfileChanger:d,toggleHeaderVisibility:u}},y=e=>{let[t,i]=(0,a.useReducer)(m,h),r=g({dispatch:i,isEnabled:e,state:t}),{activeProfile:n,orbacVisibility:s}=t;(0,a.useEffect)(()=>{let e=(0,d.qn)("orbacActiveProfile",!1);e&&i({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,a.useEffect)(()=>{let e=(0,d.qn)("orbacVisibilty",!1);e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,a.useEffect)(()=>{(0,d.Nh)("orbacVisibility",s)},[s]),(0,a.useEffect)(()=>{(0,d.Nh)("orbacActiveProfile",n)},[n]);let l=(0,a.useCallback)((e,t)=>{i({type:"LOAD_PROFILES",payload:p(e,t)})},[i]);return{state:t,actions:r,receiveProfiles:l}};var _=i(785893);let{Provider:f,useMaybeHook:b}=(0,r.Z)("RoleBasedAccessControlContext"),v=({children:e})=>{let t;let{checkExperiment:i}=(0,n.F)(),r=(0,l.Z)(),d=!!(r.isAuth&&r.isPartner&&i("web_m10n_business_access_orbac_www").anyEnabled),{state:u,actions:c,receiveProfiles:p}=y(d),{activeProfile:h,headerVisible:m,profiles:g=[]}=u,b=g?Array.from(g.values()):[],v=(0,o.Z)(b),S=!!r.isAuth&&b.length>0&&v,P=r.isAuth?r.id:"",T=r.isAuth?r.username:"",{changeProfile:E,toggleORBACVisibility:x,toggleDisableProfileChanger:w,toggleHeaderVisibility:k}=c;(0,a.useEffect)(()=>{if(d){if("string"==typeof v){E(v);return}h||E(P)}},[v,P,d,E,h]),(0,a.useEffect)(()=>{d&&(S&&!m&&k(!0),!S&&m&&k(!1))},[k,S,d,m,g]);let{data:I}=(0,s.Z)(d?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),D=I?.profiles;r&&r.isAuth&&u.activeProfile===r.id?t={id:r.id,permissions:["OWNER"],user:{username:T,businessName:r.fullName,imgUrl:r.imageSmallUrl}}:h&&u.profiles&&(t=u.profiles.get(h)),(0,a.useEffect)(()=>{D&&p(D,P)},[p,D,P]);let A=u.profiles?Array.from(u.profiles.values()):[];return(0,_.jsx)(f,{value:{profiles:A,headerVisible:u.headerVisible,activeProfile:t,changeProfile:E,toggleORBACVisibility:x,toggleDisableProfileChanger:w,toggleHeaderVisibility:k},children:e})}},785059:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(340523),r=i(446653),n=i(998577);let s=()=>{let{checkExperiment:e}=(0,a.F)(),t=(0,r.K)(),{activeProfile:i}=t||{},s=e("web_m10n_business_access_orbac_www").anyEnabled,l=(0,n.Z)(t?.profiles||[]),{anyEnabled:o}=e("useorbacroutematcher_in_useorbacactingas");return s&&(!o||l)&&i&&(i.viewerMeetsMfaRequirement||(i.permissions||[]).includes("OWNER"))?i:Object.freeze({})}},998577:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(616550),r=i(96157),n=i(340523),s=i(149722),l=i(19447);let o=e=>{let t=(0,a.TH)(),i=(0,s.Z)(),o=(0,l.S6)(),{anyEnabled:d}=(0,n.F)().checkExperiment("web_m10n_business_access_orbac_www"),u=(0,a.$B)("/:username"),c=u?.params?.username,p=(0,a.$B)("/pin/:id"),h=!!p?.params?.id&&o(p.params.id)?.pinner?.id;if((0,r.ej)(t))return!1;if((0,r.RU)(t))return!0;if((0,r.mY)(t))return d;let m=e.concat(i.isAuth?{user:{username:i.username},id:i.id}:{}).find(e=>{let{user:t={},id:i}=e||{},{username:a}=t;return(!!a&&!!c||!!h&&!!i)&&(a===c||h===i)});return!!m&&m.id}},199677:(e,t,i)=>{i.d(t,{D3:()=>d,DX:()=>l,KY:()=>u,Ms:()=>a,N1:()=>c,_P:()=>s,lJ:()=>n,nl:()=>r,q6:()=>o});let a=(e,t)=>{let i=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(i=t.user.username),i},r=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),n=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",s=(e,t,i)=>i&&i.user&&t&&t.isAuth&&i.id!==t.id?i.user.merchantId:e.advertiser?.merchant_id,l=(e,t,i)=>i&&i.user&&e.isAuth&&i.id!==e.id?i.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,o=(e,t,i)=>{let a=e&&e.isAuth&&i&&i.id&&i.id!==e.id&&i.id===t;return!!a},d=(e,t,i)=>{let a=o(e,t,i)||e&&e.isAuth&&t===e.id;return!!a},u=(e,t,i)=>{let a=t&&t.owner&&t.owner.id||"";return d(e,a,i)};function c(e,t,i){let a=t?t.id:"";return d(e,a,i)}},239821:(e,t,i)=>{i.d(t,{g:()=>p,I:()=>c});var a=i(667294),r=i(342513),n=i(705895),s=i(259866);let l={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},o=(e=l,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:i}=t,{pinId:a,isPromoted:r,currentTime:n,allowMultipleOrganicVideos:l}=i,{videosAutoplaying:o}=e,{currentlyPlayingOrganicVideoId:d,promotedVideosAutoplaying:u,organicVideosAutoplaying:c}=o,p=(0,s.Z)(u),h=(0,s.Z)(c);return r||!d||l?(r?p[a]={pinId:a,currentTime:n,paused:!1}:h[a]={pinId:a,currentTime:n,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:r?d:a,promotedVideosAutoplaying:p,organicVideosAutoplaying:h}}):e}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:i}=t,{pinId:a,isPromoted:r,currentTime:n}=i,{videosAutoplaying:l}=e,{promotedVideosAutoplaying:o,organicVideosAutoplaying:d}=l,u=(0,s.Z)(o),c=(0,s.Z)(d);return r?u[a]={...u[a],paused:!0,currentTime:n}:c[a]={...c[a],paused:!0,currentTime:n},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:u,organicVideosAutoplaying:c}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var d=i(785893);let{Provider:u,useHook:c}=(0,r.Z)("AppUI");function p({children:e}){let[t,i]=(0,a.useReducer)(o,l),r=(0,a.useCallback)(e=>i({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),s=(0,a.useCallback)(e=>i({type:"SET_APP_FOCUS_STATE",payload:e}),[]),c=(0,a.useCallback)(e=>i({type:"SET_CURRENT_VIDEO",payload:e}),[]),p=(0,a.useCallback)(e=>i({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),h=(0,a.useCallback)(e=>i({type:"SET_IS_AUTOPLAY",payload:e}),[]),m=(0,a.useCallback)(e=>i({type:"SET_VIEWPORT_SIZE",payload:e}),[]),g=(0,a.useCallback)(e=>i({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),y=(0,a.useMemo)(()=>({pauseAutoplay:r,setCurrentVideo:c,setFooterPlusButtonVisible:p,setIsAutoplay:h,setViewportSize:m,toggleTypeaheadOverlay:g,setAppFocusState:s,appUI:t}),[r,c,p,h,m,g,s,t]);return(0,a.useEffect)(()=>{n.Z.onSessionResume(()=>{s(!0)}).onSessionPause(()=>{s(!1)})},[s]),(0,d.jsx)(u,{value:y,children:e})}},852733:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(667294),r=i(214877),n=i(879977);function s(e,t){let{logContextEvent:i}=(0,r.v)(),{componentType:s,contextLogData:l,viewParameter:o,viewType:d}=(0,n.E)(),{aux_data:u,view_type:c,view_parameter:p,component:h,clientTrackingParams:m,...g}=t??{};return(0,a.useCallback)(()=>{i({event_type:e,view_type:c||d,view_parameter:p||o,component:h||s,clientTrackingParams:m,...g,aux_data:{...u,...l}})},[i,u,m,g,p,c,h,s,l,e,o,d])}},879977:(e,t,i)=>{i.d(t,{B:()=>r,E:()=>n});var a=i(342513);let{Provider:r,useHook:n}=(0,a.Z)("trackingParametersContext")},31327:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(467139);function r(e){return a.zI.includes(e)}},467139:(e,t,i)=>{i.d(t,{UP:()=>l,Wv:()=>r,ZF:()=>a,zI:()=>n,zl:()=>s});let a=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],r=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],n=[...r,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],s=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],l=["BaseBoardPinGrid"]},968508:(e,t,i)=>{i.d(t,{Z:()=>a});let a={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},206923:(e,t,i)=>{i.d(t,{fv:()=>y,fS:()=>S,lu:()=>P,PR:()=>T,Mv:()=>m,uc:()=>g,dL:()=>h,qS:()=>_,Y4:()=>v,HE:()=>b,Cy:()=>f});var a=i(666472),r=i(667294),n=i(263032),s=i(214877),l=i(30378),o=i(340523),d=i(5859),u=i(194602),c=i(369708);function p({auxData:e,component:t,eventData:i,eventType:a,impressionType:p,isPaused:h,objectIdStr:m,viewData:g,viewType:y,viewParameter:_}){let f=(0,r.useRef)(null),{logImpression:b}=(0,s.v)(),v=(0,u.Z)(),S=(0,d.B)(),P=S.isAuthenticated,{checkExperiment:T}=(0,o.F)(),E=T(P?"web_use_intersection_observer_for_getboundingclientrect_auth":"web_use_intersection_observer_for_getboundingclientrect_unauth").anyEnabled,{logMrcVideoAdImpressionOnPlay:x}=(0,c.rG)(),w=(0,r.useCallback)(()=>{try{if(f.current instanceof HTMLElement){let{pinIdStr:r,newsIdStr:s}=i;l.Z.start(f.current).onExitViewport(r=>{if(f.current&&E){let n=new IntersectionObserver(([s])=>{let l={viewData:g||{},viewType:y,viewParameter:_,eventType:a,impressionType:p,auxData:e,component:t,objectIdStr:m,eventData:{endTime:r.endTime,time:r.startTime,pinCellWidth:s.boundingClientRect.width||0,pinCellHeight:s.boundingClientRect.height||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,...i}};b(l),x(l),f.current&&n.unobserve(f.current)});f.current&&n.observe(f.current)}else{let n={viewData:g||{},viewType:y,viewParameter:_,eventType:a,impressionType:p,auxData:e,component:t,objectIdStr:m,eventData:{endTime:r.endTime,time:r.startTime,pinCellWidth:f.current?.getBoundingClientRect().width||0,pinCellHeight:f.current?.getBoundingClientRect().height||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,...i}};b(n),x(n)}let{attributionSourceId:s,campaignId:l,isPromoted:o,link:d,adDestinationUrl:u,domain:c,advertiserId:h}=i;"pinImpressions"===p&&o&&!v&&window.document.featurePolicy?.allowsFeature("attribution-reporting")&&(0,n.YS)(p,o,s??null,d,l,{appType:S.appTypeDetailed,osType:(0,n.eF)(S.userAgent.osName??"Unknown")},h??null,c,u,T("m10n_ara_hardcoded_reporting_url").anyEnabled)}).setDebugId(r||s||"unknown")}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}},[f.current]);return(0,r.useEffect)(()=>{h||w();let{current:e}=f;return()=>{e instanceof HTMLElement&&l.Z.stop(e)}},[h,w]),f}let h=e=>{let t=p({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},m=e=>{let t=p({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},g=e=>{let t=p({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},y=e=>{let t=p({eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},_=e=>{let t=p({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},f=e=>{let t=p({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},b=e=>{let t=p({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},v=e=>{let t=p({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},S=e=>{let t=p({eventData:{...e.impressionData||{},boardIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3700,impressionType:"boardImpressions",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},P=e=>{let t=(0,a.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:t})},T=e=>{let t=p({eventData:{...e.impressionData||{},curatedBoardIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:15555,impressionType:"curatedBoardImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},324186:(e,t,i)=>{i.d(t,{C:()=>o,f:()=>l});var a=i(667294),r=i(342513),n=i(785893);let{Provider:s,useHook:l}=(0,r.Z)("MostRecentPin");function o({children:e}){let[t,i]=(0,a.useState)(),[r,l]=(0,a.useState)(),o=(0,a.useCallback)(e=>{let t=r?r.slice(0,10):[],i=[e].concat(t.filter(t=>t!==e));l(i)},[r]),d=(0,a.useMemo)(()=>({id:t,plpImageSignatures:r,setMostRecentPinId:i,setMostRecentPinImage:o}),[t,r,o]);return(0,n.jsx)(s,{value:d,children:e})}},69979:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(883119),r=i(232887);let n=new a.H3([r.Z]),s=n},386008:(e,t,i)=>{i.d(t,{Tt:()=>c,cm:()=>u,kW:()=>o,kY:()=>p,mN:()=>d});var a=i(702664),r=i(342513),n=i(149722),s=i(785893);let{Provider:l,useHook:o}=(0,r.Z)("Users");function d(){let e=o();return t=>e[t]}function u(){let e=o();return(t,i=!1)=>{let a=Object.keys(e).find(i=>e[i].username===t);if(a||!i)return e[a??""]}}function c(){let{id:e}=(0,n.Z)(),t=o();return t[e??""]}function p({children:e}){let t=(0,a.useSelector)(({users:e})=>e,a.shallowEqual);return(0,s.jsx)(l,{value:t,children:e})}},557874:(e,t,i)=>{i.d(t,{Z:()=>y,s:()=>g});var a=i(667294),r=i(342513),n=i(608575),s=i(883119),l=i(930837),o=i(140017),d=i(339001),u=i(785893);let c=()=>{let e=(0,o.ZP)(),{dismissWarning:t}=g()??{};return(0,u.jsx)(s.xu,{paddingX:3,children:(0,u.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:t,text:e._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},p=()=>{let e=(0,o.ZP)();return(0,u.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,u.jsx)(s.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/community-guidelines#section-spam",target:"blank",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},h=({message:e,sanitized_url:t})=>{let i=(0,o.ZP)(),{dismissWarning:a}=g()??{};return(0,u.jsx)(l.ZP,{accessibilityModalLabel:i._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),footer:(0,u.jsx)(c,{}),heading:i._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),onDismiss:a,children:(0,u.jsxs)(s.xu,{padding:6,children:[(0,u.jsx)(s.xv,{children:(0,d.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,u.jsx)(p,{},"learnMoreLink")})}),(0,u.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,u.jsx)(s.xu,{marginEnd:3,children:(0,u.jsx)(s.JO,{accessibilityLabel:i._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,u.jsx)(s.xv,{inline:!0,lineClamp:1,weight:"bold",children:n.parse(t).hostname})]})]})})},{Provider:m,useMaybeHook:g}=(0,r.Z)("SpammyClickthrough");function y({children:e}){let[t,i]=(0,a.useState)(null),r=(0,a.useCallback)(()=>{i(null)},[i]),n=(0,a.useCallback)(e=>{i(e)},[i]),s=(0,a.useMemo)(()=>({dismissWarning:r,showWarning:n}),[r,n]);return(0,u.jsxs)(m,{value:s,children:[t&&(0,u.jsx)(h,{...t}),e]})}},923368:(e,t,i)=>{i.d(t,{Nb:()=>l,Of:()=>o,YO:()=>s,ZP:()=>c,x4:()=>u});var a=i(667294),r=i(891162),n=i(392029);let s=({showProductDetailPage:e,isLargerPane:t,showCloseupContentRight:i})=>e&&t?i?n.Uj:n.zT:1,l=(0,r.qe)(({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:i,showProductDetailPage:a,viewportSize:r,maxWidth:n,descriptionPaneWidth:s,isCloseupRelatedPinsAboveTheFoldEnabled:l,isCommentThreadExpanded:o,setIsCommentThreadExpanded:d,stackedCloseupEnabled:u,isInRemoveMagnifyingGlassVariant:c,setAbortNoActionPlacementTimeout:p})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:i,showProductDetailPage:a,viewportSize:r,maxWidth:n,descriptionPaneWidth:s,isCloseupRelatedPinsAboveTheFoldEnabled:l,isCommentThreadExpanded:o,setIsCommentThreadExpanded:d,stackedCloseupEnabled:u,isInRemoveMagnifyingGlassVariant:c,setAbortNoActionPlacementTimeout:p})),o={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:n.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:n.u6,descriptionPaneWidth:n.u6-n.Gg,isCloseupRelatedPinsAboveTheFoldEnabled:!1,isCommentThreadExpanded:!1,stackedCloseupEnabled:!1,isInRemoveMagnifyingGlassVariant:!1,setAbortNoActionPlacementTimeout:()=>{}},d=(0,a.createContext)(o);function u(){let e=(0,a.useContext)(d);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}let c=d},392029:(e,t,i)=>{i.d(t,{$T:()=>y,CI:()=>n,Ch:()=>l,Ey:()=>_,Gb:()=>o,Gg:()=>a,Ie:()=>p,KP:()=>h,Kn:()=>s,Uj:()=>d,YE:()=>f,bx:()=>m,cg:()=>v,d2:()=>c,g9:()=>g,iB:()=>P,oX:()=>b,rv:()=>S,u6:()=>r,zT:()=>u});let a=508,r=2*a,n=488,s=992,l=672,o=1176,d=.6,u=.84,c=40,p=72,h=740,m=912,g=32,y=24,_=1360,f=16,b=5,v=4*b,S=1,P={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},34817:(e,t,i)=>{i.d(t,{Z:()=>l,e:()=>s});var a=i(883119),r=i(5859),n=i(785893);let s=new a.Ry(1);function l({children:e,isImagePinForUnauthOnTablet:t}){let{isAuthenticated:i}=(0,r.B)();return(0,n.jsxs)(a.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,zIndex:i?void 0:s,children:[(0,n.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},232887:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(883119),r=i(34817);let n=new a.H3([r.e]),s=n},236798:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(883119),r=i(140017),n=i(5859),s=i(785893);let l=({onSendButtonClick:e,trackShareTap:t,color:i,size:l,bgColor:o})=>{let d=(0,r.ZP)(),{userAgent:{platform:u}}=(0,n.B)();return(0,s.jsx)(a.hU,{accessibilityLabel:d._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),bgColor:o||"transparent",icon:"android"===u?"android-share":"share",iconColor:i||"darkGray",onClick:({event:i})=>{e(i),t()},size:l||"lg"})}},28156:(e,t,i)=>{i.r(t),i.d(t,{default:()=>y});var a,r,n=i(702664);i(167912);var s=i(883119),l=i(663056),o=i(207012),d=i(807023),u=i(923368),c=i(256963),p=i(409403),h=i(19447),m=i(785893);let g=void 0!==a?a:a=i(76582);function y({carouselData:e,carouselIndex:t,componentType:a,contextLogData:y,handleCarouselSwipe:_,isCloseup:f,isEditMode:b,pinKey:v,viewParameter:S,viewType:P,variant:T}){let E;let x=(0,h.S6)();if(null==v||"graphqlRef"===v.type)E=v;else{let e=v.data;if("string"==typeof e){let t=x(e);E=null!=t?{type:"deprecated",data:t}:null}else E={type:"deprecated",data:e}}let w=(0,o.Z)(g,E),{childDataKey__DEPRECATED:k}=(0,d.Q)(void 0!==r?r:r=i(217373),w,{useLegacyAdapter:e=>({})}),I=(0,c.Z)(k,"CarouselEllipsis"),D=(0,l.Z)(k),A=e||D&&{carouselSlots:D.carouselSlots.map(({slotId:e,title:t})=>({id:e,title:t})),entityId:D.carouselId??"",index:D.index},R=(0,n.useDispatch)();if(!A)return null;let C=(e,t,i)=>{b||void 0===p.yR||(e.preventDefault(),e.stopPropagation(),R((0,p.yR)(w?.entityId??"",i))),void 0!==_&&_(i),I({pinId:w?.entityId??"",currentIndex:t??0,nextIndex:i,carouselData:{carouselSlots:A.carouselSlots?.map(e=>({id:e.id})),entityId:A.entityId},viewParameter:S,viewType:P,componentType:a,contextLogData:y,isEditMode:b})},{carouselSlots:O,index:L}=A,F="number"==typeof t?t:L,N="default"===T,j=N?"white":"#555",M=N?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,m.jsx)(u.ZP.Consumer,{children:({viewportSize:e})=>"sm"===e?null:(0,m.jsx)(s.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:f?"end":"center",paddingY:b?1:0,children:O&&[...Array(O.length??0).keys()].map(e=>(0,m.jsx)(s.xu,{paddingX:1,children:(0,m.jsx)(s.iP,{accessibilityLabel:(O[e]||{}).title??"",fullWidth:!1,onTap:({event:t})=>C(t,F,e),rounding:"circle",children:(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e===F?j:M}},"data-test-id":"ellipsis-size",height:8,rounding:"circle",width:8})})},(w?.entityId??"")+e))})})}},253482:(e,t,i)=>{i.d(t,{Z:()=>w});var a,r,n=i(667294);i(422578);var s=i(883119),l=i(663056),o=i(207012),d=i(807023),u=i(213377),c=i(140017),p=i(184390),h=i(223785),m=i(340523),g=i(5859),y=i(678525),_=i(206923),f=i(19447),b=i(785893);function v(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let S=void 0!==a?a:a=i(70822),P=e=>{let t=e.reduce((e,t)=>{let{imageSizeMap:i}=t,{height:a,width:r}=i?.["736x"]||i?.["236x"]||{},n=`${r??1}x${a??1}`,s=e[n]?.times||0;return{...e,[n]:{imageHeight:a,imageWidth:r,times:s+1}}},{}),i=Object.keys(t).reduce((e,i)=>t[i].times>e.times?t[i]:e,{times:-1,imageHeight:-1,imageWidth:-1});return Object.keys(t).length>1?{imageHeight:i.imageHeight,imageWidth:i.imageWidth}:null},T=(e,t,i,a,r,n,l,o,d,u,c,p,h,m,g,_)=>{let f;let{imageSizeMap:v,details:S=""}=t,P=236,T=236,E="";r?(P=474,T=v&&Math.min(P/.8,P/((v["564x"]?.width??1)/(v["564x"]?.height??1))),E=v&&v["564x"]?.url):v&&v["736x"]?(T=v&&v["736x"]&&v["736x"].height,P=v&&v["736x"]&&v["736x"].width,E=v&&v["736x"]&&v["736x"].url):v&&v["236x"]&&(T=v&&v["236x"]&&v["236x"].height,P=v&&v["236x"]&&v["236x"].width,E=v&&v["236x"]&&v["236x"].url),h&&m&&(T=Math.min(h*m,T??1)),f=n?`${v?.["236x"]?.url??""} 1x`:r?`${v?.["564x"]?.url??""} 1x`:[v?.["474x"]&&`${v["474x"].url??""} 2x`,v?.["736x"]&&`${v["736x"].url??""} 3x`,v?.orig&&`${v.orig.url??""} 4x`].filter(Boolean).join(", ");let x=(0,y.GH)(S,e,a),w=p?void 0:T,k=p?void 0:P,{boxHeight:I,boxWidth:D}=g?{boxHeight:g?.imageHeight,boxWidth:g?.imageWidth}:{boxHeight:w,boxWidth:k};return(0,b.jsx)(s.xu,{"data-test-id":"carousel-slot-container",height:I??void 0,width:D??void 0,children:(0,b.jsx)(s.xu,{"data-test-id":`carousel-img-${a}`,height:p?c:void 0,width:p||void 0,children:(0,b.jsx)(s.Ee,{alt:x,crossOrigin:_?"anonymous":void 0,fit:p?"cover":"none",naturalHeight:T??1,naturalWidth:P??1,onError:l,onLoad:o,src:E??"",srcSet:f})})},`carousel-slot-${i}-${a}`)},E=({pinId:e,slot:t,slotIndex:i,onError:a,onLoad:r,widthToUse:n,gap:l},o)=>{let d=["564x","736x","474x","236x"].map(e=>t.imageSizeMap?.[e]).find(e=>e?.url),{url:u,width:c,height:p}=d||{},{details:h=""}=t,m=(0,y.GH)(h,o,i);return(0,b.jsx)(s.xu,{"data-test-id":"carousel-slot-container",height:"100%",marginEnd:l,width:n,children:(0,b.jsx)(s.zd,{height:"100%",wash:!0,children:(0,b.jsx)(s.Ee,{alt:m,fit:"contain",naturalHeight:p??1,naturalWidth:c??1,onError:a,onLoad:r,src:u??""})})},`carousel-slot-${e}-${i}`)};class x extends n.Component{constructor(...e){super(...e),v(this,"state",{showBadge:!0,startImpressionTimer:!1}),v(this,"renderBadge",()=>{let{carouselData:e,isCloseup:t,showCarouselBadge:i}=this.props;if(!e)return null;let{showBadge:a}=this.state,{carouselSlots:r,index:n}=e;return!t&&i?(0,b.jsx)(s.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:a?.8:0,transition:"opacity .3s"}},display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new s.Ry(1),children:(0,b.jsx)(s.xv,{color:"inverse",children:`${(n??0)+1}/${(r??[]).length}`})}):null}),v(this,"onLoadImage",()=>{this.setState({startImpressionTimer:!0}),this.props.onLoad?.()}),v(this,"onImageLoadError",()=>{this.setState({startImpressionTimer:!1}),this.props.onError?.()})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){let{showBadge:t}=this.state,{carouselData:i}=e,{carouselData:a}=this.props;if(!i||!a)return;let{index:r}=i,{index:n}=a;t&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),r!==n&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){let e;let{isCloseup:t,carouselIndex:i,closeupHeight:a,closeupWidth:r=0,widthRatio:n=1,cropHeight:l,cropWidth:o,carouselData:d,disableTransition:c,highResOnly:m,lowResOnly:g,pinId:f,imageSignature:v,isEditMode:S,isDenseView:x,isThirdPartyAd:w,checkExperiment:k,isAuthenticated:I}=this.props;if(!d)return null;if(n>1||n<0)throw Error("widthRatio should be between 0 and 1 inclusive");let{carouselSlots:D}=d,A=d.index??0,R=void 0!==i?i:A??0,C=!t&&o,{imageSizeMap:O}=D[R]||{};e=t?r:C||(m?474:x?u.Lo:u.yF);let L=Math.floor(e*n),F=O?.["236x"]||{},N=l||F.height||0,j=o||F.width||236,M=a||N/j*L,V=P(D),U=k(I?"web_deprecated_impression_tracker_carousel_impression_auth":"web_deprecated_impression_tracker_carousel_impression_unauth").anyEnabled;return(0,b.jsxs)(s.xu,{alignItems:"center","data-test-id":"carousel-pin","data-test-image-signature":v,display:"flex",height:M,minHeight:h.Ml,overflow:"hidden",children:[!S&&this.renderBadge(),U?(0,b.jsx)(_.lu,{carouselData:{...d,type:"canonical"},impressionType:"Pin",isPaused:!this.state.startImpressionTimer,loggingId:f,slotIndex:A??0,viewParameter:72,viewType:1,children:({impressionTrackerRef:e})=>(0,b.jsx)(s.xu,{ref:e,"data-test-id":`carousel-impression-ref-${f}-${A}`,height:M,overflow:"hidden",position:"absolute",width:L})},`carousel-impression-key-${R}`):(0,b.jsx)(p.Z,{carouselData:{...d,type:"canonical"},impressionType:"Pin",loggingId:f,pinData:null,slotIndex:A??0,trackCarousel:!0,viewParameter:72,viewType:1,children:(0,b.jsx)(s.xu,{height:M,overflow:"hidden",position:"absolute",width:L})},`carousel-impression-key-${R}`),(0,b.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{transition:c?"":"left .3s",left:(0,y.vF)(D.length,L,e,R)}},direction:"row",display:"flex",height:"100%",left:!0,position:"relative",width:L*D.length,children:D.map((i,n)=>{if(t){let t=n===D.length-1;return E({pinId:f,slot:i,slotIndex:n,onError:this.onImageLoadError,onLoad:this.onLoadImage,widthToUse:L,gap:L<e&&!t?1:0},this.props.i18n)}return T(this.props.i18n,i,f,n,m,g,this.onImageLoadError,this.onLoadImage,r,a,l,o,M,L,V,w)})})]})}}function w({pinKey:e,...t}){let a;let n=(0,c.ZP)(),s=(0,f.S6)(),u=s(t.pinId),{checkExperiment:p}=(0,m.F)(),{isAuthenticated:h}=(0,g.B)();a=null==e||"graphqlRef"===e.type?e:null!=u?{type:"deprecated",data:u}:null;let y=(0,o.Z)(S,a),{childDataKey__DEPRECATED:_}=(0,d.Q)(void 0!==r?r:r=i(415970),y,{useLegacyAdapter:e=>({})}),v=(0,l.Z)(_),P=v&&{...v,carouselSlots:function(e){let t=["236x","474x","564x","736x"].map(t=>{let i=Math.min(...e.map(e=>e.imageSizeMap?.[t]?.height||1/0)),a=Math.min(...e.map(e=>e.imageSizeMap?.[t]?.width||1/0));return{imageKey:t,height:i,width:a}});return e.map(e=>t.reduce((e,{imageKey:t,height:i,width:a})=>e.imageSizeMap?.[t]?{...e,imageSizeMap:{...e.imageSizeMap,[t]:{...e.imageSizeMap[t],height:i,width:a}}}:e,e))}(v.carouselSlots)};return(0,b.jsx)(x,{...t,carouselData:P,checkExperiment:p,i18n:n,imageSignature:y?.imageSignature,isAuthenticated:h})}v(x,"defaultProps",{showCarouselBadge:!0})},256963:(e,t,i)=>{i.d(t,{Z:()=>d}),i(167912);var a,r=i(214877),n=i(207012),s=i(268127),l=i(953565);let o=void 0!==a?a:a=i(421664);function d(e,t){let{logContextEvent:i}=(0,r.v)(),a=(0,n.Z)(o,e);null!=e&&"deprecated"===e.type&&e.data&&"pin"!==e.data.type&&(0,l.nP)("web.graphql.debug.useLogSwipeError",{sampleRate:1,tags:{parent:t,rootType:e.data.type}});let d=(0,s.Z)(a);return function({pinId:e,currentIndex:t,nextIndex:a,carouselData:r,viewParameter:n,viewType:s,componentType:l,contextLogData:o,isEditMode:u}){if(!u){let{carouselSlots:u,entityId:c}=r;i({event_type:108,object_id_str:e,component:l,view_type:s,view_parameter:n,event_data:{pinCarouselSlotEventData:{carouselSlotId:u?.[t]&&Number(u[t].id),carouselDataId:Number(c),carouselSlotIndex:t,toCarouselSlotIndex:a}},aux_data:{...o,...d()}})}}}},572345:(e,t,i)=>{i.d(t,{O:()=>d,Z:()=>u});var a=i(667294),r=i(883119),n=i(140017),s=i(702497),l=i(785893);let o={xs:12,sm:16,md:20,lg:24};function d({children:e}){let t=(0,n.ZP)();return(0,l.jsx)(r.u,{link:(0,l.jsx)(r.rU,{href:s.vBy,target:"blank",children:(0,l.jsx)(r.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function u({iconOnly:e,isVerifiedIdentity:t,isVerifiedMerchant:i,showText:s,size:u}){let c=(0,n.ZP)(),p=(0,l.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(r.JO,{accessibilityLabel:c._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:o[u]}),s&&(0,l.jsx)(r.xu,{marginStart:2,children:(0,l.jsx)(r.xv,{color:"shopping",inline:!0,weight:"bold",children:c._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,l.jsxs)(a.Fragment,{children:[i&&!e&&(0,l.jsx)(d,{children:p}),i&&e&&p,t&&!i&&(0,l.jsx)(r.JO,{accessibilityLabel:c._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:o[u]})]})}},647123:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(667294),r=i(191313);let n=e=>{if(!e)return null;try{return JSON.parse(e)}catch{return null}},s=new Set;function l(e){let t=(0,a.useCallback)(t=>{let i=i=>{i===e&&t()};return s.add(i),()=>{s.delete(i)}},[e]),i=(0,a.useSyncExternalStore)(t,()=>(0,r.qn)(e),()=>null),l=(0,a.useCallback)(t=>{null===t?(0,r.L_)(e):(0,r.Nh)(e,JSON.stringify(t)),s.forEach(t=>t(e))},[e]);return(0,a.useMemo)(()=>[n(i),l],[i,l])}},64819:(e,t,i)=>{function a(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function r(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}i.d(t,{EX:()=>s,N8:()=>r,Qv:()=>n,_f:()=>a,vX:()=>l});let n=(e,t,i=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:i,items:t}});function s(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function l(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},937310:(e,t,i)=>{i.d(t,{Z:()=>a});let a={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},734950:(e,t,i)=>{i.d(t,{P:()=>g,Z:()=>_});var a=i(667294),r=i(293041),n=i(883119),s=i(86785),l=i(140017),o=i(406893),d=i(340523),u=i(5859),c=i(554786),p=i(369708),h=i(785893);function m(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let g=`
  video::cue {
    color: white;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Helvetica, 'ヒラギノ角ゴ Pro W3', 'メイリオ', Meiryo, 'ＭＳ Ｐゴシック', Arial, sans-serif;
    font-weight: 450;
    font-size: 18px;
  }
`;class y extends a.PureComponent{constructor(...e){super(...e),m(this,"state",{videoStartTime:0,started:!1}),m(this,"setVideoPlayerRef",e=>{let{setVideoRef:t,handlePlay:i,autoplay:a=!0}=this.props;this.videoPlayerRef=e,e&&t&&t(e.video),this.videoPlayerRef&&this.videoPlayerRef.video&&i&&a&&this.videoPlayerRef.video.addEventListener("canplay",()=>{i({userTriggeredPlay:!1})})}),m(this,"hls",null),m(this,"initializeHls",()=>{this.destroyHls();let{src:e}=this.props,t=new r.ZP;r.ZP.isSupported()&&!(0,s.G6)(this.props.requestContext.userAgent.browserName)&&(t.loadSource(e),this.videoPlayerRef&&t.attachMedia(this.videoPlayerRef.video)),this.hls=t}),m(this,"destroyHls",()=>{let{hls:e}=this;e&&e.destroy()}),m(this,"onPlay",({event:e})=>{let{handlePlay:t}=this.props;e.stopPropagation(),t&&t({userTriggeredPlay:!0})}),m(this,"onPause",({event:e})=>{let{handlePause:t}=this.props;e.stopPropagation(),t&&t()}),m(this,"handleVolumeChange",({event:e,volume:t})=>{let{onVolumeChange:i}=this.props;e.stopPropagation(),i&&i({volume:t})}),m(this,"handleOnReady",e=>{this.props.onReady&&this.props.onReady(e)}),m(this,"handleEnded",()=>{let{onEnded:e}=this.props;e&&e()}),m(this,"handlePlaying",()=>{let{clearSeekTime:e,setVideoPlayed:t}=this.props;e&&e(),!this.state.started&&(this.setState({started:!0}),t&&t())})}componentDidMount(){this.initializeHls()}componentWillUnmount(){this.destroyHls()}componentDidUpdate(e){let{activeStreamItemIndex:t,playing:i,src:a,seekTime:n,captionsEnabled:s,isDesktop:l,isTablet:o,requestContext:d,isVideoPin:u}=this.props,{isAuthenticated:c}=d;n&&n!==e.seekTime&&this.setState({videoStartTime:n});let p=this.videoPlayerRef?.video?.textTracks[0];p&&(s?p.mode="showing":p.mode="disabled",p.addEventListener("cuechange",()=>{let e=p.activeCues&&p.activeCues.length>0&&p.activeCues[0];if(e&&e.line&&e.size){if(l)e.line=-6,e.size=88;else{if(e.size=70,u){e.line=-5;return}c?e.line=-8:(e.line=-10,o&&(e.line=-15))}}})),t!==e.activeStreamItemIndex&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=0),e.src!==a&&(this.initializeHls(),this.hls&&this.hls.on(r.ZP.Events.MANIFEST_PARSED,()=>{void 0!==i&&i&&this.videoPlayerRef&&this.videoPlayerRef.play()}))}render(){let{aspectRatio:e,controls:t,loop:i=!1,poster:a,src:r,onTimeChange:s,playing:l,volume:d,captions:u,isInCaptionsExperiment:c}=this.props;return(0,h.jsxs)(n.xu,{width:"100%",children:[(0,h.jsx)(o.Z,{unsafeCSS:g}),(0,h.jsx)(n.nk,{ref:this.setVideoPlayerRef,aspectRatio:e,autoplay:l,captions:u,controls:t,crossOrigin:c?"anonymous":void 0,loop:i,onControlsPause:this.onPause,onControlsPlay:this.onPlay,onEnded:this.handleEnded,onPlay:()=>{},onPlayError:()=>{},onPlaying:this.handlePlaying,onReady:this.handleOnReady,onTimeChange:s,onVolumeChange:this.handleVolumeChange,playing:l,playsInline:!0,poster:a,src:r,startTime:this.state.videoStartTime||void 0,volume:d})]})}}function _(e){let{clearSeekTime:t,pinId:i="",seekTime:a}=e,{setVideoPlayed:r}=(0,p.rG)(),n=(0,l.ZP)(),s=(0,u.B)(),o=(0,c.HG)(),m=(0,c.Wb)(),{checkExperiment:g}=(0,d.F)(),{anyEnabled:_}=g("unauth_mweb_video_pin_captions",{dangerouslySkipActivation:!0});return(0,h.jsx)(y,{...e,clearSeekTime:()=>{t&&t(i)},i18n:n,isDesktop:o,isInCaptionsExperiment:_,isTablet:m,requestContext:s,seekTime:a,setVideoPlayed:()=>{i&&r(i)}})}},156591:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(883119),r=i(419075),n=i(140017),s=i(785893);function l({duration:e}){let t=(0,n.ZP)();return(0,s.jsxs)(a.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,s.jsx)(a.JO,{accessibilityLabel:t._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,s.jsx)(a.xu,{marginStart:1,children:(0,s.jsx)(a.xv,{color:"inverse",lineClamp:1,size:"100",children:(0,r.Z)(e)})})]})}},628189:(e,t,i)=>{i.d(t,{ZP:()=>P});var a=i(667294),r=i(883119),n=i(214877),s=i(920434),l=i(541841),o=i(340523),d=i(537513),u=i(369708),c=i(181056),p=i(131348),h=i(785893);function m(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let g=[0,.25,.5,.75,.95,.97],y=[0,.5,.8,.99,1],_={rootMargin:"-64px 0px 0px 0px",threshold:[...c.iM]},f=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function b(){return new Date().getTime()}function v(e){return!!e.volume&&e.volume>0}class S extends a.Component{constructor(e){super(e),m(this,"videoWrapperRef",(0,a.createRef)()),m(this,"handleWindowResize",()=>{if(!this.fullscreen){let e=this.getDimensions(),{height:t,width:i}=this.currentInterval;e.height!==t||e.width!==i?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),m(this,"handlePlayheadDown",({event:e})=>{let{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})}),m(this,"handlePlayheadUp",({event:e})=>{let{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})}),m(this,"handleLoop",()=>{this.videoTime=0}),m(this,"handlePlaying",e=>{this.logVideoStart(),this.props.onPlaying&&this.props.onPlaying(e)}),m(this,"handleTimeChange",e=>{let{seeking:t,ready:i}=this.state;if(!this.currentInterval.videoDuration)return;let a=1e3*e.time,r=function(e,t,i,a){if(e>t||i<=0)return null;for(let r of a){let a=r*i;if(e<=a&&t>a)return r}return null}(this.videoTime,a,this.currentInterval.videoDuration,g);if("number"==typeof r&&this.props.playing&&!t&&i){let e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*r),quartilePercentValue:r})}this.videoTime=a,this.props.onTimeChange&&this.props.onTimeChange(e)}),m(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),m(this,"handleReady",e=>{let{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),m(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),m(this,"handleVisibilityChange",e=>{if(0===e.length)return;let t=e.slice(-1)[0],i=function(e,t){for(let i=0;i<t.length;i+=1){let a=t[i],r=t[i+1];if(null==r||a<=e&&e<r)return a}return null}(Number.parseFloat(t.intersectionRatio.toFixed(2)),y);"number"==typeof i&&(this.visible=i>=.5),null==i||i===this.currentInterval.viewability||this.fullscreen||(0===i?this.startNewInterval({viewability:i,playbackState:f.PAUSED}):this.startNewInterval({viewability:i}))}),m(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{if(t){let{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})}),m(this,"handleClose",()=>{this.startNewInterval()}),m(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1,started:!1};let t=b();this.handleWindowResize=(0,s.Z)(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:v(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){let i={};v(e)&&!v(this.props)?i.isAudible=!1:!v(e)&&v(this.props)&&(i.isAudible=!0);let a=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==a&&(i.playbackState=a),Object.keys(i).length>0&&this.startNewInterval(i)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?f.PLAYING:f.PAUSED:f.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){let i=this.videoWrapperRef.current;i.clientHeight&&i.clientWidth&&(e=i.clientHeight,t=i.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){let{closeupStoryPinViewability:i,contextLogData:a,logContextEvent:r,playing:n,surface:s}=this.props,{seeking:l}=this.state,{height:o,width:d,windowHeight:u,windowWidth:c,viewability:p,...h}=t;if(null!=o&&null!=d&&null!=u&&null!=c&&null!=p){let t={...h,gridAutoplay:6904===e&&n&&!l&&("AuthHomefeed"===s||"SearchItem"===s||"RelatedPinGrid"===s||"PdpRelatedPinGrid"===s),height:o,width:d,windowHeight:u,windowWidth:c,viewability:i||p};r({event_type:e,...function(e){let{eventData:{videoEvent:{gridAutoplay:t,videoDuration:i,startTime:a,endTime:r,videoStartTime:n,videoEndTime:s,isAudible:l,height:o,width:d,playbackState:u,quartile:c,quartilePercentValue:p,windowHeight:h,windowWidth:m,viewability:g}},component:y,objectId:_,view:f,viewParameter:b,...v}=e;return{component:y,object_id_str:_,view_type:f,view_parameter:b,aux_data:{...v},event_data:{videoEventData:{gridAutoplay:t,videoDuration:i,time:a,endTime:r,videoTime:n,endVideoTime:s,isAudible:l,height:o,width:d,playbackState:u,quartile:c,quartilePercentValue:p,windowHeight:h,windowWidth:m,viewability:g}}}}({...a,view:this.fullscreen?108:a.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){let e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}logVideoStart(){if(this.state.started)return;let{contextLogData:e,setVideoPlayed:t,shouldLogVideoStart:i}=this.props;if(i){let e=b();this.logVideoEvent(3621,{...this.currentInterval,startTime:e,endTime:e,videoEndTime:this.videoTime})}t(e.objectId),this.setState({started:!0})}startNewInterval(e){let t=b();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){let{aspectRatio:e,backgroundColor:t,captions:i,contextLogData:a,controls:n,cropHeight:s,hlsConfig:o,isAutoPlay:u,loop:c,objectFit:m,onLoadedChange:g,onControlsPause:y,onControlsPlay:f,onSeek:b,onVolumeChange:v,playbackRate:S,playing:P,playsInline:T,poster:E,preload:x,rootMargin:w,src:k,surface:I,videoStartTime:D,volume:A}=this.props,{seeking:R}=this.state;return void 0!==w&&(_.rootMargin=I?(0,d.e)(I):w),(0,h.jsx)(l.Z,{onVisibilityChange:this.handleVisibilityChange,options:_,children:(0,h.jsx)(r.xu,{ref:this.videoWrapperRef,dangerouslySetInlineStyle:{__style:s?{display:"flex",alignItems:"center",height:`${s}px`}:{}},onContextMenu:this.handleContextMenu,children:(0,h.jsx)(p.default,{aspectRatio:s?236/s:e,backgroundColor:t,captions:i,contextLogData:a,controls:n,hlsConfig:o,isAutoPlay:u,loop:c,objectFit:m,onControlsPause:y,onControlsPlay:f,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:g,onLoop:this.handleLoop,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onPlaying:this.handlePlaying,onReady:this.handleReady,onSeek:b,onTimeChange:this.handleTimeChange,onVolumeChange:v,playbackRate:S,playing:!R&&P,playsInline:T,poster:E,preload:x,src:k,videoStartTime:D,visible:this.visible,volume:A})})})}}function P(e){let{logContextEvent:t}=(0,n.v)(),{checkExperiment:i}=(0,o.F)(),{setVideoPlayed:a}=(0,u.rG)(),r=i("web_video_start_log").anyEnabled;return(0,h.jsx)(S,{...e,logContextEvent:t,setVideoPlayed:a,shouldLogVideoStart:r})}m(S,"defaultProps",r.nk.defaultProps)},131348:(e,t,i)=>{i.r(t),i.d(t,{VideoWrapper:()=>E,default:()=>x,getPlaylistSourceSrc:()=>T});var a=i(667294),r=i(86785),n=i(5859),s=i(214164),l=i(584452),o=i(369708),d=i(239821),u=i(883119),c=i(214877),p=i(406893),h=i(149722),m=i(813779),g=i(115557),y=i(734950),_=i(785893);function f(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function b(e){return e&&void 0!==e?"string"==typeof e?e:Array.isArray(e)&&e[0].src?e[0].src:`unsupported_type_${typeof e}`:"undefined"}class v extends a.Component{constructor(...e){super(...e),f(this,"state",{canPlayVideo:!1,playbackState:g.Cy.DEFAULT,videoStartTime:this.props.seekTime?this.props.seekTime:this.props.videoStartTime||0}),f(this,"errorRetryCount",2),f(this,"hasSegmentStarted",!1),f(this,"hasPlaybackStarted",!1),f(this,"hasVideoSessionStarted",!1),f(this,"hasVideoSessionEnded",!1),f(this,"lastStallTime",null),f(this,"lastPauseTime",null),f(this,"logSessionStartOnNextPlay",!1),f(this,"playerId",""),f(this,"videoSessionId",""),f(this,"videoVisibleTime",null),f(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:b(this.props.src),totalStallDurationMs:0,totalPauseDurationMs:0,webBrowser:this.props.webBrowser,webBrowserVersion:this.props.webBrowserVersion}),f(this,"componentDidMount",()=>{let{contextLogData:e={},playing:t}=this.props,{is_closeup_video:i=!1}=e;(0,m.tE)("videoMounted",!1,i),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(g.DR,{initiator:"mount"}));let a=this.videoPlayerRef?.video?.textTracks[0];a&&a.addEventListener("cuechange",()=>{let e=a.activeCues[0];e&&e.line&&(e.line=-6,e.size=88)})}),f(this,"componentDidUpdate",e=>{let{playing:t,visible:i,appInFocus:a,seekTime:r,captionsEnabled:n}=this.props;r&&r!==e.seekTime&&this.setState({videoStartTime:r});let s=this.videoPlayerRef?.video?.textTracks[0];s&&(n?s.mode="showing":s.mode="disabled"),e.appInFocus&&!a&&(this.logPlaybackPerformance(g.$f,{initiator:"update"}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===i&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(g.$f,{initiator:"update"})),!1===e.visible&&!0===i&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(g.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&a&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(g.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}),f(this,"addSegment",()=>{let{canPlayTime:e,loadStartTime:t,segments:i,srcString:a}=this.playbackPerformance,r=-1;e&&t&&0===i.length&&(r=e>t?e-t:0);let n=this.videoPlayerRef&&this.videoPlayerRef.video,s={indicatedKbps:-1,duration:n&&n.duration*g.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:r,switchBitrateKbps:-1,uri:a,viewportWidth:n&&n.clientWidth||-1,viewportHeight:n&&n.clientHeight||-1,watchedDurationMs:0};i.push(s)}),f(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*g.gJ:0),f(this,"getVideoResourceTiming",()=>{if(window?.performance?.getEntriesByName&&this.playbackPerformance.srcString){let e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null}),f(this,"handleCanPlayVideo",e=>{let{contextLogData:t={},onReady:i,playing:a}=this.props,{is_closeup_video:r=!1}=t,{canPlayVideo:n}=this.state;(0,m.tE)("handleCanPlayVideo",!1,r,{firstCanPlayEvent:!n,playing:a}),this.playbackPerformance.hasFatalError=!1,n||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),i&&i(e)}),f(this,"handleEnded",e=>{let{loop:t,onEnded:i}=this.props,{segments:a}=this.playbackPerformance,r=a&&a[a.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),r&&(r.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(g.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:g.Cy.ENDED}),i&&i(e)}),f(this,"handleError",()=>{let{contextLogData:e={}}=this.props,{is_closeup_video:t=!1}=e,i=this.videoPlayerRef&&this.videoPlayerRef.video;i?.error?.code!==g.lG.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${i?.error?.message||""}`,this.playbackPerformance.errorCode=i?.error?.code||0,this.playbackPerformance.errorName=i?.error?.message?.slice(0,100)||"unknown",this.playbackPerformance.errorReason=i?.error?.message?.slice(0,100)||"unknown";let a={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:i?.networkState||"unknown"};switch((0,m.tE)("fatalError",!1,t,a),i?.error?.code){case g.lG.MEDIA_ERR_ABORTED:break;case g.lG.MEDIA_ERR_NETWORK:case g.lG.MEDIA_ERR_DECODE:case g.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(i?.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:g.Cy.FAILED})}),f(this,"handleLoadedMetadata",()=>{this.setState({playbackState:g.Cy.LOADED_METADATA})}),f(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:g.Cy.LOAD_START})}),f(this,"handleLoadedData",()=>{this.setState({playbackState:g.Cy.LOADED_DATA})}),f(this,"handlePlaying",e=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:g.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime(),this.props.onPlaying&&this.props.onPlaying(e)}),f(this,"handleUserPause",({event:e})=>{let{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t({event:e})}),f(this,"handleVideoPause",()=>{this.state.playbackState===g.Cy.STALLING||this.state.playbackState===g.Cy.SEEKING||(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:g.Cy.PAUSED})}),f(this,"handleSeeking",()=>{this.playbackPerformance.numberOfSeeks+=1;let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==g.Cy.ENDED&&this.setState({playbackState:g.Cy.SEEKING})}),f(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==g.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1,this.setState({playbackState:g.Cy.STALLING}))}),f(this,"handleTimeUpdate",e=>{let{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===g.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())}),f(this,"resetPlaybackMetrics",()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;let e=this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],t={...e,lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[t]}),f(this,"setLastSegmentStartPlayTime",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())}),f(this,"setLastSegmentPlaybackStartDate",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())}),f(this,"setPlaybackStartTime",()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)}),f(this,"setVideoPlayerRef",e=>{let{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){let e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),f(this,"updateStallDuration",()=>{if(null!==this.lastStallTime){let{lastStallTime:e}=this;this.playbackPerformance.totalStallDurationMs+=new Date-e,this.lastStallTime=null}}),f(this,"updatePauseDuration",()=>{if(null!==this.lastPauseTime){let{lastPauseTime:e}=this;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}}),f(this,"updateWatchDurationForCurrentSegment",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],i=t?t.lastStartPlayTime:null,a=this.getCurrentVideoTime();if(t&&null!==i&&"number"==typeof a&&"number"==typeof i){let e=a-i;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}}),f(this,"logPlaybackPerformance",(e,t)=>{let{contextLogData:i={},userId:a,isAutoPlay:r,logContextEvent:n,preload:s,webBrowser:l,webBrowserVersion:o}=this.props,{is_closeup_video:d=!1}=i,{canPlayTime:u,detailedErrors:c,errorCode:p,errorName:h,errorReason:y,hasFatalError:_,loadStartTime:f,totalPauseDurationMs:b,totalStallDurationMs:v,numberOfStalls:S,numberOfSeeks:P,playbackStartTimestamp:T,segments:E,srcString:x}=this.playbackPerformance,w=this.videoPlayerRef&&this.videoPlayerRef.video,k=e===g.DR,I=k&&!this.hasVideoSessionStarted,D=!k&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(w&&(I||D)){let I=-1;u&&f&&(I=u>f?u-f:0);let D=-1;u&&this.videoVisibleTime&&(D=u>this.videoVisibleTime?u-this.videoVisibleTime:0),k&&(this.videoSessionId=(0,g.Y7)(a),this.playerId=this.playerId||(0,g.EB)());let A=this.getVideoResourceTiming(),R={averageVideoKbps:-1,autoplaying:r,detailedErrors:c,downloadedKiloBytes:"number"==typeof A?.decodedBodySize&&A.decodedBodySize/g.Fm||0,errorCode:p,errorName:h,errorReason:y,fatalError:_,isCellular:!1,nativeVideoDurationMs:w.duration*g.gJ||-1,numberOfStalls:S,numberOfSeeks:P,overallPausedDurationMs:b,overallBufferDurationMs:v,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:T||-1,segments:[],sessionMark:e,screenPixelScale:window?.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:w.clientWidth,startupPlayerHeight:w.clientHeight,startupTimeMs:I,startupLatencyMs:D,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:w.videoWidth,startupVariantHeight:w.videoHeight,videoUrl:x,wasVideoPreloaded:"auto"===s};if(!k){this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();let e=E.reduce((e,t)=>e+(t.watchedDurationMs||0),0);R.overallWatchedDurationMs=e,R.startupVariantWatchedDurationMs=e,R.segments=this.playbackPerformance.segments,0===e?(R.errorName="invalid_watch_duration",R.rebufferRate=-1):R.rebufferRate=v/e}(0,m.ZP)(R,!1,d,{playbackState:this.state.playbackState,...t});let{view:C,viewParameter:O,component:L,element:F,objectId:N,...j}=i;n({event_type:3606,event_data:{videoPerformanceData:R},view_type:C,view_parameter:O,component:L,element:F,object_id_str:N,aux_data:{...j,is_closeup_video:d,playback_session_id:this.videoSessionId,web_browser:l,web_browser_version:o}}),k?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,m.tE)(k?"sessionStart":"sessionEnd",!1,d,{playbackState:this.state.playbackState,...t})}})}componentWillUnmount(){let{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(g.$f,{initiator:"unmount",loop:e})}render(){let{aspectRatio:e,captions:t,controls:i,loop:r,loopOverride:n,objectFit:s,onDurationChange:l,onFullscreenChange:o,onLoadedChange:d,onControlsPlay:c,onPlayheadDown:h,onPlayheadUp:m,onSeek:g,onVolumeChange:f,playbackRate:v,playing:S,playsInline:P,poster:T,preload:E,src:x,volume:w}=this.props,{canPlayVideo:k,videoStartTime:I}=this.state;return(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(p.Z,{unsafeCSS:y.P}),(0,_.jsx)(u.nk,{ref:this.setVideoPlayerRef,aspectRatio:e,autoplay:k&&S,captions:t,controls:i,loop:void 0===n?r:n,objectFit:s,onControlsPause:this.handleUserPause,onControlsPlay:c,onDurationChange:l,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:o,onLoadedChange:d,onLoadStart:this.handleLoadStart,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:h,onPlayheadUp:m,onPlaying:this.handlePlaying,onReady:this.handleCanPlayVideo,onSeek:g,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:f,onWaiting:this.handleStalled,playbackRate:v,playing:k&&S,playsInline:P,poster:T,preload:E,src:b(x),startTime:I||void 0,volume:w})]})}}let S=(0,a.memo)(function(e){let{logContextEvent:t}=(0,c.v)(),{country:i,isAuthenticated:a,isBot:r,isSocialBot:l,unauthId:o,userAgent:u}=(0,n.B)(),{browserName:p,browserVersion:g,isMobile:y}=u,{contextLogData:f={}}=e,{is_closeup_video:b=!1,view:S,viewParameter:P}=f,{appUI:{appInFocus:T}}=(0,d.I)(),{clearSeekTime:E}=(0,s.RC)(),x=(0,h.Z)();return(0,m.r$)({browserName:p,browserVersion:g,country:i,isAuthenticated:a,isBot:r,is_closeup_video:b,isMobile:y,isSocialBot:l,view:S,viewParameter:P}),(0,_.jsx)(v,{...e,appInFocus:T,clearSeekTime:E,logContextEvent:t,userId:x.id||o,webBrowser:p,webBrowserVersion:g})});function P(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let T=e=>{if(Array.isArray(e)){let t=e.find(e=>"video/m3u8"===e.type);return t?t.src:void 0}return/m3u8$/.test(e)?e:void 0};class E extends a.PureComponent{constructor(...e){super(...e),P(this,"componentDidUpdate",e=>{e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&this.videoPlayerRef?.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)}),P(this,"isHslVideo",()=>{let e=T(this.props.src);return!this.props.preferMp4&&!(0,r.G6)(this.props.requestContext.userAgent.browserName)&&!!e}),P(this,"setVideoPlayerRef",e=>{e&&(this.videoPlayerRef=e)}),P(this,"handleOnEnded",({event:e})=>{let{loop:t,onLoop:i,onEnded:a}=this.props;a&&(a({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),i&&i()))}),P(this,"handlePlaying",e=>{this.props.onPlaying&&this.props.onPlaying(e)})}render(){let{aspectRatio:e,appInFocus:t,backgroundColor:i,captions:a,toggleCaptions:r,clearSeekTime:n,contextLogData:s,controls:o,hlsConfig:d,isAutoPlay:u,loop:c,objectFit:p,onDurationChange:h,onEnded:m,onFullscreenChange:g,onLoadedChange:y,onControlsPause:f,onControlsPlay:b,onPlayheadDown:v,onPlayheadUp:P,onReady:E,onSeek:x,onTimeChange:w,onVolumeChange:k,playbackRate:I,playing:D,playsInline:A,poster:R,preferMp4:C,preload:O,seekTime:L,src:F,videoStartTime:N,visible:j,volume:M}=this.props,V=T(F),U={...d,startPosition:N||-1},Z=!m&&c;return this.isHslVideo()&&V?(0,_.jsx)(l.Z,{appInFocus:t,aspectRatio:e,backgroundColor:i,captions:a,captionsEnabled:r,clearSeekTime:n,contextLogData:s,controls:o,hlsConfig:U,isAutoPlay:u,loop:c,loopOverride:Z,objectFit:p,onControlsPause:f,onControlsPlay:b,onDurationChange:h,onEnded:this.handleOnEnded,onFullscreenChange:g,onLoadedChange:y,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:v,onPlayheadUp:P,onPlaying:this.handlePlaying,onReady:E,onSeek:x,onTimeChange:w,onVolumeChange:k,playbackRate:I,playing:D,playsInline:A,poster:R,preload:O,seekTime:L,setVideoRef:this.setVideoPlayerRef,src:V,visible:j,volume:M}):(0,_.jsx)(S,{aspectRatio:e,captions:a,captionsEnabled:r,clearSeekTime:n,contextLogData:s,controls:o,isAutoPlay:u,loop:c,loopOverride:Z,objectFit:p,onControlsPause:f,onControlsPlay:b,onDurationChange:h,onEnded:this.handleOnEnded,onFullscreenChange:g,onLoadedChange:y,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:v,onPlayheadUp:P,onPlaying:this.handlePlaying,onReady:E,onSeek:x,onTimeChange:w,onVolumeChange:k,playbackRate:I,playing:D,playsInline:A,poster:R,preload:O,seekTime:L,setVideoRef:this.setVideoPlayerRef,src:C?F:V||F,videoStartTime:N,visible:j,volume:M})}}function x(e){let{appUI:{appInFocus:t}}=(0,d.I)(),{seekTime:i}=(0,s.Hx)(),{captionsEnabled:a}=(0,o.rG)(),{clearSeekTime:r}=(0,s.RC)(),l=(0,n.B)();return(0,_.jsx)(E,{...e,appInFocus:t,clearSeekTime:r,requestContext:l,seekTime:i,toggleCaptions:a})}},181056:(e,t,i)=>{i.d(t,{Ul:()=>n,VS:()=>a,hy:()=>s,iM:()=>r,j4:()=>l});let a=2,r=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1],n={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",bottom:0},s=128,l=e=>e&&document.querySelector(`video[poster="${e}"]`)||null},184508:e=>{e.exports="https://s.pinimg.com/webapp/goodIdeaAnimated-5de05cb7.svg"},147916:e=>{e.exports="https://s.pinimg.com/webapp/goodIdeaGrid-e3e37a7f.svg"},167361:e=>{e.exports="https://s.pinimg.com/webapp/goodIdeaStatic-855554b0.svg"},697031:e=>{e.exports="https://s.pinimg.com/webapp/hahaAnimated-df9cb2fa.svg"},404247:e=>{e.exports="https://s.pinimg.com/webapp/hahaGrid-7945c718.svg"},836866:e=>{e.exports="https://s.pinimg.com/webapp/hahaStatic-28ee6e1e.svg"},620668:e=>{e.exports="https://s.pinimg.com/webapp/loveAnimated-ccd5b808.svg"},86119:e=>{e.exports="https://s.pinimg.com/webapp/loveGrid-1ec7b8e4.svg"},753873:e=>{e.exports="https://s.pinimg.com/webapp/loveStatic-31fc2a99.svg"},873774:e=>{e.exports="https://s.pinimg.com/webapp/reactionHeartOutline-24ab75a6.svg"},479197:e=>{e.exports="https://s.pinimg.com/webapp/reactionHeartOutlineWhite-61cdbdb7.svg"},110099:e=>{e.exports="https://s.pinimg.com/webapp/thanksAnimated-6831daf3.svg"},244892:e=>{e.exports="https://s.pinimg.com/webapp/thanksGrid-b3cf8b93.svg"},485846:e=>{e.exports="https://s.pinimg.com/webapp/thanksStatic-51f19932.svg"},461471:e=>{e.exports="https://s.pinimg.com/webapp/wowAnimated-b776449f.svg"},662502:e=>{e.exports="https://s.pinimg.com/webapp/wowGrid-9e62e75a.svg"},239784:e=>{e.exports="https://s.pinimg.com/webapp/wowStatic-d966adbd.svg"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/AuthDesktopPinRep-21a91f5e08362aa9.mjs.map