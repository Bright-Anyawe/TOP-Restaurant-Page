(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[63005,16117,24859,33588,69109,48035,43113,62315,40432,42298,27672,7012,63696,33,76624,62536,22987,23813,55306,11697,27335,61672,47602,2696,63602,29060,5142,7166,90949,3472,57204,96122,79247,41659],{746377:(e,t,r)=>{var i={"./":[554053,9],"./CZ":[338969,9,38969],"./CZ.tsx":[338969,9,38969],"./DA":[999991,9,99991],"./DA.tsx":[999991,9,99991],"./DE":[775930,9,75930],"./DE.tsx":[775930,9,75930],"./ENUK":[683171,9,83171],"./ENUK.tsx":[683171,9,83171],"./ENUS":[531742,9,31742],"./ENUS.tsx":[531742,9,31742],"./ESAR":[497171,9,97171],"./ESAR.tsx":[497171,9,97171],"./ESES":[529528,9,29528],"./ESES.tsx":[529528,9,29528],"./ESMX":[827141,9,27141],"./ESMX.tsx":[827141,9,27141],"./FI":[515911,9,15911],"./FI.tsx":[515911,9,15911],"./FR":[677095,9,77095],"./FR.tsx":[677095,9,77095],"./GR":[312106,9,12106],"./GR.tsx":[312106,9,12106],"./HI":[403893,9,3893],"./HI.tsx":[403893,9,3893],"./HU":[102771,9,2771],"./HU.tsx":[102771,9,2771],"./ID":[207063,9,7063],"./ID.tsx":[207063,9,7063],"./IT":[386099,9,86099],"./IT.tsx":[386099,9,86099],"./JP":[46685,9,46685],"./JP.tsx":[46685,9,46685],"./KR":[740400,9,40400],"./KR.tsx":[740400,9,40400],"./MS":[549425,9,49425],"./MS.tsx":[549425,9,49425],"./NL":[24587,9,24587],"./NL.tsx":[24587,9,24587],"./NO":[450944,9,50944],"./NO.tsx":[450944,9,50944],"./PL":[954012,9,54012],"./PL.tsx":[954012,9,54012],"./PTBR":[635057,9,35057],"./PTBR.tsx":[635057,9,35057],"./PTPT":[94619,9,94619],"./PTPT.tsx":[94619,9,94619],"./RO":[326169,9,26169],"./RO.tsx":[326169,9,26169],"./RU":[816635,9,16635],"./RU.tsx":[816635,9,16635],"./SK":[203980,9,3980],"./SK.tsx":[203980,9,3980],"./SV":[523295,9,23295],"./SV.tsx":[523295,9,23295],"./TH":[458418,9,58418],"./TH.tsx":[458418,9,58418],"./TL":[278849,9,78849],"./TL.tsx":[278849,9,78849],"./TR":[447044,9,47044],"./TR.tsx":[447044,9,47044],"./UA":[681236,9,81236],"./UA.tsx":[681236,9,81236],"./VT":[44734,9,44734],"./VT.tsx":[44734,9,44734],"./ZHCN":[742142,9,42142],"./ZHCN.tsx":[742142,9,42142],"./ZHTW":[904959,9,4959],"./ZHTW.tsx":[904959,9,4959],"./index":[554053,9],"./index.tsx":[554053,9],"./localeToFilename":[970415,9],"./localeToFilename.ts":[970415,9],"./types":[696851,7,96851],"./types.ts":[696851,7,96851]};function n(e){if(!r.o(i,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=i[e],n=t[0];return Promise.all(t.slice(2).map(r.e)).then(()=>r.t(n,16|t[1]))}n.keys=()=>Object.keys(i),n.id=746377,e.exports=n},497621:(e,t,r)=>{"use strict";function i(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function n(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}r.d(t,{Z:()=>a});let a={p:n,P:function(e,t){var r,a=e.match(/(P+)(p+)?/),o=a[1],s=a[2];if(!s)return i(e,t);switch(o){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",i(o,t)).replace("{{time}}",n(s,t))}}},924262:(e,t,r)=>{"use strict";function i(e){return e.getTime()%6e4}function n(e){var t=new Date(e.getTime()),r=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var n=r>0?(6e4+i(t))%6e4:i(t);return 6e4*r+n}r.d(t,{Z:()=>n})},333276:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(619013),n=r(666979),a=r(507032),o=r(13882);function s(e){(0,o.Z)(1,arguments);var t=(0,i.Z)(e);return Math.round(((0,n.Z)(t).getTime()-(function(e){(0,o.Z)(1,arguments);var t=(0,a.Z)(e),r=new Date(0);return r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0),(0,n.Z)(r)})(t).getTime())/6048e5)+1}},507032:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(619013),n=r(666979),a=r(13882);function o(e){(0,a.Z)(1,arguments);var t=(0,i.Z)(e),r=t.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(r+1,0,4),o.setUTCHours(0,0,0,0);var s=(0,n.Z)(o),l=new Date(0);l.setUTCFullYear(r,0,4),l.setUTCHours(0,0,0,0);var d=(0,n.Z)(l);return t.getTime()>=s.getTime()?r+1:t.getTime()>=d.getTime()?r:r-1}},505230:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(619013),n=r(159025),a=r(983946),o=r(107651),s=r(13882);function l(e,t){(0,s.Z)(1,arguments);var r=(0,i.Z)(e);return Math.round(((0,n.Z)(r,t).getTime()-(function(e,t){(0,s.Z)(1,arguments);var r=t||{},i=r.locale,l=i&&i.options&&i.options.firstWeekContainsDate,d=null==l?1:(0,a.Z)(l),c=null==r.firstWeekContainsDate?d:(0,a.Z)(r.firstWeekContainsDate),u=(0,o.Z)(e,t),h=new Date(0);return h.setUTCFullYear(u,0,c),h.setUTCHours(0,0,0,0),(0,n.Z)(h,t)})(r,t).getTime())/6048e5)+1}},107651:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(983946),n=r(619013),a=r(159025),o=r(13882);function s(e,t){(0,o.Z)(1,arguments);var r=(0,n.Z)(e,t),s=r.getUTCFullYear(),l=t||{},d=l.locale,c=d&&d.options&&d.options.firstWeekContainsDate,u=null==c?1:(0,i.Z)(c),h=null==l.firstWeekContainsDate?u:(0,i.Z)(l.firstWeekContainsDate);if(!(h>=1&&h<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(s+1,0,h),p.setUTCHours(0,0,0,0);var _=(0,a.Z)(p,t),m=new Date(0);m.setUTCFullYear(s,0,h),m.setUTCHours(0,0,0,0);var g=(0,a.Z)(m,t);return r.getTime()>=_.getTime()?s+1:r.getTime()>=g.getTime()?s:s-1}},5267:(e,t,r)=>{"use strict";r.d(t,{Do:()=>o,Iu:()=>a,qp:()=>s});var i=["D","DD"],n=["YY","YYYY"];function a(e){return -1!==i.indexOf(e)}function o(e){return -1!==n.indexOf(e)}function s(e,t,r){if("YYYY"===e)throw RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("YY"===e)throw RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("D"===e)throw RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("DD"===e)throw RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}},13882:(e,t,r)=>{"use strict";function i(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}r.d(t,{Z:()=>i})},666979:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(619013),n=r(13882);function a(e){(0,n.Z)(1,arguments);var t=(0,i.Z)(e),r=t.getUTCDay();return t.setUTCDate(t.getUTCDate()-((r<1?7:0)+r-1)),t.setUTCHours(0,0,0,0),t}},159025:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(983946),n=r(619013),a=r(13882);function o(e,t){(0,a.Z)(1,arguments);var r=t||{},o=r.locale,s=o&&o.options&&o.options.weekStartsOn,l=null==s?0:(0,i.Z)(s),d=null==r.weekStartsOn?l:(0,i.Z)(r.weekStartsOn);if(!(d>=0&&d<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,n.Z)(e),u=c.getUTCDay();return c.setUTCDate(c.getUTCDate()-((u<d?7:0)+u-d)),c.setUTCHours(0,0,0,0),c}},983946:(e,t,r)=>{"use strict";function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}r.d(t,{Z:()=>i})},51820:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(983946),n=r(619013),a=r(13882);function o(e,t){(0,a.Z)(2,arguments);var r=(0,n.Z)(e).getTime(),o=(0,i.Z)(t);return new Date(r+o)}},642298:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var i=r(112274),n=r(983975),a=r(491218),o=r(619013);function s(e,t){for(var r=Math.abs(e).toString();r.length<t;)r="0"+r;return(e<0?"-":"")+r}let l={y:function(e,t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return s("yy"===t?i%100:i,t.length)},M:function(e,t){var r=e.getUTCMonth();return"M"===t?String(r+1):s(r+1,2)},d:function(e,t){return s(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return r.toUpperCase();case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:function(e,t){return s(e.getUTCHours()%12||12,t.length)},H:function(e,t){return s(e.getUTCHours(),t.length)},m:function(e,t){return s(e.getUTCMinutes(),t.length)},s:function(e,t){return s(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length;return s(Math.floor(e.getUTCMilliseconds()*Math.pow(10,r-3)),t.length)}};var d=r(13882),c=r(333276),u=r(507032),h=r(505230),p=r(107651),_={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};function m(e,t){var r=e>0?"-":"+",i=Math.abs(e),n=Math.floor(i/60),a=i%60;return 0===a?r+String(n):r+String(n)+(t||"")+s(a,2)}function g(e,t){return e%60==0?(e>0?"-":"+")+s(Math.abs(e)/60,2):f(e,t)}function f(e,t){var r=e>0?"-":"+",i=Math.abs(e);return r+s(Math.floor(i/60),2)+(t||"")+s(i%60,2)}let b={G:function(e,t,r){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});default:return r.era(i,{width:"wide"})}},y:function(e,t,r){if("yo"===t){var i=e.getUTCFullYear(),n=i>0?i:1-i;return r.ordinalNumber(n,{unit:"year"})}return l.y(e,t)},Y:function(e,t,r,i){var n=(0,p.Z)(e,i),a=n>0?n:1-n;return"YY"===t?s(a%100,2):"Yo"===t?r.ordinalNumber(a,{unit:"year"}):s(a,t.length)},R:function(e,t){return s((0,u.Z)(e),t.length)},u:function(e,t){return s(e.getUTCFullYear(),t.length)},Q:function(e,t,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return s(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return s(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,r){var i=e.getUTCMonth();switch(t){case"M":case"MM":return l.M(e,t);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,r){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return s(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,r,i){var n=(0,h.Z)(e,i);return"wo"===t?r.ordinalNumber(n,{unit:"week"}):s(n,t.length)},I:function(e,t,r){var i=(0,c.Z)(e);return"Io"===t?r.ordinalNumber(i,{unit:"week"}):s(i,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):l.d(e,t)},D:function(e,t,r){var i=function(e){(0,d.Z)(1,arguments);var t=(0,o.Z)(e),r=t.getTime();return t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),Math.floor((r-t.getTime())/864e5)+1}(e);return"Do"===t?r.ordinalNumber(i,{unit:"dayOfYear"}):s(i,t.length)},E:function(e,t,r){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,r,i){var n=e.getUTCDay(),a=(n-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return s(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,i){var n=e.getUTCDay(),a=(n-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return s(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){var i=e.getUTCDay(),n=0===i?7:i;switch(t){case"i":return String(n);case"ii":return s(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,r){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){var i,n=e.getUTCHours();switch(i=12===n?_.noon:0===n?_.midnight:n/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){var i,n=e.getUTCHours();switch(i=n>=17?_.evening:n>=12?_.afternoon:n>=4?_.morning:_.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){var i=e.getUTCHours()%12;return 0===i&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return l.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):l.H(e,t)},K:function(e,t,r){var i=e.getUTCHours()%12;return"Ko"===t?r.ordinalNumber(i,{unit:"hour"}):s(i,t.length)},k:function(e,t,r){var i=e.getUTCHours();return(0===i&&(i=24),"ko"===t)?r.ordinalNumber(i,{unit:"hour"}):s(i,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):l.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):l.s(e,t)},S:function(e,t){return l.S(e,t)},X:function(e,t,r,i){var n=(i._originalDate||e).getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return g(n);case"XXXX":case"XX":return f(n);default:return f(n,":")}},x:function(e,t,r,i){var n=(i._originalDate||e).getTimezoneOffset();switch(t){case"x":return g(n);case"xxxx":case"xx":return f(n);default:return f(n,":")}},O:function(e,t,r,i){var n=(i._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+m(n,":");default:return"GMT"+f(n,":")}},z:function(e,t,r,i){var n=(i._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+m(n,":");default:return"GMT"+f(n,":")}},t:function(e,t,r,i){return s(Math.floor((i._originalDate||e).getTime()/1e3),t.length)},T:function(e,t,r,i){return s((i._originalDate||e).getTime(),t.length)}};var y=r(497621),v=r(924262),x=r(5267),w=r(983946),P=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,S=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,C=/^'([^]*?)'?$/,A=/''/g,E=/[a-zA-Z]/;function j(e,t,r){(0,d.Z)(2,arguments);var s=String(t),l=r||{},c=l.locale||n.default,u=c.options&&c.options.firstWeekContainsDate,h=null==u?1:(0,w.Z)(u),p=null==l.firstWeekContainsDate?h:(0,w.Z)(l.firstWeekContainsDate);if(!(p>=1&&p<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=c.options&&c.options.weekStartsOn,m=null==_?0:(0,w.Z)(_),g=null==l.weekStartsOn?m:(0,w.Z)(l.weekStartsOn);if(!(g>=0&&g<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!c.localize)throw RangeError("locale must contain localize property");if(!c.formatLong)throw RangeError("locale must contain formatLong property");var f=(0,o.Z)(e);if(!(0,i.Z)(f))throw RangeError("Invalid time value");var j=(0,v.Z)(f),T=(0,a.Z)(f,j),I={firstWeekContainsDate:p,weekStartsOn:g,locale:c,_originalDate:f};return s.match(S).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,y.Z[t])(e,c.formatLong,I):e}).join("").match(P).map(function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return r.match(C)[1].replace(A,"'");var n=b[i];if(n)return!l.useAdditionalWeekYearTokens&&(0,x.Do)(r)&&(0,x.qp)(r,t,e),!l.useAdditionalDayOfYearTokens&&(0,x.Iu)(r)&&(0,x.qp)(r,t,e),n(T,r,c.localize,I);if(i.match(E))throw RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r}).join("")}},112274:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(619013),n=r(13882);function a(e){return(0,n.Z)(1,arguments),!isNaN((0,i.Z)(e))}},849526:(e,t,r)=>{"use strict";function i(e){return function(t){var r=t||{},i=r.width?String(r.width):e.defaultWidth;return e.formats[i]||e.formats[e.defaultWidth]}}r.d(t,{Z:()=>i})},688486:(e,t,r)=>{"use strict";function i(e){return function(t,r){var i,n=r||{};if("formatting"===(n.context?String(n.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=n.width?String(n.width):a;i=e.formattingValues[o]||e.formattingValues[a]}else{var s=e.defaultWidth,l=n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[s]}return i[e.argumentCallback?e.argumentCallback(t):t]}}r.d(t,{Z:()=>i})},276723:(e,t,r)=>{"use strict";function i(e){return function(t,r){var i,n=String(t),a=r||{},o=a.width,s=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],l=n.match(s);if(!l)return null;var d=l[0],c=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth];return i="[object Array]"===Object.prototype.toString.call(c)?function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}(c,function(e){return e.test(d)}):function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}(c,function(e){return e.test(d)}),i=e.valueCallback?e.valueCallback(i):i,{value:i=a.valueCallback?a.valueCallback(i):i,rest:n.slice(d.length)}}}r.d(t,{Z:()=>i})},360974:(e,t,r)=>{"use strict";function i(e){return function(t,r){var i=String(t),n=r||{},a=i.match(e.matchPattern);if(!a)return null;var o=a[0],s=i.match(e.parsePattern);if(!s)return null;var l=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:l=n.valueCallback?n.valueCallback(l):l,rest:i.slice(o.length)}}}r.d(t,{Z:()=>i})},181991:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function n(e,t,r){var n;return(r=r||{},n="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),r.addSuffix)?r.comparison>0?"in "+n:n+" ago":n}},721865:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function n(e,t,r,n){return i[e]}},611950:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(688486),n={ordinalNumber:function(e,t){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:(0,i.Z)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,i.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:(0,i.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,i.Z)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,i.Z)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};let a=n},507219:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(360974),n=r(276723),a={ordinalNumber:(0,i.Z)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,n.Z)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,n.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,n.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,n.Z)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,n.Z)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};let o=a},983975:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var i=r(181991),n=r(849526),a={date:(0,n.Z)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,n.Z)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,n.Z)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},o=r(721865),s=r(611950),l=r(507219),d={code:"en-US",formatDistance:i.Z,formatLong:a,formatRelative:o.Z,localize:s.Z,match:l.Z,options:{weekStartsOn:0,firstWeekContainsDate:1}};let c=d},824002:(e,t,r)=>{"use strict";r.d(t,{Z:()=>B});var i=r(983975),n=r(491218),a=r(619013),o=r(497621),s=r(924262),l=r(5267),d=r(983946),c=r(107651),u=r(13882);function h(e,t,r){(0,u.Z)(2,arguments);var i=r||{},n=i.locale,o=n&&n.options&&n.options.weekStartsOn,s=null==o?0:(0,d.Z)(o),l=null==i.weekStartsOn?s:(0,d.Z)(i.weekStartsOn);if(!(l>=0&&l<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,a.Z)(e),h=(0,d.Z)(t),p=c.getUTCDay();return c.setUTCDate(c.getUTCDate()+(((h%7+7)%7<l?7:0)+h-p)),c}var p=r(333276),_=r(505230),m=r(666979),g=r(159025),f={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},b={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function y(e,t,r){var i=t.match(e);if(!i)return null;var n=parseInt(i[0],10);return{value:r?r(n):n,rest:t.slice(i[0].length)}}function v(e,t){var r=t.match(e);return r?"Z"===r[0]?{value:0,rest:t.slice(1)}:{value:("+"===r[1]?1:-1)*((r[2]?parseInt(r[2],10):0)*36e5+(r[3]?parseInt(r[3],10):0)*6e4+(r[5]?parseInt(r[5],10):0)*1e3),rest:t.slice(r[0].length)}:null}function x(e,t){return y(f.anyDigitsSigned,e,t)}function w(e,t,r){switch(e){case 1:return y(f.singleDigit,t,r);case 2:return y(f.twoDigits,t,r);case 3:return y(f.threeDigits,t,r);case 4:return y(f.fourDigits,t,r);default:return y(RegExp("^\\d{1,"+e+"}"),t,r)}}function P(e,t,r){switch(e){case 1:return y(f.singleDigitSigned,t,r);case 2:return y(f.twoDigitsSigned,t,r);case 3:return y(f.threeDigitsSigned,t,r);case 4:return y(f.fourDigitsSigned,t,r);default:return y(RegExp("^-?\\d{1,"+e+"}"),t,r)}}function S(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function C(e,t){var r,i=t>0,n=i?t:1-t;if(n<=50)r=e||100;else{var a=n+50;r=e+100*Math.floor(a/100)-(e>=a%100?100:0)}return i?r:1-r}var A=[31,28,31,30,31,30,31,31,30,31,30,31],E=[31,29,31,30,31,30,31,31,30,31,30,31];function j(e){return e%400==0||e%4==0&&e%100!=0}let T={G:{priority:140,parse:function(e,t,r,i){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}},set:function(e,t,r,i){return t.era=r,e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,r,i){var n=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return w(4,e,n);case"yo":return r.ordinalNumber(e,{unit:"year",valueCallback:n});default:return w(t.length,e,n)}},validate:function(e,t,r){return t.isTwoDigitYear||t.year>0},set:function(e,t,r,i){var n=e.getUTCFullYear();if(r.isTwoDigitYear){var a=C(r.year,n);return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}var o="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,r,i){var n=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return w(4,e,n);case"Yo":return r.ordinalNumber(e,{unit:"year",valueCallback:n});default:return w(t.length,e,n)}},validate:function(e,t,r){return t.isTwoDigitYear||t.year>0},set:function(e,t,r,i){var n=(0,c.Z)(e,i);if(r.isTwoDigitYear){var a=C(r.year,n);return e.setUTCFullYear(a,0,i.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,g.Z)(e,i)}var o="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(o,0,i.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,g.Z)(e,i)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,r,i){return"R"===t?P(4,e):P(t.length,e)},set:function(e,t,r,i){var n=new Date(0);return n.setUTCFullYear(r,0,4),n.setUTCHours(0,0,0,0),(0,m.Z)(n)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,r,i){return"u"===t?P(4,e):P(t.length,e)},set:function(e,t,r,i){return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,r,i){switch(t){case"Q":case"QQ":return w(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=1&&t<=4},set:function(e,t,r,i){return e.setUTCMonth((r-1)*3,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,r,i){switch(t){case"q":case"qq":return w(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=1&&t<=4},set:function(e,t,r,i){return e.setUTCMonth((r-1)*3,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,r,i){var n=function(e){return e-1};switch(t){case"M":return y(f.month,e,n);case"MM":return w(2,e,n);case"Mo":return r.ordinalNumber(e,{unit:"month",valueCallback:n});case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,i){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,r,i){var n=function(e){return e-1};switch(t){case"L":return y(f.month,e,n);case"LL":return w(2,e,n);case"Lo":return r.ordinalNumber(e,{unit:"month",valueCallback:n});case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,i){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,r,i){switch(t){case"w":return y(f.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return w(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=53},set:function(e,t,r,i){return(0,g.Z)(function(e,t,r){(0,u.Z)(2,arguments);var i=(0,a.Z)(e),n=(0,d.Z)(t),o=(0,_.Z)(i,r)-n;return i.setUTCDate(i.getUTCDate()-7*o),i}(e,r,i),i)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,r,i){switch(t){case"I":return y(f.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return w(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=53},set:function(e,t,r,i){return(0,m.Z)(function(e,t){(0,u.Z)(2,arguments);var r=(0,a.Z)(e),i=(0,d.Z)(t),n=(0,p.Z)(r)-i;return r.setUTCDate(r.getUTCDate()-7*n),r}(e,r,i),i)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,r,i){switch(t){case"d":return y(f.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return w(t.length,e)}},validate:function(e,t,r){var i=j(e.getUTCFullYear()),n=e.getUTCMonth();return i?t>=1&&t<=E[n]:t>=1&&t<=A[n]},set:function(e,t,r,i){return e.setUTCDate(r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,r,i){switch(t){case"D":case"DD":return y(f.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return w(t.length,e)}},validate:function(e,t,r){return j(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,r,i){return e.setUTCMonth(0,r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,r,i){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,i){return(e=h(e,r,i)).setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,r,i){var n=function(e){var t=7*Math.floor((e-1)/7);return(e+i.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return w(t.length,e,n);case"eo":return r.ordinalNumber(e,{unit:"day",valueCallback:n});case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,i){return(e=h(e,r,i)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,r,i){var n=function(e){var t=7*Math.floor((e-1)/7);return(e+i.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return w(t.length,e,n);case"co":return r.ordinalNumber(e,{unit:"day",valueCallback:n});case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,i){return(e=h(e,r,i)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,r,i){var n=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return w(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return r.day(e,{width:"abbreviated",context:"formatting",valueCallback:n})||r.day(e,{width:"short",context:"formatting",valueCallback:n})||r.day(e,{width:"narrow",context:"formatting",valueCallback:n});case"iiiii":return r.day(e,{width:"narrow",context:"formatting",valueCallback:n});case"iiiiii":return r.day(e,{width:"short",context:"formatting",valueCallback:n})||r.day(e,{width:"narrow",context:"formatting",valueCallback:n});default:return r.day(e,{width:"wide",context:"formatting",valueCallback:n})||r.day(e,{width:"abbreviated",context:"formatting",valueCallback:n})||r.day(e,{width:"short",context:"formatting",valueCallback:n})||r.day(e,{width:"narrow",context:"formatting",valueCallback:n})}},validate:function(e,t,r){return t>=1&&t<=7},set:function(e,t,r,i){return(e=function(e,t){(0,u.Z)(2,arguments);var r=(0,d.Z)(t);r%7==0&&(r-=7);var i=(0,a.Z)(e),n=((r%7+7)%7<1?7:0)+r-i.getUTCDay();return i.setUTCDate(i.getUTCDate()+n),i}(e,r,i)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,r,i){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,i){return e.setUTCHours(S(r),0,0,0),e},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(e,t,r,i){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,i){return e.setUTCHours(S(r),0,0,0),e},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(e,t,r,i){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,i){return e.setUTCHours(S(r),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,r,i){switch(t){case"h":return y(f.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return w(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=12},set:function(e,t,r,i){var n=e.getUTCHours()>=12;return n&&r<12?e.setUTCHours(r+12,0,0,0):n||12!==r?e.setUTCHours(r,0,0,0):e.setUTCHours(0,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,r,i){switch(t){case"H":return y(f.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return w(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=23},set:function(e,t,r,i){return e.setUTCHours(r,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,r,i){switch(t){case"K":return y(f.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return w(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,i){return e.getUTCHours()>=12&&r<12?e.setUTCHours(r+12,0,0,0):e.setUTCHours(r,0,0,0),e},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(e,t,r,i){switch(t){case"k":return y(f.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return w(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=24},set:function(e,t,r,i){var n=r<=24?r%24:r;return e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,r,i){switch(t){case"m":return y(f.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return w(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=59},set:function(e,t,r,i){return e.setUTCMinutes(r,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,r,i){switch(t){case"s":return y(f.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return w(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=59},set:function(e,t,r,i){return e.setUTCSeconds(r,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,r,i){return w(t.length,e,function(e){return Math.floor(e*Math.pow(10,-t.length+3))})},set:function(e,t,r,i){return e.setUTCMilliseconds(r),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,r,i){switch(t){case"X":return v(b.basicOptionalMinutes,e);case"XX":return v(b.basic,e);case"XXXX":return v(b.basicOptionalSeconds,e);case"XXXXX":return v(b.extendedOptionalSeconds,e);default:return v(b.extended,e)}},set:function(e,t,r,i){return t.timestampIsSet?e:new Date(e.getTime()-r)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,r,i){switch(t){case"x":return v(b.basicOptionalMinutes,e);case"xx":return v(b.basic,e);case"xxxx":return v(b.basicOptionalSeconds,e);case"xxxxx":return v(b.extendedOptionalSeconds,e);default:return v(b.extended,e)}},set:function(e,t,r,i){return t.timestampIsSet?e:new Date(e.getTime()-r)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,r,i){return x(e)},set:function(e,t,r,i){return[new Date(1e3*r),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,r,i){return x(e)},set:function(e,t,r,i){return[new Date(r),{timestampIsSet:!0}]},incompatibleTokens:"*"}};var I=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,k=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,D=/^'([^]*?)'?$/,R=/''/g,z=/\S/,O=/[a-zA-Z]/;function B(e,t,r,c){(0,u.Z)(3,arguments);var h,p=String(e),_=String(t),m=c||{},g=m.locale||i.default;if(!g.match)throw RangeError("locale must contain match property");var f=g.options&&g.options.firstWeekContainsDate,b=null==f?1:(0,d.Z)(f),y=null==m.firstWeekContainsDate?b:(0,d.Z)(m.firstWeekContainsDate);if(!(y>=1&&y<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=g.options&&g.options.weekStartsOn,x=null==v?0:(0,d.Z)(v),w=null==m.weekStartsOn?x:(0,d.Z)(m.weekStartsOn);if(!(w>=0&&w<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===_)return""===p?(0,a.Z)(r):new Date(NaN);var P={firstWeekContainsDate:y,weekStartsOn:w,locale:g},S=[{priority:10,subPriority:-1,set:Z,index:0}],C=_.match(k).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,o.Z[t])(e,g.formatLong,P):e}).join("").match(I),A=[];for(h=0;h<C.length;h++){var E=C[h];!m.useAdditionalWeekYearTokens&&(0,l.Do)(E)&&(0,l.qp)(E,_,e),!m.useAdditionalDayOfYearTokens&&(0,l.Iu)(E)&&(0,l.qp)(E,_,e);var j=E[0],B=T[j];if(B){var L=B.incompatibleTokens;if(Array.isArray(L)){for(var M=void 0,N=0;N<A.length;N++){var F=A[N].token;if(-1!==L.indexOf(F)||F===j){M=A[N];break}}if(M)throw RangeError("The format string mustn't contain `".concat(M.fullToken,"` and `").concat(E,"` at the same time"))}else if("*"===B.incompatibleTokens&&A.length)throw RangeError("The format string mustn't contain `".concat(E,"` and any other token at the same time"));A.push({token:j,fullToken:E});var U=B.parse(p,E,g.match,P);if(!U)return new Date(NaN);S.push({priority:B.priority,subPriority:B.subPriority||0,set:B.set,validate:B.validate,value:U.value,index:S.length}),p=U.rest}else{if(j.match(O))throw RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");if("''"===E?E="'":"'"===j&&(E=E.match(D)[1].replace(R,"'")),0!==p.indexOf(E))return new Date(NaN);p=p.slice(E.length)}}if(p.length>0&&z.test(p))return new Date(NaN);var H=S.map(function(e){return e.priority}).sort(function(e,t){return t-e}).filter(function(e,t,r){return r.indexOf(e)===t}).map(function(e){return S.filter(function(t){return t.priority===e}).sort(function(e,t){return t.subPriority-e.subPriority})}).map(function(e){return e[0]}),$=(0,a.Z)(r);if(isNaN($))return new Date(NaN);var V=(0,n.Z)($,(0,s.Z)($)),G={};for(h=0;h<H.length;h++){var W=H[h];if(W.validate&&!W.validate(V,W.value,P))return new Date(NaN);var K=W.set(V,G,W.value,P);K[0]?(V=K[0],function(e,t){if(null==e)throw TypeError("assign requires that input parameter not be null or undefined");for(var r in t=t||{})t.hasOwnProperty(r)&&(e[r]=t[r]);return e}(G,K[1])):V=K}return V}function Z(e,t){if(t.timestampIsSet)return e;var r=new Date(0);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}},491218:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(983946),n=r(51820),a=r(13882);function o(e,t){(0,a.Z)(2,arguments);var r=(0,i.Z)(t);return(0,n.Z)(e,-r)}},619013:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(13882);function n(e){(0,i.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},40432:(e,t,r)=>{"use strict";r.d(t,{$Vb:()=>T,$nM:()=>f,BOn:()=>I,BfK:()=>j,Boy:()=>eg,CTP:()=>l,CcT:()=>eh,DMd:()=>J,E8o:()=>ek,EEg:()=>S,E_l:()=>d,Euu:()=>a,FVr:()=>N,FjJ:()=>eB,H3M:()=>P,I0k:()=>eb,JTq:()=>Y,Ky9:()=>c,LUU:()=>M,Lg3:()=>eI,LyT:()=>eO,N$G:()=>B,OOl:()=>G,O_S:()=>R,PT2:()=>i,Pgj:()=>K,Pv2:()=>k,QzT:()=>V,RfW:()=>w,S6t:()=>H,UdT:()=>m,Uor:()=>b,UrY:()=>W,UtA:()=>ef,WOK:()=>e_,Wvu:()=>eT,X3q:()=>eP,XxE:()=>u,YCi:()=>eC,Zt2:()=>eZ,_SG:()=>ew,_VP:()=>ei,_Vp:()=>Z,am:()=>em,b$4:()=>eu,bJz:()=>ev,cMj:()=>C,ckK:()=>x,ePR:()=>g,efI:()=>et,f05:()=>ex,fpf:()=>U,gxR:()=>eL,h5_:()=>$,h7s:()=>en,hM9:()=>el,hRj:()=>Q,hcw:()=>ej,iJi:()=>ee,ieP:()=>h,jOL:()=>eS,jRv:()=>n,k95:()=>q,kM5:()=>ey,kwM:()=>eD,kz$:()=>ec,lWv:()=>O,mJW:()=>E,nSl:()=>eE,ni8:()=>A,o7L:()=>z,odg:()=>p,pzk:()=>D,qO2:()=>ed,qx5:()=>er,rP7:()=>o,rhk:()=>v,seF:()=>_,t4R:()=>eA,tPA:()=>es,u2Z:()=>F,u4w:()=>eo,uu9:()=>y,vlc:()=>ea,w89:()=>ep,wMN:()=>L,wdt:()=>X,wvI:()=>eR,x_d:()=>s,z5V:()=>ez});let i="var(--color-red-pushpin-50)",n="var(--color-red-pushpin-100)",a="var(--color-red-pushpin-200)",o="var(--color-red-pushpin-300)",s="var(--color-red-pushpin-450)",l="var(--color-red-pushpin-500)",d="var(--color-red-pushpin-600)",c="var(--color-red-pushpin-700)",u="var(--color-red-pushpin-800)",h="var(--color-pink-flaminglow-0)",p="var(--color-blue-skycicle-100)",_="var(--color-blue-skycicle-500)",m="var(--color-blue-skycicle-900)",g="var(--color-teal-spabattical-100)",f="var(--color-green-matchacado-900)",b="var(--color-purple-mysticool-100)",y="var(--color-purple-mysticool-200)",v="var(--color-purple-mysticool-300)",x="var(--color-purple-mysticool-500)",w="var(--color-orange-firetini-50)",P="var(--color-yellow-caramellow-50)",S="var(--color-yellow-caramellow-300)",C="var(--color-white-mochimalist-0)",A="var(--color-gray-roboflow-50)",E="var(--color-gray-roboflow-200)",j="var(--color-gray-roboflow-300)",T="var(--color-gray-roboflow-400)",I="var(--color-gray-roboflow-500)",k="var(--color-gray-roboflow-600)",D="var(--color-gray-roboflow-700)",R="var(--color-black-cosmicore-900)",z="var(--color-transparent)",O="var(--color-data-visualization-10)",B="var(--color-data-visualization-11)",Z="var(--color-data-visualization-12)",L="var(--color-data-visualization-01)",M="var(--color-data-visualization-02)",N="var(--color-data-visualization-03)",F="var(--color-data-visualization-04)",U="var(--color-data-visualization-05)",H="var(--color-data-visualization-06)",$="var(--color-data-visualization-07)",V="var(--color-data-visualization-08)",G="var(--color-data-visualization-09)",W="var(--color-text-subtle)",K="var(--color-text-inverse)",q="var(--color-background-default)",Y="var(--color-background-info-base)",X="var(--color-background-info-weak)",J="var(--color-background-error-base)",Q="var(--color-background-warning-base)",ee="var(--color-background-success-base)",et="var(--color-background-recommendation-weak)",er="var(--color-background-shopping)",ei="var(--color-background-secondary-base)",en="var(--color-background-inverse-base)",ea="var(--color-background-box-default)",eo="var(--color-background-box-info-base)",es="var(--color-background-box-info-weak)",el="var(--color-background-box-error-base)",ed="var(--color-background-box-error-weak)",ec="var(--color-background-box-warning-base)",eu="var(--color-background-box-warning-weak)",eh="var(--color-background-box-success-base)",ep="var(--color-background-box-success-weak)",e_="var(--color-background-box-recommendation-base)",em="var(--color-background-box-recommendation-weak)",eg="var(--color-background-box-shopping)",ef="var(--color-background-box-primary)",eb="var(--color-background-box-secondary)",ey="var(--color-background-box-tertiary)",ev="var(--color-background-box-selected)",ex="var(--color-background-box-inverse)",ew="var(--color-background-box-brand)",eP="var(--color-background-box-education)",eS="var(--color-background-box-elevation-accent)",eC="var(--color-background-box-elevation-floating)",eA="var(--color-background-box-elevation-raised)",eE="var(--color-background-box-lightwash)",ej="var(--color-background-box-darkwash)",eT="var(--color-background-box-transparentdarkgray)",eI="var(--color-background-box-dark)",ek="var(--color-background-box-light)",eD="var(--color-background-box-transparent)",eR="var(--color-background-formfield-primary)",ez="var(--color-border-container)",eO="var(--color-border-error)",eB="var(--elevation-raised-top)",eZ="var(--font-size-100)",eL="var(--font-family-default-latin)"},17314:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i,n,a=r(813653),o=r(861470),s=0,l=0;let d=function(e,t,r){var d=t&&r||0,c=t||Array(16),u=(e=e||{}).node||i,h=void 0!==e.clockseq?e.clockseq:n;if(null==u||null==h){var p=e.random||(e.rng||a.Z)();null==u&&(u=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=n=(p[6]<<8|p[7])&16383)}var _=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:l+1,g=_-s+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(h=h+1&16383),(g<0||_>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=_,l=m,n=h;var f=((268435455&(_+=122192928e5))*1e4+m)%4294967296;c[d++]=f>>>24&255,c[d++]=f>>>16&255,c[d++]=f>>>8&255,c[d++]=255&f;var b=_/4294967296*1e4&268435455;c[d++]=b>>>8&255,c[d++]=255&b,c[d++]=b>>>24&15|16,c[d++]=b>>>16&255,c[d++]=h>>>8|128,c[d++]=255&h;for(var y=0;y<6;++y)c[d+y]=u[y];return t||(0,o.Z)(c)}},438143:(e,t,r)=>{"use strict";var i,n;r.r(t),r.d(t,{default:()=>o});let a=(n=[i={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},i],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:n,storageKey:null}],type:"AdvisoryAction",abstractKey:null});a.hash="6ddea2ecd3dff2e1001c1e4d037cc858";let o=a},173477:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};i.hash="5879c4710b107f258f42156bf3e47e37";let n=i},628596:(e,t,r)=>{"use strict";var i;r.r(t),r.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null}],type:"Pin",abstractKey:null};n.hash="cabaa35ed7d59dee006897bf3ef32e3d";let a=n},997473:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};i.hash="4970946a36017d9ad0c751fd70cc512c";let n=i},798824:(e,t,r)=>{"use strict";var i,n,a;r.r(t),r.d(t,{default:()=>s});let o=(n=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],a=[i],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[i,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:a,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});o.hash="53d7eec34666980eda011429185b5b10";let s=o},106622:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MoreIdeasPreviewStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'}],type:"Pin",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null};i.hash="075f9b94f00fe917dc6a9207c331b8f7";let n=i},924633:(e,t,r)=>{"use strict";var i,n;r.r(t),r.d(t,{default:()=>o});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OneTapSavePinWrapperQuery_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[n],storageKey:'images(spec:"236x")'},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},i],storageKey:null}]}],type:"Pin",abstractKey:null};a.hash="22654b199980bcc0af3d9ddb87cc08e9";let o=a},321046:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SaveButton_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null}],storageKey:null}]}],type:"Pin",abstractKey:null};i.hash="1604617e956a047199e44922f5d13dd2";let n=i},329638:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SensitiveContentNotice_sensitivity",selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{args:null,kind:"FragmentSpread",name:"DefaultNotice_advisoryNotice"},{args:null,kind:"FragmentSpread",name:"LegoNotice_advisoryNotice"}],storageKey:null}],type:"Sensitivity",abstractKey:null};i.hash="d12a0ef89312e2429f28a098a2536c8a";let n=i},384490:(e,t,r)=>{"use strict";var i;r.r(t),r.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedFiltersContext_oneBarModules",selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},i,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};n.hash="92b841173868ce353dd00b5fce287546";let a=n},903414:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepAuthDesktopPinRep_pin",selections:[{args:null,kind:"FragmentSpread",name:"PinRepWithImpressions_pin"}],type:"Pin",abstractKey:null};i.hash="000e24070b5df05da76d803775cb37e6";let n=i},700554:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let i={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};i.hash="51f44b91a29d43c6d06785fcb846b61b";let n=i},770181:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRepAuthDesktopPinRep_pin"}],type:"Pin",abstractKey:null};i.hash="7982b415980bdf92f7b9338cb5f6c539";let n=i},910982:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let i={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};i.hash="630f94c5c1fff86bdd3cb70e987c1fee";let n=i},352018:(e,t,r)=>{"use strict";var i,n,a,o;r.r(t),r.d(t,{default:()=>l});let s={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"collab_AcceptInvite_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"collab_AcceptInvite_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[a,{kind:"InlineFragment",selections:[o],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"781c41132fefa007ebde7bcd8c49840ce1768ed6f6781fd72e3904bd35fb576f",metadata:{},name:"collab_AcceptInvite_Mutation",operationKind:"mutation",text:null}};s.hash="e0cd549ce31635291bd74113393edc53";let l=s},727615:(e,t,r)=>{"use strict";var i,n,a,o;r.r(t),r.d(t,{default:()=>l});let s={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_ApproveInvite_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"collab_ApproveInvite_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[a,{kind:"InlineFragment",selections:[o],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"472a584df4a467181ed32ec33d235ef2f2e6d53fdb4c7a43d11156b6d51dcd50",metadata:{},name:"collab_ApproveInvite_Mutation",operationKind:"mutation",text:null}};s.hash="7c32abc79b81b52b7c0d6582f9278b22";let l=s},565067:(e,t,r)=>{"use strict";var i,n,a,o,s,l;r.r(t),r.d(t,{default:()=>c});let d={fragment:{argumentDefinitions:[i={defaultValue:null,kind:"LocalArgument",name:"ban"},n={defaultValue:null,kind:"LocalArgument",name:"boardId"},a={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,a,i],kind:"Operation",name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[s,{kind:"InlineFragment",selections:[l],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"ff3059743c1d13d4f1c2ef07e10d2b29925c7b330db4103e55e9e65c380c0ce5",metadata:{},name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};d.hash="a3cb87deead5a06468a3b46652f22daa";let c=d},721383:(e,t,r)=>{"use strict";var i,n,a,o,s,l,d,c;r.r(t),r.d(t,{default:()=>h});let u={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[a,d={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[s,l,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},c],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[d],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"83dd1206102cffdd460f8c072df0ca515d27c8fcf3798423f1657afabdf467ac",metadata:{},name:"collab_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};u.hash="f70efc59a3f6a73e0af36081d8552b3a";let h=u},698840:(e,t,r)=>{"use strict";var i,n,a,o,s,l,d,c,u,h;r.r(t),r.d(t,{default:()=>_});let p=(i=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"message"}],n=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s=[o={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],l={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},u={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null},h=[o,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:s,storageKey:null},l,d,c,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:s,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},{kind:"InlineFragment",selections:[a,u],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:h,storageKey:null},l,d,c,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:h,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},{kind:"InlineFragment",selections:[u],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"ff45f353c3246c417487b54a02f0669dbc6c45761df9567395537bf1f7875a9f",metadata:{},name:"collab_RequestToJoin_Mutation",operationKind:"mutation",text:null}});p.hash="38716861de712c68561883b0d58d8bc6";let _=p},147127:(e,t,r)=>{"use strict";var i,n,a,o;r.r(t),r.d(t,{default:()=>l});let s={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_emails_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"collab_emails_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutation",plural:!1,selections:[a,{kind:"InlineFragment",selections:[o],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"8900846b1564b60aeba0d82306e017e0f19e812705f67e3814980c045de36fca",metadata:{},name:"collab_emails_Mutation",operationKind:"mutation",text:null}};s.hash="f346c00717b8f4893552fb8053a1ff5b";let l=s},322940:(e,t,r)=>{"use strict";var i,n,a,o,s,l;r.r(t),r.d(t,{default:()=>c});let d={fragment:{argumentDefinitions:[i={defaultValue:null,kind:"LocalArgument",name:"boardId"},n={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},a={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_users_Mutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,i,a],kind:"Operation",name:"collab_users_Mutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[s,{kind:"InlineFragment",selections:[l],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"42ceaa3423a096a27613e5738f83aaadcee449c55d4dd03624d2f08a6b6dca04",metadata:{},name:"collab_users_Mutation",operationKind:"mutation",text:null}};d.hash="f4d87e820bd0fba4aa4c8fdaeed6231e";let c=d},42080:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"hasSensitivityNotices_sensitivity",selections:[{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notice",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Sensitivity",abstractKey:null};i.hash="acce8589f2dfbde368aad5ed8657c566";let n=i},261526:(e,t,r)=>{"use strict";var i;r.r(t),r.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCanPerformAction_board",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}],type:"Board",abstractKey:null};n.hash="416539a057718ff36ac5d9d06916c2d4";let a=n},892254:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>u});var i=r(667294),n=r(342513),a=r(321329),o=r(5859),s=r(494125),l=r(785893);let{Provider:d,useHook:c}=(0,n.Z)("PinRep");function u({children:e}){let{isAuthenticated:t}=(0,o.B)(),[r,n]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!1),h=(0,a.Z)(1000069);(0,s.Z)(()=>{let e=async()=>{if(!t){n(!1);return}let e=await h.fetchAllExperiences();e&&e.payload&&e.payload.experiences?.[1000069]?.experience_id===500417&&e.payload.experiences?.[1000069]?.display_data.hide_footer?h.viewExperience(1000069,500417):n(!1),u(!0)};e()});let p=(0,i.useMemo)(()=>({hasSimplifiedPinGridExpLoaded:c,hidePinRepFooter:r}),[c,r]);return(0,l.jsx)(d,{value:p,children:e})}},334589:(e,t,r)=>{"use strict";function i(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}r.d(t,{Z:()=>i})},406718:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(340523),n=r(554786),a=r(149722),o=r(785059),s=r(199677);let l=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function d(e){let t=(0,n.HG)(),{checkExperiment:r}=(0,i.F)(),d=(0,o.Z)(),c=(0,a.Z)(),u=(0,s.lJ)(c,d),h=l[t?"dweb":"mweb"],p=r(h.organic).anyEnabled,_=r(h.monetized).anyEnabled,m=r("uid_sce_lightswitch_advertisers").anyEnabled;return!u&&((e&&(r("sce_lightswitch_organic"),r("sce_lightswitch_monetized")),t)?!!(p||_||m):p||_)}},61932:(e,t,r)=>{"use strict";r.d(t,{G4:()=>a,Lu:()=>i,uS:()=>n});let i=58,n=12,a={display:{backgroundColorHex:["#efefef","#292929"],selectedBackgroundColorHex:["#292929"],icon:3,textColorHex:["#111111","#ffffff"],selectedTextColorHex:["#ffffff"]},moduleType:0,id:""}},628428:(e,t,r)=>{"use strict";r.d(t,{m:()=>c,n:()=>d});var i=r(667294),n=r(342513),a=r(782005),o=r(766323),s=r(785893);let{Provider:l,useHook:d}=(0,n.Z)("SearchBookmark");function c({children:e}){let{scope:t,query:r}=(0,o.b)(),[n,d]=(0,i.useState)(void 0),[c,u]=(0,i.useState)(null),[h,p]=(0,i.useState)(null),_=(0,i.useCallback)(e=>{n!==e&&(!n||c!==r||h!==t&&[h,t].some(e=>[a.lw.PINS_BUYABLE,a.lw.PINS_MINE].includes(e)))&&(d(e),c!==r&&u(r),h!==t&&p(t))},[n,c,h,r,t]),m=(0,i.useMemo)(()=>({bookmark:n,setBookmark:_}),[n,_]);return(0,s.jsx)(l,{value:m,children:e})}},184200:(e,t,r)=>{"use strict";r.d(t,{b:()=>c,p:()=>u});var i=r(667294),n=r(628428),a=r(161187),o=r(342513),s=r(728622),l=r(785893);let{Provider:d,useHook:c}=(0,o.Z)("SearchOneBarProductFiltersContext");function u({children:e}){let[t,r]=(0,i.useState)([]),{bookmark:o}=(0,n.n)(),c=(0,s.Z)(o),u=(0,i.useCallback)(e=>{if(o===c||!e)return;let t=[],i=e.find(e=>17===e.module_type&&e.action?.filter?.product_filter_type===1)?.action?.filter||null;if(i){let e=(0,a.Cv)(i,{filterComponentType:0});e&&t.push(e)}let n=e.find(e=>17===e.module_type&&e.action?.filter?.product_filter_type===0)?.action?.filter||null;if(n){let e=(0,a.Cv)(n,{filterComponentType:1});e&&t.push(e)}let s=e.find(e=>17===e.module_type&&e.action?.filter?.product_filter_type===3)?.action?.filter||null;if(s){let e=(0,a.Cv)(s,{filterComponentType:1});e&&t.push(e)}let l=e.find(e=>17===e.module_type&&e.action?.filter?.product_filter_type===6)?.action?.filter||null;if(l){let e=(0,a.Cv)(l,{filterComponentType:1});e&&t.push(e)}r(t)},[o,c]),h=(0,i.useMemo)(()=>({productFilters:t,setProductFiltersFromOneBarModules:u}),[t,u]);return(0,l.jsx)(d,{value:h,children:e})}},381:(e,t,r)=>{"use strict";r.d(t,{wy:()=>v,N$:()=>b,M:()=>g});var i,n=r(667294),a=r(167912),o=r(838551),s=r(161187);let l=(e,t,r)=>r&&(0,s.nZ)(r,t)?o.v.MODIFIED:(0,s.B1)(t,e)?o.v.CLEARED:o.v.APPLIED;function d(e,t){(0,s.ph)(t);let r=e.find(e=>e.id===t.id),i=r?.rules,n=r?.filter_options.find(e=>e.id===t.selectedOptionId)?.rules,a=n||i;if(!a)return[e,[]];let o=[],l=[];return e.forEach(e=>{a.includes(e.product_filter_type)?o.push(e):l.push(e)}),[o,l]}function c(e,t){switch(t.type){case"RESET_FILTERS":let[r,i]=t.payload;return{models:r,availableFilterModels:r,appliedFilters:i,filters:i,isFetching:!1,pendingDeletedSelections:{},status:l(r,i)};case"CLEAR_FILTERS":let n=(0,s.Af)(e.models),a=e.models;return Object.values(n).forEach(e=>{let[t]=d(a,e);a=t}),{...e,filters:n,availableFilterModels:a,pendingDeletedSelections:{},status:l(e.models,e.appliedFilters,n)};case"UPDATE_FILTER":let{payload:c}=t,[u,h]=d(e.models,c),p={...e.filters,[c.id]:c},_={...e.pendingDeletedSelections};return u.forEach(e=>{let t=_[e.id];t&&(p[e.id]=t,delete _[e.id])}),h.forEach(e=>{let t=p[e.id];t&&(_[e.id]=t,delete p[e.id])}),(0,s.ph)(c,e.models.find(e=>e.id===c.id))&&delete p[c.id],{...e,availableFilterModels:u,filters:p,pendingDeletedSelections:_,status:l(e.models,e.appliedFilters,p)};case"SUBMIT_FILTER":return{...e,pendingDeletedSelections:{},status:o.v.SUBMITTED};case"SUBMIT_FAILED":return{...e,status:o.v.FAILED};case"SUBMIT_COMPLETE":let{filters:m}=e;return{...e,appliedFilters:m,pendingDeletedSelections:{},status:l(e.models,m)};case"LOADING":return{...e,isFetching:!0};case"LOADING_COMPLETED_OR_FAILED":return{...e,isFetching:!1};default:return e}}var u=r(342513),h=r(995917),p=r(646473),_=r(785893);let{Provider:m,useMaybeHook:g}=(0,u.Z)("UnifiedFiltersContext"),f=({applyInitFilters:e,children:t,filterModels:r,filters:i,isFetching:a,refreshFiltersData:l})=>{let d=e?.(r)||i||{},[u,h]=(0,n.useReducer)(c,{models:r,availableFilterModels:r,appliedFilters:d,filters:d,pendingDeletedSelections:{},isFetching:a,status:(0,s.B1)(d,r)?o.v.CLEARED:o.v.APPLIED}),[p,g]=(0,n.useState)(r);(0,n.useEffect)(()=>{a&&h({type:"LOADING"})},[a]),(0,n.useEffect)(()=>{if(!a&&(!u.isFetching||0!==r.length)){if(!(0,s.a$)(p,r)){h({type:"LOADING_COMPLETED_OR_FAILED"});return}h({type:"RESET_FILTERS",payload:[r,e?.(r)||{}]}),g(r)}},[e,r,p,a,u.isFetching]);let f=(0,n.useMemo)(()=>({filterState:u,dispatch:h,refreshFiltersData:l}),[u,l]);return(0,_.jsx)(m,{value:f,children:t})},b=({bookmark:e="",children:t,generateInitFilterCb:r})=>{let i=(0,h.Z)(e?{name:"ApiResource",options:{url:"/v3/filters/",data:{bookmark_string:e}}}:null),{data:n=null,refresh:a,isLoaded:o}=i;return(0,_.jsx)(f,{applyInitFilters:r,filterModels:n||[],isFetching:!o||!e,refreshFiltersData:a,children:t})},y=void 0!==i?i:i=r(384490),v=({children:e,oneBarModulesKey:t})=>{let{data:r,isFetching:i}=(0,p.Z)(),{oneBarModules:s}=r||{},l=(0,a.useFragment)(y,t),d=(0,n.useMemo)(()=>({dispatch:()=>{},filterState:{models:[],availableFilterModels:[],appliedFilters:{},filters:{},isFetching:i,pendingDeletedSelections:{},status:o.v.CLEARED},refreshFiltersData:()=>{}}),[i]),c=(l?[l]:s?.map(e=>e&&{action:e.action?{filters:e.action.filters?e.action.filters.map(e=>({isSelected:e.is_selected??null,id:e.id??null,display:e.display?{displayText:e.display.display_text??null}:null,action:e.action?{feedUrl:e.action.feed_url??null}:null})):null}:null,id:e.id??null,moduleType:e.module_type??null}))?.find(({moduleType:e})=>0===e),u=c?.action?.filters;if(!c||!u)return(0,_.jsx)(m,{value:d,children:e});let h=c.id||"";return(0,_.jsx)(f,{filterModels:[{filter_component_type:2,filter_options:u.map((e,t)=>({label:e?.display?.displayText||"",id:e?.id||"",string_value:e?.action?.feedUrl||"",is_selected:"boolean"==typeof e?.isSelected?e.isSelected:0===t})),id:h,title:"",product_filter_type:4}],filters:{[h]:{id:h,selectedOptionId:u.find((e,t)=>e?.isSelected&&0!==t)?.id,type:"single"}},isFetching:i,refreshFiltersData:()=>{},children:e})}},838551:(e,t,r)=>{"use strict";r.d(t,{$:()=>i,v:()=>n});let i=50,n={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},161187:(e,t,r)=>{"use strict";r.d(t,{Af:()=>g,Ak:()=>C,Ax:()=>v,B1:()=>m,Cv:()=>x,Ke:()=>w,LG:()=>S,UP:()=>A,a$:()=>p,cV:()=>P,i7:()=>f,nZ:()=>h,ph:()=>_,rc:()=>y,vJ:()=>b});var i=r(838551),n=r(105737),a=r(444781),o=r(782005),s=r(325362),l=r(294551);let d=e=>e.map(({filter_component_type:e,filter_options:t,title:r})=>({filter_component_type:e,filter_options:t.map(({label:e,count:t,image_url:r,is_verified:i,numeric_value:n,string_value:a,unit:o})=>({label:e,count:t,image_url:r,is_verified:i,numeric_value:n,string_value:a,unit:o})),title:r})),c=(e,t)=>{if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type)return!(0,n.ZP)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type)return!(e.min===t.min&&e.max===t.max);throw Error("Filter type specific return must be specified")},u=e=>!e||!Object.keys(e).length,h=(e,t)=>{if(u(e)&&u(t))return!1;if(u(e)||u(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(let r in e){let i=e[r],n=t?.[r];if(c(i,n))return!0}return!1},p=(e,t)=>!(0,n.ZP)(d(e),d(t)),_=(e,t)=>{if("single"===e.type)return t&&e.selectedOptionId?!!t.filter_options.find(({id:t})=>e.selectedOptionId===t)?.is_selected:!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type)return e.min===t?.filter_options[0].numeric_value&&e.max===t?.filter_options[2].numeric_value;throw Error("Filter type specific return must be specified")},m=(e,t)=>{try{for(let r in e){let i=e[r],n=t.find(e=>e.id===i.id);if(!_(i,n))return!1}return!0}catch(e){return!0}},g=e=>e.map(e=>{switch(e.filter_component_type){case 2:let t=e.filter_options.find(e=>e.is_selected)?.id;return t?{selectedOptionId:t,id:e.id,type:"single"}:null;case 1:let r=e.filter_options.filter(e=>e.is_selected).map(({id:e})=>e);return r.length>0?{selectedOptionIds:new Set(r),id:e.id,type:"multi"}:null;default:return null}}).reduce((e,t)=>t?{...e,[t.id]:t}:e,{}),f=({scope:e,priceMin:t,priceMax:r,domains:i,brands:n,colors:a,unifiedFilterModels:s})=>{let l={};for(let{filter_options:d,id:c,product_filter_type:u}of s){if(1===u&&("number"==typeof t||"number"==typeof r)){let[e,i,n,a]=d,o=t??n?.numeric_value??e?.numeric_value,s=r??a?.numeric_value??i?.numeric_value;l[c]={min:o,max:s,id:c,type:"range",lastChangedLocation:1}}if(0===u&&i&&i.length>0){let e=i.map(e=>{let t=d.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(l[c]={id:c,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(3===u&&n&&n.length>0){let e=n.map(e=>{let t=d.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(l[c]={id:c,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(6===u&&a&&a.length>0){let e=a.map(e=>{let t=d.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(l[c]={id:c,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(4===u&&e){let t=(0,o.gi)(e),r=d.find(({search_type:e})=>e===t);r&&!r.is_selected&&(l[c]={id:c,lastChangedLocation:1,selectedOptionId:r.id,type:"single"})}}return l},b=({brandsParam:e,colorsParam:t,domainsParam:r,priceMaxParam:i,priceMinParam:n,unifiedFilterModels:a})=>{let o=[],s=Number(n),l=Number(i),d=Number.isNaN(s)?void 0:s,c=Number.isNaN(l)?void 0:l,u=r?.split(",").filter(Boolean)??[],h=e?.split(",").filter(Boolean)??[],p=t?.split(",").filter(Boolean)??[];for(let{filter_options:e,id:t,product_filter_type:r}of a){if(1===r&&"number"==typeof d&&"number"==typeof c){let i={filter_id:t,filter_options:e.slice(0,2).map((e,t)=>({filter_option_id:e.id,numeric_value:0===t?d:c,unit:e.unit||"USD"})),location:0,product_filter_type:r};o.push(i)}if(0===r&&u&&u.length>0){let i=u.map(t=>{let r=e.find(e=>e.string_value===t);return r?r.id:null}).filter(Boolean);if(i.length>0){let e={filter_id:t,filter_options:i.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:r};o.push(e)}}if(3===r&&h&&h.length>0){let i=h.map(t=>{let r=e.find(e=>e.string_value===t);return r?r.id:null}).filter(Boolean);if(i.length>0){let e={filter_id:t,filter_options:i.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:r};o.push(e)}}if(6===r&&p&&p.length>0){let i=p.map(t=>{let r=e.find(e=>e.string_value?.toLowerCase()===t.toLowerCase());return r?r.id:null}).filter(Boolean);if(i.length>0){let e={filter_id:t,filter_options:i.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:r};o.push(e)}}}return 0===o.length?null:{filters:o}},y=({filterMap:e,isInWebHundredPercentProductLoadExp:t,models:r})=>{let i=null,n=null,a=!1,s=null,l=null,d=null,c=null;for(let u in e){let h=e[u],p=r.find(e=>e.id===h.id);if(p){if("range"===h.type&&1===p.product_filter_type)d=h.min,l=h.max;else if("multi"===h.type&&0===p.product_filter_type){let e=p.filter_options.filter(e=>h.selectedOptionIds.has(e.id));s=e.map(e=>e.string_value).filter(Boolean)}else if("multi"===h.type&&3===p.product_filter_type){let e=p.filter_options.filter(e=>h.selectedOptionIds.has(e.id));i=e.map(e=>e.string_value).filter(Boolean)}else if("multi"===h.type&&6===p.product_filter_type){let e=p.filter_options.filter(e=>h.selectedOptionIds.has(e.id));n=e.map(e=>e.string_value).filter(Boolean)}else if("single"===h.type&&4===p.product_filter_type){let e=p.filter_options.find(e=>h.selectedOptionId===e.id),r=e&&void 0!==e.search_type?(0,o.zh)(e.search_type):o.lw.PINS;c=r,t&&(c=r===o.lw.PINS_BUYABLE?o.lw.PINS:r,a=r===o.lw.PINS_BUYABLE)}}}let u=r.find(e=>4===e.product_filter_type),h=u?.filter_options.find(e=>e.is_selected);return null===c&&"number"==typeof h?.search_type&&(c=(0,o.zh)(h.search_type)),{brands:i,colors:n,commerce_only:a,domains:s,max:l,min:d,scope:c}},v=(e,t)=>{let r=[];return(Object.keys(e).forEach(i=>{let n=e[i],a=t.find(e=>e.id===n.id);if(!a||4===a.product_filter_type)return;let o=[];if("range"===n.type){let[e,t]=a.filter_options;o=[{filter_option_id:e.id,numeric_value:n.min,unit:e.unit},{filter_option_id:t.id,numeric_value:n.max,unit:t.unit}]}if("single"===n.type){let e=a.filter_options.find(e=>e.id===n.selectedOptionId);if(!e)return;o=[{filter_option_id:e.id,string_value:e.string_value}]}if("multi"===n.type){let e=a.filter_options.filter(e=>n.selectedOptionIds.has(e.id));o=e.map(e=>({filter_option_id:e.id,string_value:e.string_value}))}r.push({filter_id:i,filter_options:o,location:n.lastChangedLocation,product_filter_type:a.product_filter_type})}),r&&0!==r.length)?{filters:[...r]}:null};function x(e,t){let{id:r,filter_options:i,label:n,product_filter_type:a}=e;return i?{filter_component_type:t.filterComponentType,filter_options:i,id:r||"",product_filter_type:a??1,title:"",label:n||""}:null}function w(e,t){let{id:r,filterOptions:i,label:n,productFilterType:o}=e;return i?{filter_component_type:t.filterComponentType,filter_options:(0,a.Z)(l.Z,!0)(i),id:r||"",product_filter_type:o??1,title:"",label:n||""}:null}function P(e){let{id:t,filter_options:r,label:i,product_filter_type:n}=e;return{action:{},disabled:!1,display:{},isSelected:!1,id:t,filterOptions:(0,a.Z)(s.Z,!0)(r),label:i,productFilterType:n}}function S(e,t,r){let[n,a,o,s]=r,{numeric_value:l=0}=s??n,{numeric_value:d=l+i.$}=o??a,{unit:c="USD"}=n,u=e.filters[t]||{min:l,max:d,id:t,type:"range"};return{defaultMax:d,defaultMin:l,unit:c,range:u}}function C(e){return"multi"!==e.type?e:{...e,selectedOptionIds:new Set}}function A(e,t){let r=[];return Object.keys(t).forEach(i=>{let n=e.find(e=>e?.id===i),a=t[i];if(n){let e=n.aux_data?.module_id;e&&r.push(e);let t=("multi"===a.type?Array.from(a.selectedOptionIds):"single"===a.type?[a.selectedOptionId]:[]).map(e=>{let t=n.filter_options.find(t=>t.id===e);return t?.aux_data?.module_id||""}).filter(Boolean);r.push(...t)}}),r}},822311:(e,t,r)=>{"use strict";r.d(t,{Z:()=>B});var i=r(667294),n=r(883119),a=r(29156),o=r(401429),s=r(930837),l=r(444781),d=r(608516),c=r(325362),u=r(244413),h=r(118923),p=r(832853),_=r(785893);let m=(0,i.lazy)(()=>r.e(74826).then(r.bind(r,457805))),g=(0,p.Z)(()=>r.e(74826).then(r.bind(r,457805)),{ssr:!1}),f=(0,i.lazy)(()=>r.e(65468).then(r.bind(r,765468))),b=(0,p.Z)(()=>r.e(65468).then(r.bind(r,765468)),{ssr:!1}),y=(0,i.lazy)(()=>r.e(29087).then(r.bind(r,629087))),v=(0,p.Z)(()=>r.e(29087).then(r.bind(r,629087)),{ssr:!1}),x=(0,i.lazy)(()=>Promise.all([r.e(12150),r.e(64996)]).then(r.bind(r,12150))),w=(0,p.Z)(()=>Promise.all([r.e(12150),r.e(64996)]).then(r.bind(r,12150)),{ssr:!1}),P=(0,i.lazy)(()=>r.e(52190).then(r.bind(r,752190))),S=(0,p.Z)(()=>r.e(52190).then(r.bind(r,752190)),{ssr:!1}),C=(0,i.lazy)(()=>Promise.all([r.e(97270),r.e(31847)]).then(r.bind(r,394966))),A=(0,p.Z)(()=>Promise.all([r.e(97270),r.e(31847)]).then(r.bind(r,394966)),{ssr:!1}),E=(0,i.lazy)(()=>r.e(77804).then(r.bind(r,77804))),j=(0,p.Z)(()=>r.e(77804).then(r.bind(r,77804)),{ssr:!1}),T=(0,i.lazy)(()=>r.e(11408).then(r.bind(r,311408))),I=(0,p.Z)(()=>r.e(11408).then(r.bind(r,311408)),{ssr:!1}),k=(0,i.lazy)(()=>r.e(3812).then(r.bind(r,264996))),D=(0,p.Z)(()=>r.e(3812).then(r.bind(r,264996)),{ssr:!1}),R=(0,i.lazy)(()=>r.e(12e3).then(r.bind(r,612e3))),z=(0,p.Z)(()=>r.e(12e3).then(r.bind(r,612e3)),{ssr:!1}),O=[505420,506249,505933,506173,506124];function B({placementId:e}){let t=(0,h.b)();return(0,_.jsx)(i.Fragment,{children:(0,_.jsx)(o.Z,{eligibleIds:[501312,500331,502271,504032,504569,504721,505039,505093,505420,506249,505933,506173,506124],placementId:e,children:({complete:r,dismiss:i,experience:{experience_id:o,display_data:h}})=>{let p=t?function(e){switch(e){case 504721:return I;case 504569:return j;case 504032:return D;case 502271:return b;case 505039:return v;case 505093:return z;default:return g}}(o):function(e){switch(e){case 504721:return T;case 504569:return E;case 504032:return k;case 502271:return f;case 505039:return y;case 505093:return R;default:return m}}(o),B=function(e){switch(e){case 504721:return 660;case 500331:return"md";default:return"sm"}}(o);return(0,_.jsxs)(n.xu,{children:[!O.includes(o)&&(0,_.jsx)(s.ZP,{accessibilityModalLabel:"",onDismiss:i,size:B,children:t?(0,_.jsx)(p,{...(0,l.Z)(c.Z)(h),experienceId:o,handleComplete:r,handleDismiss:i,placementId:e}):(0,_.jsx)(d.Z,{children:(0,_.jsx)(p,{...(0,l.Z)(c.Z)(h),experienceId:o,handleComplete:r,handleDismiss:i,placementId:e})})}),506124===o&&(t?(0,_.jsx)(w,{handleComplete:r,handleDismiss:i,isDesktop:!0,isGooglePrimary:!0,...(0,l.Z)(c.Z)(h)}):(0,_.jsx)(d.Z,{children:(0,_.jsx)(x,{handleComplete:r,handleDismiss:i,isDesktop:!0,isGooglePrimary:!0,...(0,l.Z)(c.Z)(h)})})),506173===o&&(t?(0,_.jsx)(w,{handleComplete:r,handleDismiss:i,isDesktop:!0,isGooglePrimary:!1,...(0,l.Z)(c.Z)(h)}):(0,_.jsx)(d.Z,{children:(0,_.jsx)(x,{handleComplete:r,handleDismiss:i,isDesktop:!0,isGooglePrimary:!1,...(0,l.Z)(c.Z)(h)})})),505420===o&&(t?(0,_.jsx)(A,{experienceId:505420,onSubmitSurvey:async()=>{(0,a.Z)((0,u.Z)({site:"www",path:"/business/marketing-plan"}))},placementId:e,viewType:251}):(0,_.jsx)(d.Z,{children:(0,_.jsx)(C,{experienceId:505420,onSubmitSurvey:async()=>{(0,a.Z)((0,u.Z)({site:"www",path:"/business/marketing-plan"}))},placementId:e,viewType:251})})),506249===o&&(t?(0,_.jsx)(A,{experienceId:506249,onSubmitSurvey:async()=>{(0,a.Z)((0,u.Z)({site:"www",path:"/business/marketing-plan"}))},placementId:e,viewType:251}):(0,_.jsx)(d.Z,{children:(0,_.jsx)(C,{experienceId:506249,onSubmitSurvey:async()=>{(0,a.Z)((0,u.Z)({site:"www",path:"/business/marketing-plan"}))},placementId:e,viewType:251})})),505933===o&&(t?(0,_.jsx)(S,{handleComplete:()=>{r(),(0,a.Z)((0,u.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:i,onAdsReportingSurface:!1}):(0,_.jsx)(d.Z,{children:(0,_.jsx)(P,{handleComplete:()=>{r(),(0,a.Z)((0,u.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:i,onAdsReportingSurface:!1})}))]})}})})}},636259:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(995917);function n(){let e=(0,i.Z)({name:"ApiResource",options:{url:"/v3/users/me/boards/soft_deleted/",data:{fields:["board.image_cover_url","board.id","board.name","board.pin_count","board.section_count","board.url"]}}}),{data:t,isLoaded:r,refresh:n}=e;return{recentlyDeletedBoards:t,isLoaded:r,refreshRecentlyDeletedBoards:n}}},596867:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(883119),n=r(785893);function a({children:e}){return(0,n.jsx)("div",{className:"withoutBoxShadow",children:e})}var o=r(140017);function s({children:e,onClick:t,isSelected:r}){let s=(0,o.ZP)(),l=r?s._('Drag and drop selected item', 'BulkEditPinWrapper.tapArea.selectedAccessibilityLabel', 'Label for selected item that can be dragged and dropped.'):s._('Drag and drop deselected item', 'BulkEditPinWrapper.tapArea.deselectedAccessibilityLabel', 'Label for deselected item that can be dragged and dropped.');return(0,n.jsxs)(i.xu,{position:"relative",children:[(0,n.jsx)(i.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,n.jsx)(a,{children:(0,n.jsx)(i.iP,{accessibilityLabel:l,fullHeight:!0,fullWidth:!0,onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),t()},rounding:2})})}),(0,n.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:e})]})}},200154:(e,t,r)=>{"use strict";r.d(t,{H$:()=>f,MY:()=>g,ZP:()=>b});var i=r(667294),n=r(883119),a=r(140017),o=r(339001),s=r(785893);function l({shouldBlock:e,updateShouldBlock:t,user:r}){let i=(0,a.ZP)(),{fullName:l,username:d}=r,c=l?`${l} (${d})`:d;return(0,s.jsxs)(n.xu,{paddingY:3,children:[(0,s.jsx)(n.xv,{size:"100",children:(0,o.nk)(i._('Block {{ name }}', 'reportModal.detailPage.userBlockSwitch.heading', 'Block a user heading, name:Display name of user to be blocked'),{name:c})}),(0,s.jsxs)(n.xu,{direction:"row",display:"flex",paddingY:2,children:[(0,s.jsx)(n.xu,{marginEnd:2,children:(0,s.jsx)(n.XZ,{checked:e,id:"blockUser",onChange:t})}),(0,s.jsx)(n.xu,{children:(0,s.jsx)(n.xv,{size:"300",children:(0,o.nk)(i._('If you block {{ nameLink }}, both of you can still view each other\'s profiles, but you can\'t message each other, follow or save each other\'s Pins.', 'reportModal.detailPage.userBlockSwitch.blockingExplanation', 'Explanation of blocking a user, nameLink:Display name of user to be blocked with a link to their profile'),{nameLink:(0,s.jsx)(n.xv,{inline:!0,size:"300",weight:"bold",children:(0,s.jsx)(n.rU,{display:"inlineBlock",href:`/${d}`,onClick:({dangerouslyDisableOnNavigation:e})=>e(),target:"blank",underline:"hover",children:c},"blockUserLink")})})})})]})]})}let d={listStyleType:"disc",marginLeft:"18px",fontSize:"16px"};function c({objectToReport:e,selectedReason:t,shouldBlockUser:r,renderVideoReasonDetailPage:i,updateShouldBlockUser:a}){let{detail_page_removal_examples:o,detail_page_removal_example_header:c,detail_page_non_removal_examples:u,detail_page_non_removal_example_header:h,detail_page_additional_text:p}=t;return(0,s.jsxs)(n.xu,{paddingX:8,children:[(0,s.jsxs)(n.xu,{paddingY:3,children:[(0,s.jsx)(n.xv,{size:"100",children:c}),o.length>0&&(0,s.jsx)(n.xu,{paddingY:2,children:(0,s.jsx)("ul",{children:o.map((e,t)=>(0,s.jsx)("li",{style:d,children:(0,s.jsx)(n.xv,{size:"300",children:e})},`removals-${t}`))})})]}),u.length>0&&(0,s.jsxs)(n.xu,{paddingY:3,children:[(0,s.jsx)(n.xv,{size:"100",children:h}),(0,s.jsx)(n.xu,{paddingY:2,children:(0,s.jsx)("ul",{children:u.map((e,t)=>(0,s.jsx)("li",{style:d,children:(0,s.jsx)(n.xv,{size:"300",children:e})},`removals-${t}`))})})]}),p&&(0,s.jsx)(n.xu,{paddingY:3,children:(0,s.jsx)(n.xv,{size:"300",children:p})}),i&&i(),"conversation"===e.type&&a&&e.userToBlock&&(0,s.jsx)(l,{shouldBlock:!!r,updateShouldBlock:a,user:{username:e.userToBlock.username,fullName:e.userToBlock.fullName}})]})}var u=r(214877);function h({isSelectionStep:e,hasTimestampErrors:t,selectedReason:r,handleSubmitReport:i,onDismiss:o,step:l,shouldBlockUser:d,objectToReport:c,setStep:h}){let p=(0,a.ZP)(),{logContextEvent:_}=(0,u.v)(),m=({component:e,element:t,event:r})=>{c&&_({event_type:r,component:e,element:t,object_id_str:c.id,view_parameter:c.viewParameter||void 0,view_type:c.viewType||void 0})},b=e=>{c.type===f.PIN&&m({event:59,element:e.element_type}),window.open(e.open_web_url,"_blank"),o()},y=e=>()=>{e!==g&&m({event:101,component:13179,...r?{element:r.element_type}:{}}),h(e)},v=e&&!r?.key||!e&&t,x=!(!1===l&&r?.secondary_reasons&&r.secondary_reasons.length>0),w=e?p._('Next', 'ReportModal.nextButton', 'Button to progress to next screen in report flow'):p._('Report', 'ReportModal.submitButton', 'Button text to submit a report'),P=e?y(!1):()=>{if(r){let e={reasonKey:r.key,selectedReason:r,shouldBlockUser:d};i(e)}};r?.open_web_url&&(P=()=>b(r));let S=e?p._('Cancel', 'ReportModal.cancelButton', 'Cancel button'):p._('Back', 'ReportModal.backButton', 'Back button'),C=e?o:y(!0);return(0,s.jsxs)(n.xu,{direction:"row",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,s.jsx)(n.xu,{paddingX:1,children:(0,s.jsx)(n.xu,{"data-test-id":"report-pin-back-button",children:(0,s.jsx)(n.zx,{onClick:C,size:"lg",text:S})})}),x&&(0,s.jsx)(n.xu,{paddingX:1,children:(0,s.jsx)(n.xu,{"data-test-id":"report-pin-submit-button",children:(0,s.jsx)(n.zx,{color:"red",disabled:v??!1,onClick:P,size:"lg",text:w})})})]})}var p=r(577530);function _({handleSelectedReason:e,reason:t,reportingReasons:r}){let i=(0,a.ZP)();return(0,s.jsx)(n.xu,{paddingX:4,paddingY:2,children:(0,s.jsx)(n.FX,{id:"select-reporting-reason",legend:i._('Select reporting reason', 'select_reporting_reason.legend', 'Description of Reporting reason'),legendDisplay:"hidden",children:r.map(r=>(0,s.jsx)(n.xu,{direction:"row",display:"flex",paddingX:4,children:(0,s.jsx)(n.xu,{"data-test-id":`report-pin-reason-${r.key}`,children:(0,s.jsx)(n.FX.RadioButton,{checked:r.key===t,helperText:r.secondary_text||"",id:r.key,label:r.primary_text||"",name:"reportPinOptions",onChange:()=>e(r),value:r.key})})},`Option-${r.key}`))})})}var m=r(930837);let g=!0,f={BOARD:"board",PIN:"pin",USER:"user",CONVERSATION:"conversation"};function b({onDismiss:e,handleSubmitReport:t,hasTimestampErrors:r,objectToReport:o,renderVideoReasonDetailPage:l,reportingReasons:d}){let u=(0,a.ZP)(),[b,y]=(0,i.useState)(null),[v,x]=(0,i.useState)(!1),[w,P]=(0,i.useState)(g),S=e=>{y(e)},C=()=>{if(w!==g&&b?.detail_page_header_text)return b.detail_page_header_text;switch(o.type){case f.PIN:return u._('Report Pin', 'pinReporting.heading', 'Modal heading for report pin flow');case f.USER:return u._('Report account', 'accountReporting.heading', 'Modal heading for report account flow');case f.CONVERSATION:return u._('Report conversation', 'conversationReporting.heading', 'Modal heading for report conversation flow');case f.BOARD:return u._('Report board', 'boardReporting.heading', 'Modal heading for board report flow');default:return""}};return d?(0,s.jsx)(m.ZP,{accessibilityModalLabel:C(),footer:d&&(0,s.jsx)(h,{handleSubmitReport:t,hasTimestampErrors:r,isSelectionStep:w===g,objectToReport:o,onDismiss:e,selectedReason:b,setStep:P,shouldBlockUser:v,step:w}),heading:C(),onDismiss:e,children:(0,s.jsxs)(n.xu,{children:[w===g&&(0,s.jsx)(_,{handleSelectedReason:S,reason:b?.key,reportingReasons:d}),w!==g&&b?.secondary_reasons&&b.secondary_reasons.length>0?(0,s.jsx)(p.Z,{onChange:S,secondaryReasons:b.secondary_reasons}):w!==g&&b&&(0,s.jsx)(c,{objectToReport:o,renderVideoReasonDetailPage:l,selectedReason:b,shouldBlockUser:v,updateShouldBlockUser:()=>{o.userToBlock&&x(!v)}})]})}):(0,s.jsx)(n.$j,{accessibilityLabel:u._('Loading pin report modal', 'pinReporting.spinner', 'Accessibility label for spinner shown while reasons are loading'),show:!0})}},577530:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(883119),n=r(140017),a=r(785893);function o({onChange:e,secondaryReasons:t}){let r=(0,n.ZP)();return(0,a.jsx)(i.xu,{children:t.map(t=>(0,a.jsx)(i.iP,{onTap:()=>t.open_web_url?window.open(t.open_web_url,"_blank"):e(t),children:(0,a.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingY:3,children:[(0,a.jsx)(i.xu,{paddingX:8,children:(0,a.jsx)(i.xv,{children:t.primary_text})}),(0,a.jsx)(i.xu,{paddingX:8,children:t.open_web_url?(0,a.jsx)(i.JO,{accessibilityLabel:r._('Visit for more information', 'pinReporting.secondaryReason.outsideLink.icon', 'Visit outside link for more information'),color:"default",icon:"arrow-up-right"}):(0,a.jsx)(i.JO,{accessibilityLabel:r._('Select this reason', 'pinReporting.secondaryReason.modalPageLink.icon', 'Choose this reason'),color:"default",icon:"arrow-forward"})})]})},t.key))})}},481177:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},901855:(e,t,r)=>{"use strict";r.d(t,{Hv:()=>l,aX:()=>u,nK:()=>h});var i=r(667294),n=r(616550),a=r(342513),o=r(785893);let{Provider:s,useHook:l}=(0,a.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function c(e,t){let r={action:t.type,location:t.location,match:t.match};if(t.location===e.current?.location)return e;switch(t.type){case"POP":if(e.forward.length>0&&d(e.forward[0].location)===d(r.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:r,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:r};default:return e}}function u(){let{current:e,previous:t}=l(),r=(0,i.useMemo)(()=>e?t.concat(e):t,[e,t]);return r}function h({children:e}){let t=(0,n.k6)(),r=(0,n.TH)(),a=(0,n.$B)(),l={forward:[],current:{action:t.action,location:r,match:a},previous:[]},[d,u]=(0,i.useReducer)(c,l);return(0,i.useEffect)(()=>{let{action:e}=t;u({type:e,location:r,match:a})},[r]),(0,o.jsx)(s,{value:d,children:e})}},406893:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a}),r(441143);var i=r(785893);class n{static factory(e){return e instanceof n?e:new n(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function a(e){let{css:t,unsafeCSS:r,...a}=e,o=String(t||"")||r||"",s=!!o;return s?(0,i.jsx)("style",{...a,dangerouslySetInnerHTML:{__html:String(n.factory(o))}}):null}},485756:(e,t,r)=>{"use strict";r.d(t,{xR:()=>m,ZP:()=>f,vR:()=>_});var i=r(658583),n=r(622541),a=r(373314),o=r(217058),s=r(353453),l=r(953565);let d={".pinterdev.com":"pinterdev","playhouse-worker-www":"playhouse-worker-www","playhouse-worker-sterling":"playhouse-worker-sterling","playhouse-worker-analytics":"playhouse-worker-analytics"},c=["accounts-oauth.pinterest.com","analytics-latest.pinterest.com","analytics.pinterest.com","canary.pinterest.com","latest.pinterest.com","sss.www.pinterest.com","testing.pinterest.com","testing-k8s.pinterest.com","unknown","www.pinterest.com","www.pinterest.co.kr","www.pinterest.co.uk","www.pinterest.com.au","www.pinterest.com.mx"],u=/www\.pinterest\.[A-Za-z]{2}/,h=/[A-Za-z]{2}\.pinterest\.com/,p=()=>{let e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";else if(e.indexOf("yandex")>-1)return"yandex"}},_=e=>{let{userAgent:t}=e;if(!t.isMobile&&!t.isTablet)return"desktop";switch(t.platform){case s.RL:return"iphone";case s.GW:return t.isTablet?"android_tablet":"android";case s.s4:return"ipad";default:return"mobile_other"}};function m(e){let t=c.indexOf(e)>-1||u.test(e)||h.test(e);if(t)return e;for(let t in d)if(Object.prototype.hasOwnProperty.call(d,t)&&e.indexOf(t)>-1)return d[t];return"other"}let g=({moduleName:e,pageType:t,requestContext:r})=>{let s;let d=_(r),c=r.isAuthenticated?"auth":"unauth",u=p(),h=(0,a.Z)(),g=(s=!1,i.U2(n.VL)||(i.t8(n.VL,"1",(0,i.kZ)(n.VL)),s=!0),s),f=document.domain||"unknown";g&&((0,o.My)(`traffic.${d}.${h}.${e}.${c}`),(0,o.My)(`traffic_subdomain.${f}.${h}.${e}.${c}`),(0,o.My)(`traffic_subdomain.${f}.${d}.${h}.${e}.${c}`),(0,o.My)(`traffic_subdomain.${f}.${d}.${c}`),(0,o.My)(`traffic_duplo.${d}.${h}.${e}.${c}`),u&&(0,o.My)(`traffic_bot.${u}.${e}`));let b={domain:m(f),referrer:h??"unknown",platform:d??"unknown",browser:r.userAgent.browserName??"unknown",bot_type:u??"none",page_type:t??"unknown",is_auth:c??"unknown",module:e??"unknown",moduleType:function(e){if(/.*Board(React)?Page(Wrapper)?$/.test(e))return"Board";if(/Closeup|.*Pin(Landing|React)?Page$/.test(e))return"Pin";if("HomePage"===e||"UnauthHomeReactPage"===e||"LoginPage"===e||"Signup"===e)return"Home";if(/.*ProfilePage(Container)?$/.test(e))return"Profile";if("TopicPage"===e||"UnauthTopicPage"===e)return"Topic";if(/.*TodayTab(Feed)?Page$/.test(e))return"TodayTab";if("UnauthTodayArticleFeedPage"===e||"TodayArticleFeedPage"===e)return"TodayArticle";else if(/.*Idea(s)?RootPage$/.test(e))return"IdeasRoot";else if(/.*Idea(s)?(Topic)?Page$/.test(e))return"Ideas";else if(/.*Video(s)?RootPage$/.test(e))return"VideosRoot";else if(/.*Video(s)?(Category)?Page$/.test(e))return"VideosCategory";else if(/.*ShoppingRootPage$/.test(e))return"ShoppingRoot";else if(/.*Shopping(Category)?Page$/.test(e))return"ShoppingCategory";else return"other"}(e??"unknown"),first_visit:g??"unknown"};(0,l.nP)("webapp.traffic",{sampleRate:.1,tags:b}),("google"===h||"other"===h)&&(0,l.nP)(`webapp.traffic.${d}.${h}`,{sampleRate:.1,tags:b})};function f({pageType:e,requestContext:t,route:r}){g({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[r]||"other",pageType:e,requestContext:t})}},705318:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let i=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},n=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};n.prototype.set=function(e,t){let r=this._uidToData[e];r||(r=new i(e,t),this._uidToData[e]=r,this._numItems+=1),this._moveToFront(r),this._numItems>this._maxNumItems&&this._evict()},n.prototype.get=function(e){let t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},n.prototype.remove=function(e){let t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},n.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},n.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};let a=n},420240:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(107366);let n=async e=>{let t=await (0,i.Z)({url:`/v3/board/${e}/report_reasons/`});return t.resource_response.data},a=n},329456:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(107366);let n=async(e,t)=>await (0,i.Z)({url:`/v3/board/${e}/flag/`,method:"POST",data:t}),a=n},302607:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(454514),n=r(140017),a=r(13848),o=r(785893);function s(){let e=(0,n.ZP)(),{showToast:t}=(0,a.F9)();return{showErrorToast:()=>{t(({hideToast:t})=>(0,o.jsx)(i.ZP,{onHide:t,text:e._('Something went wrong.', 'fetchReportingReasons.Toast.Unsuccessful', 'Toast after fetching reporting reasons is unsuccessful')}))},showSuccessToast:()=>{t(({hideToast:t})=>(0,o.jsx)(i.ZP,{onHide:t,text:e._('Thanks! Your feedback helps us improve Pinterest.', 'userReporting.handleSubmitReport.toast', 'toast after reporting a user successfully')}))}}}},934378:(e,t,r)=>{"use strict";r.d(t,{$N:()=>_,Cu:()=>g,GY:()=>d,MZ:()=>o,NR:()=>u,Vn:()=>c,bC:()=>m,fm:()=>i,kM:()=>a,q6:()=>n,qp:()=>l,uV:()=>h,ug:()=>p,xL:()=>s});let i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},n={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},a={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},o={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud"},s={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},l={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW"},d={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},c={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},u={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},h="604800",p="86400",_={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},m="click",g="view"},263032:(e,t,r)=>{"use strict";r.d(t,{YS:()=>o,eF:()=>s,m_:()=>a});var i=r(934378),n=r(953565);function a(e,t,r,n,a,o){let s=new URLSearchParams,l=e??"0",d=t.reduce((e,t)=>{if(null!=t){let r=function(e){let t;try{t=decodeURIComponent(e)}catch(r){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(i){let r=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(r&&r.length>1)return r[1];return e}}(t);return e.add(r)}return e},new Set);return s.append(i.NR.SOURCE_EVENT_ID,l),s.append(i.NR.DESTINATION,JSON.stringify([...d])),s.append(i.NR.EXPIRY,r?i.uV:i.ug),s.append(i.NR.PRIORITY,r?i.NR.CLICK_PRIORITY:i.NR.VIEW_PRIORITY),a&&s.append(i.NR.ADVERTISER_ID,a),n&&s.append(i.NR.CAMPAIGN_ID,n),s.append(i.NR.SOURCE_EVENT_TYPE,r?i.bC:i.Cu),o?"https://www.pinterest.com/attribution_source/?"+s.toString():"/attribution_source/?"+s.toString()}async function o(e,t,r,i,o,s,l,d,c,u){let{appType:h,osType:p}=s||{};if(["Pin","pinImpressions"].includes(e)&&t&&(i||d||c)){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:h,osType:p}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:h,osType:p}});return}let e=a(r,[i,d,c],!1,o,l,u),t=await window.fetch(e,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}});if(!t.ok)throw Error("server request failed.");(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:h,osType:p}})}catch(e){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:e.name,message:e.message,appType:h,osType:p}})}}else(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:h,osType:p}})}function s(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},693323:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let i="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function n({window:e,duration:t,run:r}){let n=i(),a=0,o=null,s=()=>{let l=i()-n,d=l-a;if(t===1/0)r(0,l,d);else{let e=l/t;if(e>=1){r(1,l,d);return}r(e,l,d)}a=l,o=e.requestAnimationFrame(s)};return{start:()=>{o=e.requestAnimationFrame(s)},cancel:()=>{o&&(e.cancelAnimationFrame(o),o=null)}}}},860208:(e,t,r)=>{"use strict";function i(e){return[0,24,21,26].includes(e)}function n({articleType:e,id:t,title:r}){let i=r.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${i}/${t}/`:`/discover/article/${i}/${t}/`}r.d(t,{x:()=>n,y:()=>i})},341640:(e,t,r)=>{"use strict";r.d(t,{Cd:()=>m,G:()=>x,IA:()=>S,M5:()=>P,ML:()=>c,Oh:()=>y,Pe:()=>d,Tv:()=>p,Uy:()=>u,Xf:()=>b,cO:()=>g,ew:()=>h,nN:()=>f,p9:()=>v,yo:()=>_});var i=r(824002),n=r(112274),a=r(642298),o=r(339001),s=r(621018),l=r(953565);let d=e=>e._('Make sure this age is accurate. Your birthdate is required for personalization, community safety and as part of our terms of service. For business accounts, use your own birthdate.', 'birthdateConfirmation.HelperText', 'Helper text notifying users to input their own birthday'),c=e=>e._('Use your own birthday, even if this a business account', 'birthdateConfirmation.HelperText.ownBirthday', 'Helper text notifying users to input their own birthday'),u=e=>e._('Oops! Please use a valid age to sign up.', 'existingUser.birthdaycollection.error.overage', 'Error message shown when overage (age over 120) user tries to register'),h=(e,t)=>(0,o.nk)(t.ngettext('Are you {{ age }} years old?', 'Are you {{ age }} years old?', e, 'birthdateConfirmation.heading', 'Header for the confirmation model verifying the age for the birthdate that the user inputted, age: age inputted into the fields'),{age:e}),p=(e,t,r,i)=>{let n=(0,o.nk)(e._('Oops! Please enter a valid {{dayError}}{{monthError}}{{yearError}} to sign up.', 'signup birthday error message', 'label for sign up birthday error message'),{dayError:t?e._('day', 'dayError keyword placeholder', 'label for dayError keyword place holder'):"",monthError:r?e._('month', 'monthError keyword placeholder', 'label for monthError keyword place holder'):"",yearError:i?e._('year', 'monthError keyword placeholder', 'label for monthError keyword place holder'):""}),a=n.filter(e=>0!==e.length),s=3===a.length?a.join(""):a[0]+a.slice(1,-1).join(", ")+a[a.length-1];return s},_=({country:e,isOnSouthKoreanExperiment:t})=>e&&e in s.T3&&(t||"KR"!==e)?s.T3[e]:s.Ur,m=(e,t)=>{let r=new Date,i=new Date(r.getFullYear()-t,r.getMonth(),r.getDate());return new Date(e)<=i},g=new Date().getFullYear(),f=new Date().getFullYear()-120,b=12,y=1,v=1,x=31,w="yyyy-MM-dd",P=e=>{let t=new Date,r=new Date(f,t.getMonth(),t.getDate()),i=m(e,5),n=new Date(e)>r;return i&&n};function S(e){let t=(0,i.Z)(e,w,new Date);if((0,n.Z)(t))return e;let r=new Date(e);try{return(0,a.Z)(r,w)}catch{return(0,l.nP)("webapp.birthday_validation_error",{sampleRate:1,tags:{birthdate:e}}),e}}},551539:(e,t,r)=>{"use strict";function i(e,t){return e.isAuth&&t===e.id}r.d(t,{Z:()=>i})},67030:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(481177);function n(e){return e===i.Z.BoardPrivacy.SECRET}},367106:(e,t,r)=>{"use strict";function i(e,t){return!!(t.isAuth&&e)}r.d(t,{Z:()=>i})},580716:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(551539),n=r(367106);function a(e,t,r){return(0,i.Z)(r,t)||(0,n.Z)(e,r)}},849118:(e,t,r)=>{"use strict";r.d(t,{P:()=>l,Z:()=>c});var i,n=r(667294);r(167912);var a=r(551539),o=r(367106),s=r(207012);let l=e=>{let{action:t,viewer:r,board:i}=e;return!!i&&((0,a.Z)(r,i.owner?.entityId)||(0,o.Z)(i.collaboratedByMe,r)&&!!i.collaboratorPermissions?.includes(t))},d=void 0!==i?i:i=r(261526);function c({boardKey:e}){let t=(0,s.Z)(d,e),r=t?.owner?.entityId??"",i=(0,n.useMemo)(()=>t?.collaboratorPermissions,[t?.entityId]),a=(0,n.useCallback)(({action:e,viewer:n})=>l({action:e,viewer:n,board:{collaboratedByMe:t?.collaboratedByMe,collaboratorPermissions:i,owner:r?{entityId:r}:null}}),[t?.collaboratedByMe,i,r]);return{canPerformAction:a}}},807657:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(29156),n=r(217058),a=r(968946);let o=(e,t)=>{t?.disableOriginCheck||(0,a.Z)(e)||(e="/",(0,n.My)("url_reset")),(0,i.Z)(e)}},207229:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(667294),n=r(71328);function a(e){let t=(0,n.Z)(e,200);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}function o(){return window.innerWidth}function s(){return window.innerHeight}function l(){return null}function d(){let e=(0,i.useSyncExternalStore)(a,s,l),t=(0,i.useSyncExternalStore)(a,o,l);return null!==e&&null!==t?{height:e,width:t}:null}},114267:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},137831:(e,t,r)=>{"use strict";function i(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>a});class n{static reportGoogleConversion(e,t,r,i){if(!i){if(void 0===window.gtag_report_conversion){n.queuedGoogleConversions.push({id:e,label:t,url:r});return}window.gtag_report_conversion(e,t,r)}}static reportFacebookConversion(e,t,r){if(void 0===window.fbq){n.queuedFacebookConversions.push({id:e,event:t,data:r});return}r?window.fbq("track",t,r):window.fbq("track",t)}static reportCustomFacebookConversion(e,t,r){if(void 0===window.fbq){n.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:r});return}r?window.fbq("trackCustom",t,r):window.fbq("trackCustom",t)}static reportPinterestConversion(e,t,r){if(void 0===window.pintrk){n.queuedPinterestConversions.push({id:e,event:t,data:r});return}r?window.pintrk("track",t,r):window.pintrk("track",t)}static reportTheTradeDeskConversion(e,t){let r=document.createElement("img");r.setAttribute("height","1"),r.setAttribute("width","1"),r.setAttribute("role","presentation"),r.style.borderStyle="none",r.style.position="absolute",r.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(r,document.body.lastChild)}static reportLinkedInConversion(e,t){let r=document.createElement("img");r.setAttribute("width","1"),r.setAttribute("height","1"),r.setAttribute("role","presentation"),r.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),r.style.display="none",document.body.insertBefore(r,document.body.lastChild)}static reportDoubleClickConversion(e,t,r){let i=1e13*Math.random(),n=document.createElement("iframe");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("frameborder","0"),n.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};
    type=${t};cat=${r};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${i}?`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static insertGoogleAdWordsTag(e,t){let r=document.createElement("script");t||(r.setAttribute("async",""),r.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),r.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,r){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,r){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==r&&window.location.assign(r)}}),!1};let r=n.queuedGoogleConversions;for(let i=0;i<r.length;i+=1){let a=r[i];a.id===e&&n.reportGoogleConversion(a.id,a.label,a.url,t)}}),document.body.insertBefore(r,document.body.firstChild)}static insertFacebookPixelTag(e){var t,r,i,a,o,s;t=window,r=document,i="script",t.fbq||(a=t.fbq=function(){"function"==typeof a.callMethod?a.callMethod(...arguments):a.queue.push(arguments)},t._fbq||(t._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],(o=r.createElement(i)).async=!0,o.src="//connect.facebook.net/en_US/fbevents.js",(s=r.getElementsByTagName(i)[0]).parentNode.insertBefore(o,s)),window.fbq("init",e),window.fbq("track","PageView");let l=n.queuedFacebookConversions;for(let t=0;t<l.length;t+=1){let r=l[t];r.id===e&&(r.isCustomEvent?n.reportCustomFacebookConversion(e,r.event,r.data):n.reportFacebookConversion(e,r.event,r.data))}}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};let t=window.pintrk;t.queue=[],t.version="3.0";let r=document.createElement("script");r.async=!0,r.src=e;let i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)}}("https://s.pinimg.com/ct/core.js"),window.pintrk("load",e),window.pintrk("page");let t=n.queuedPinterestConversions;for(let r=0;r<t.length;r+=1){let i=t[r];i.id===e&&n.reportPinterestConversion(e,i.event,i.data)}}}i(n,"queuedGoogleConversions",[]),i(n,"queuedFacebookConversions",[]),i(n,"queuedPinterestConversions",[]);let a=n},798580:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(624797);let n=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,a=(e,t)=>t?e.substring(t.length).split("/")[0]:e,o=({boardUrl:e,path:t,pinId:r,pinnerUserName:o,search:s,storyPinDataId:l})=>{if(!t)return"";let d="";switch(t){case"/":case"/homefeed/":return"UserHomefeedResource";case o&&`/${o}/pins/`:return"UserPinsResource";case o&&`/${o}/`:case/\/_activity\//.test(t)&&t:return"UserActivityPinsResource";case/\/_created\//.test(t)&&t:return l?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(t)&&t:return"UserDiscoveredPinsResource";case/\/_saved\//.test(t)&&t:return"BoardlessPinsResource";case o&&`/${o}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(t)&&t:return"VisualLiveSearchResource";case/\/pin\//.test(t)&&t:d="/pin/";let c=a(t,d);if(r!==c)return`RelatedPinFeedResource_${c}`;break;case/\/search\//.test(t)&&t:if(s){let e=(0,i.mB)(s,{shouldDecode:!1}).q||"";return`SearchResource_${e.toLowerCase()}`}break;case/\/categories\//.test(t)&&t:d="/categories/";let u=a(t,d);return`CategoryFeedResource_${u}`;case/\/discover\/topics\//.test(t)&&t:return"CategoryFeedResource";case/\/news_hub\//.test(t)&&t:d="/news_hub/";let h=a(t,d);return`NewsHubDetailsResource_${h}`;case/\/_tools\/more-ideas\//.test(t)&&t:return"BoardContentRecommendationResource";case/\/topics\//.test(t)&&t:d="/topics/";let p=a(t,d);return`TopicFeedResource_${p}`;case/\/source\//.test(t)&&t:d="/source/";let _=a(t,d);return`DomainFeedResource_${_}`;case/\/explore\//.test(t)&&t:d="/explore/";let m=a(t,d);return`SearchResource_${m}`;case e:case!!e&&/\/more_ideas\//.test(t)&&t:return"BoardFeedResource";case e&&t.indexOf(e)>-1&&t:return"BoardSectionPinsResource";case/\/brand_catalog\//.test(t)&&t:return"BrandCatalogFeedResource";case n.test(t)&&t:let g=t.match(n)?.[2]||"unknown";return`TodayArticleFeedResource_${g}`;case/\/today\//.test(t):return"TodayTabResource";case/\story_feed\//.test(t)&&t:if(s){let{feed_type:e,request_params:t}=(0,i.mB)(s);return`StoryFeedResource_${e}_${t}`}}return""},s=e=>{let t=e?.pathname;return t?(t.match(/\/search\//)&&e?.search&&(t+=e.search),t.toLowerCase()):""},l=({boardUrl:e,location:t,pinId:r,pinnerUserName:i,previousHistory:n,storyPinDataId:a,trackingParams:l,trackingParamsMap:d={}})=>{let c,u;if(!r||!l||!t)return;if(!d)return`${l??""}~0`;let{pathname:h,search:p}=t,_=o({boardUrl:e,path:h,pinId:r,pinnerUserName:i,search:p,storyPinDataId:a,trackingParams:l,trackingParamsMap:d}),m=Object.keys(d),g=(h||"").startsWith("/pin/");if(g){let e=m.find(e=>"PinResource"!==e);c=e?d[e]:d.PinResource}else c=d[_];if(!c&&n&&n.length){let t=s(n[n.length-1].location);u=o({boardUrl:e,path:t,pinId:r,pinnerUserName:i,search:p,storyPinDataId:a,trackingParams:l,trackingParamsMap:d}),c=d[u]}return c||(c=`${l||""}~0`),c}},859721:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(616550),n=r(798580),a=r(19447);function o(){let e=(0,a.S6)(),t=(0,i.TH)();return(r,i)=>{let a;let o=e(r);if(i?.shouldTrackForPrevLocation){let e=o?.tracking_params_map||{},t=Object.keys(e),r=t.find(e=>"PinResource"!==e);o&&(a=r?e[r]:e.PinResource)}else o&&(a=(0,n.Z)({boardUrl:o.board?.url,location:t,pinId:o.id,pinnerUserName:o.pinner?.username,storyPinDataId:o.story_pin_data_id,trackingParams:o.tracking_params,trackingParamsMap:o.tracking_params_map}));return a}}},259866:(e,t,r)=>{"use strict";function i(e){return function e(t,r){let i;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let n=r.find(e=>e.value===t);if(n)return n.result;let a=Object.prototype.toString.call(t);switch(a){case"[object Array]":i=Array(t.length);break;case"[object Set]":i=new Set;break;case"[object Object]":case"[object Arguments]":i={};break;case"[object Map]":i=new Map;break;default:return t}let o=[...r,{value:t,result:i}];switch(a){case"[object Array]":t.forEach((t,r)=>{i[r]=e(t,o)});break;case"[object Set]":t.forEach(t=>{i.add(e(t,o))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,r])=>{i[t]=e(r,o)});break;case"[object Map]":t.forEach((t,r)=>{i.set(r,e(t,o))})}return i}(e,[])}r.d(t,{Z:()=>i})},717203:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p,w:()=>_});var i=r(339001);let n=e=>e._('{{ first }}', 'Generic message that lists 1 item', 'Generic message that lists 1 item (ex: Stevie)'),a=e=>e._('{{ first }} and {{ second }}', 'Generic message that lists 2 items', 'Generic message that lists 2 items (ex: Stevie and Michael)'),o=e=>e._('{{ first }}, {{ second }} and {{ third }}', 'Generic message that lists 3 items', 'Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)'),s=e=>e._('{{ first }}, {{ second }}, {{ third }} and {{ fourth }}', 'Generic message that lists 4 items', 'Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)'),l=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}', 'Generic message that lists 5 items', 'Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)'),d=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}', 'Generic message that lists 6 items', 'Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)'),c=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}', 'Generic message that lists 7 items', 'Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)'),u=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others', 'Generic message that lists more than 6 items', 'Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)'),h=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others', 'Generic message that lists more than 7 items', 'Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)');function p(e,t){let r={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,i.nk)(n(t),r);case 2:return(0,i.nk)(a(t),r);case 3:return(0,i.nk)(o(t),r);case 4:return(0,i.nk)(s(t),r);case 5:return(0,i.nk)(l(t),r);case 6:return(0,i.nk)(d(t),r);default:return(0,i.nk)(u(t),r)}}function _(e,t){let r={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,i.nk)(n(t),r);case 2:return(0,i.nk)(a(t),r);case 3:return(0,i.nk)(o(t),r);case 4:return(0,i.nk)(s(t),r);case 5:return(0,i.nk)(l(t),r);case 6:return(0,i.nk)(d(t),r);case 7:return(0,i.nk)(c(t),r);default:return(0,i.nk)(h(t),r)}}},549629:(e,t,r)=>{"use strict";r.d(t,{Q:()=>l,Z:()=>d});var i=r(667294),n=r(587703),a=r(525364),o=r(996523),s=r(5859);function l(e,t){let{setViewContextData:r}=(0,a.sV)(),{requestIdentifier:l}=(0,s.B)(),d=(0,n.Z)(),{viewData:c}=(0,a.SU)();(0,i.useEffect)(()=>{e&&(r({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,o.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:l}))},[t])}function d(e){let{children:t,log:r}=e;return l(r),t||null}},214877:(e,t,r)=>{"use strict";r.d(t,{B:()=>l,v:()=>s});var i=r(525364),n=r(342513),a=r(785893);let{Provider:o,useHook:s}=(0,n.Z)("ContextLogger");function l({children:e,value:t}){let{setViewContextData:r}=(0,i.sV)();return t.injectSetViewContextDataFromHook=r,(0,a.jsx)(o,{value:t,children:e})}},587703:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(214877);let n=()=>(0,i.v)().logContextEvent},287434:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=()=>1e6*Date.now()},696534:(e,t,r)=>{"use strict";r.d(t,{F6:()=>u,Hs:()=>c,Yc:()=>l,vs:()=>d});var i=r(667294),n=r(191313),a=r(217058);let o="theme",s="dark"===(0,n.qn)(o),l=()=>s;function d(){let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(l())},[t]),e}let c=()=>{(0,n.Nh)(o,"dark"),(0,a.My)("mweb.dark_mode.enable"),window.location.reload()},u=()=>{(0,n.L_)(o),(0,a.My)("mweb.dark_mode.disable"),window.location.reload()}},105737:(e,t,r)=>{"use strict";function i(e,t,r){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1)if(!a(e[i],t[i],r+1))return!1;return!0}function n(e,t,r){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(!(i in t)||!a(e[i],t[i],r+1))return!1;return!0}function a(e,t,r){if(r>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let a=Object.prototype.toString.call(e),o=Object.prototype.toString.call(t);if(a!==o)return!1;switch(a){case"[object Array]":return i(e,t,r);case"[object Set]":return i(Array.from(e).sort(),Array.from(t).sort(),r);case"[object Object]":case"[object Arguments]":return n(e,t,r);case"[object Map]":return n(Object.fromEntries(e),Object.fromEntries(t),r);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function o(e,t){return a(e,t,0)}r.d(t,{ZP:()=>o,qP:()=>i})},541841:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(667294),n=r(973935);function a(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o extends i.Component{constructor(...e){super(...e),a(this,"observer",null),a(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){let e=n.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}let s=o},847160:(e,t,r)=>{"use strict";r.d(t,{Bx:()=>n,N4:()=>o,is:()=>s,lt:()=>i,oM:()=>a});let i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),n=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),a=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),o=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),s=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},877457:(e,t,r)=>{"use strict";r.d(t,{g:()=>o,t:()=>a});var i=r(667294);let n=(0,i.createContext)(null),a=n.Provider,o=()=>(0,i.useContext)(n)},515278:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(847160),n=r(140017),a=r(166770);let o=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:r}=(0,a.H)(),o=(0,n.ZP)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),r?.setText(t?.loginModalHeader||i.lt(o))}}},776569:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(667294),n=r(883119),a=r(693323),o=r(55202),s=r(983983),l=r(785893);function d(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class c extends i.Component{constructor(...e){super(...e),d(this,"state",{visible:!1}),d(this,"setRef",e=>{this.element||(this.element=e,e?.addEventListener("dragover",this.handleDragOver),e?.addEventListener("dragleave",this.handleDragLeave))}),d(this,"handleDragOver",()=>{let{placement:e}=this.props;if(!this.scrollAnimationManager){let t="top"===e?-1:1;this.scrollAnimationManager=(0,a.Z)({window,duration:1/0,run:(e,r,i)=>{window.scrollTo(0,window.scrollY+(r<500?.8:1.2000000000000002)*t*i)}}),this.scrollAnimationManager.start()}}),d(this,"handleDragLeave",()=>{this.scrollAnimationManager&&this.scrollAnimationManager.cancel()}),d(this,"element",null),d(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout(()=>this.setState({visible:!0}),500)}componentWillUnmount(){let e=this.element;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),this.scrollAnimationManager&&this.scrollAnimationManager.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){let{height:e,placement:t}=this.props,{visible:r}=this.state;return(0,l.jsx)(n.xu,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:r?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:(0,l.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function u({noStickyHeader:e}){let t=e?0:s.hu;return(0,l.jsx)(o.Z,{children:(0,l.jsx)(n.mh,{children:(0,l.jsxs)(n.xu,{children:[(0,l.jsx)(c,{height:120+t,placement:"top"}),(0,l.jsx)(c,{height:120,placement:"bottom"})]})})})}},718545:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d,y:()=>s});var i=r(667294),n=r(60598),a=r(14890),o=r(785893);let s={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"};class l extends i.Component{render(){let{children:e,connectDragSource:t,connectDropTarget:r,isDragging:i,isDraggingInternal:n,isDropTargetOnly:a}=this.props,s=r((0,o.jsx)("div",{ref:e=>this.targetEl=e,style:{opacity:i||n?0:1},children:e}));return a?s:t(s)}}let d=(0,a.compose)((0,n.GR)(e=>e.type,{hover:({index:e,onDragHover:t},r,i)=>{t(e,function(e,t){let r=t.targetEl;if(!(r&&r instanceof HTMLElement))return null;let{x:i,y:n}=e.getClientOffset(),{left:a,right:o,top:s,bottom:l,width:d,height:c}=r.getBoundingClientRect();return{positionRelativeToCenter:{x:i-(a+o)/2,y:n-(s+l)/2},boundingBox:{width:d,height:c}}}(r,i))}},e=>({connectDropTarget:e.dropTarget()})),(0,n.Ej)(e=>e.type,{beginDrag:({index:e,onDragBegin:t})=>(t(e),{index:e}),endDrag:({onDragEnd:e},t)=>e(t.didDrop())},(e,t)=>({connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()})))(l)},853703:(e,t,r)=>{"use strict";function i(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function n({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:r}){return Math.abs(e)<(r?.5*t:0)/2?"center":e<0?"left":"right"}function a({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:r}){if("center"===t||e===r)return e;let i="left"===t;return e<r===i?e:i?e-1:e+1}r.d(t,{Lz:()=>i,TI:()=>n,X3:()=>a})},187958:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(60598),n=r(395141);let a=(0,i.Z5)(n.ZP)},507584:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(60598),n=r(14890),a=r(187958);let o=e=>t=>(0,n.compose)(a.Z,(0,i.GR)(e,{},(e,t)=>({connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()})))(t)},103322:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(667294),n=r(701785),a=r(953565);function o(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class s extends i.Component{constructor(...e){super(...e),o(this,"state",{error:null,info:null}),o(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,r=this.props.type||"secondary";(0,n.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:r,message:e.message,name:e.name,stack:e.stack}),(0,a.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,a.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:r}=this.state;return t&&r?e?e({error:t,info:r,resetError:this.resetError}):null:this.props.children}}},510989:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(103322);let n=i.Z},401429:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i=r(667294),n=r(702664),a=r(587703),o=r(25919),s=r(216167);let l=(e,t,r,i)=>(n,a)=>l=>{if(n&&n.id){let d=s.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":d.callDelete().then(()=>{l((0,o.fO)()),r&&i&&r({event_type:i,object_id_str:n.id.toString()})});break;case"completed":d.callUpdate().then(()=>{a||l((0,o.fO)()),r&&i&&r({event_type:i,object_id_str:n.id.toString()})});break;case"viewed":d.callUpdate().then(()=>{r&&i&&r({event_type:i,object_id_str:n.id.toString()})})}}},d=e=>l("UserExperienceCompletedResource","completed",e,6567),c=l("UserExperienceResource","dismissed"),u=e=>l("UserExperienceViewedResource","viewed",e,4503);var h=r(785893);function p(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class _ extends i.Component{constructor(...e){super(...e),p(this,"state",{hasCompleted:[],hasDismissed:[]}),p(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:r,viewExperience:i,viewExperienceObject:n}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",n(e)):r?i(e.placement_id,e.experience_id,r):i(e.placement_id,e.experience_id))}),p(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:r,experience:i,isBackendExperience:n,preventRemoval:a,targeting:o}=this.props,s=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){let{placement_id:e,experience_id:l}=i||{},d=a||2===s;(1===s||d)&&e&&l&&(n?r(i,d):o?t(e,l,d,o):t(e,l,d),this.setState(e=>({hasCompleted:[...e.hasCompleted,l]})))}}),p(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:r,isBackendExperience:i,preventRemoval:n,targeting:a}=this.props,{placement_id:o,experience_id:s}=r||{};r&&!this.state.hasDismissed.includes(s)&&(i?t(r):a?e(o,s,!!n,a):e(o,s,!!n),this.setState(e=>({hasDismissed:[...e.hasDismissed,s]})))}),p(this,"isEligibleExperience",()=>{let{experience:e}=this.props;if(!e)return!1;let{eligibleIds:t,eligibleTypes:r,predicate:i,transitionType:n}=this.props,{experience_id:a,type:o}=e;return t&&t.length?t.includes(a):r&&r.length?r.includes(o):i?i(e):!n||n===o})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,r=this.props.experience;r&&this.isEligibleExperience()&&(t&&t.experience_id===r.experience_id||this.view())}render(){let{children:e,experience:t,disableAutoView:r}=this.props;return t&&this.isEligibleExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...r?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}function m(e){let t=(0,n.useSelector)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),r=(0,n.useDispatch)(),i=(0,o.be)(),s=(0,o.Am)(),l=(0,o.Ig)(),p=(0,a.Z)();return(0,h.jsx)(_,{...e,completeExperience:(e,t,n,a)=>r(i(e,t,n,!1,{},a)),completeExperienceObject:(e,t)=>r(d(p)(e,t)),dismissExperience:(e,t,i,n)=>r(s(e,t,i,void 0,n)),dismissExperienceObject:e=>r(c(e)),experience:t,viewExperience:(e,t,i)=>r(l(e,t,!1,!1,void 0,i)),viewExperienceObject:e=>r(u(p)(e))})}p(_,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},179370:(e,t,r)=>{"use strict";r.d(t,{F:()=>h,M:()=>u});var i=r(667294),n=r(702664),a=r(14890),o=r(342513),s=r(25919),l=r(957753),d=r(785893);let{Provider:c,useHook:u}=(0,o.Z)("ExperienceContext");function h({children:e}){let[t,r]=(0,i.useReducer)((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,mountedPlacements:{...e.mountedPlacements,[t.payload]:!0}};if("UNMOUNT_PLACEMENT"===t.type){let r={...e};return delete r.mountedPlacements[t.payload],delete r.registerdAfterActionPlacements[t.payload],r}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?{...e,registerdAfterActionPlacements:{...e.registerdAfterActionPlacements,[t.payload]:!0}}:e},{mountedPlacements:{},registerdAfterActionPlacements:{}}),{mountedPlacements:o,registerdAfterActionPlacements:u}=t,h=(0,n.useDispatch)(),p=(0,n.useSelector)(e=>e.experiences),_=(0,s.be)(),m=(0,s.Am)(),g=(0,s.Ig)(),f=(0,i.useMemo)(()=>{let e=(0,a.bindActionCreators)({completeExperience:_,dismissExperience:m,fetchAllExperiences:s.fO,fetchAllExperiencesMulti:l.NW,fetchExperienceForPlacements:s.pz,mountPlacement:s.N,triggerExperimentsForPlacement:s.kd,viewExperience:g},h);return{...e,mountPlacement:(t,...i)=>{e.mountPlacement(t,...i),r({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{r({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:e=>{r({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}}},[_,m,h,r,g]),b=(0,i.useMemo)(()=>({experiences:p,mountedPlacements:o,registerdAfterActionPlacements:u,...f}),[p,o,u,f]);return(0,d.jsx)(c,{value:b,children:e})}},619370:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var i=r(667294),n=r(883119),a=r(401429),o=r(785893);function s(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l extends i.PureComponent{constructor(...e){super(...e),s(this,"onScroll",()=>{let{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),s(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){let{anchor:e,text:t,thumbnails:r,idealDirection:i}=this.props,a=r.slice(-3);return(0,o.jsx)(n.J2,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,o.jsxs)(n.xu,{alignContent:"center",display:"flex",justifyContent:"between",padding:3,width:"100%",children:[(0,o.jsx)(n.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,o.jsx)(n.xv,{color:"default",weight:"bold",children:t})}),(0,o.jsx)(n.xu,{display:"flex",marginEnd:-2,paddingX:2,children:a.map(e=>(0,o.jsx)(n.xu,{height:60,paddingX:1,width:50,children:(0,o.jsx)(n.zd,{height:60,rounding:2,children:(0,o.jsx)(n.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}var d=r(76561);function c(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends i.Component{constructor(...e){super(...e),c(this,"dismissRef",(0,i.createRef)()),c(this,"state",{paused:!1}),c(this,"dismissCb",()=>{this.dismissRef.current?.()}),c(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){let{anchor:e}=this.props;clearTimeout(this.timer),e?.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){e.has_pulsar=null==e.has_pulsar||e.has_pulsar,e.has_tooltip=null==e.has_tooltip||e.has_tooltip}getText(e,t,r){return(t&&e.text.replace("{boardName}",t),r)?r(e):e.text}render(){let{anchor:e,customWrapper:t,experienceIds:r,boardTextOverride:s,flyoutSize:c,fontSize:u,hasFullWidthButton:h=!0,idealDirection:p,useMasonryFlyout:_,noClickToDismiss:m,onClickComplete:g,onClickDismiss:f,placementId:b,positionRelativeToAnchor:y,shouldSeeReturnToHomeFeedTooltipEdu:v=!1,shouldTimeoutDismiss:x,showCaret:w,textAlign:P,textOverflow:S,textOverrideFn:C,textWeight:A,customizedComplete:E,pulsarZIndex:j,advertiserId:T,dismissButtonLocation:I,dismissButtonColor:k,dismissButtonMarginTop:D}=this.props,R=t||(({children:e})=>_?(0,o.jsx)(n.mh,{children:e}):e);return(0,o.jsx)(a.Z,{eligibleIds:r,eligibleTypes:[8],placementId:b,targeting:T?{advertiserId:parseInt(T,10)}:null,children:({complete:t,dismiss:r,experience:a})=>{let{display_data:{scroll_to_dismiss:b,scroll_to_dismiss_delay_in_seconds:T=0,...z}}=a,O=b&&e,B=()=>{Z(),this.timer||(this.timer=setTimeout(r,1e3*T))},Z=()=>{O&&(window.removeEventListener("scroll",B),window.removeEventListener("touchmove",B))},L=()=>{Z(),t()};if(O&&(window.addEventListener("scroll",B),window.addEventListener("touchmove",B)),this.setDefaultPulsarTooltip(z),!z.has_pulsar&&!z.has_tooltip)return L(),null;x&&z.disappearTime&&z.disappearTime>0&&(this.timer=setTimeout(()=>(B(),null),z.disappearTime));let M=501041===a.experience_id||505086===a.experience_id;return z.has_tooltip&&!z.has_pulsar&&(this.dismissRef.current=B,e?.addEventListener("click",this.dismissCb)),(0,o.jsxs)(i.Fragment,{children:[z.has_pulsar&&(0,o.jsx)(d.Z,{anchor:e,leftOverride:M?342:void 0,onTouch:()=>this.handlePulsarClick(z.has_tooltip,L),paused:this.state.paused,topOverride:M?-5:void 0,zIndex:j&&j.index()}),z.has_tooltip&&(!z.has_pulsar||this.state.paused)&&(z.thumbnail_urls?(0,o.jsx)(l,{anchor:e,dismiss:B,idealDirection:p||"down",text:z.text,thumbnails:z.thumbnail_urls}):(0,o.jsx)(R,{children:(0,o.jsx)(n.J2,{_deprecatedShowCaret:w,anchor:e,color:"deprecatedBlue",idealDirection:p||"down",onDismiss:m?()=>{}:B,positionRelativeToAnchor:!_&&y,shouldFocus:!1,size:c,children:(0,o.jsxs)(n.xu,{column:12,paddingX:v?5:3,paddingY:3,children:[(0,o.jsxs)(n.xv,{align:"right"===P?"end":P,color:"inverse",overflow:S,size:u,weight:A||"bold",children:[this.getText(z,s,C),z.secondary_cta_link&&(0,o.jsx)(n.xu,{display:"inlineBlock",marginStart:1,children:(0,o.jsx)(n.xv,{color:"inverse",size:u,weight:"bold",children:(0,o.jsx)(n.rU,{display:"inlineBlock",href:z.secondary_cta_link.url,target:"blank",underline:"hover",children:z.secondary_cta_link.text})})})]}),z.sub_text&&(0,o.jsx)(n.xu,{paddingY:2,children:(0,o.jsx)(n.xv,{color:"inverse",size:u,children:z.sub_text})}),(z.dismiss_button_text||z.complete_button_text)&&(0,o.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:I||"start",marginTop:D||2,children:[z.dismiss_button_text&&(0,o.jsx)(n.xu,{column:6,marginEnd:1,children:(0,o.jsx)(n.zx,{color:k||"blue",fullWidth:h,onClick:()=>{f&&f(),B()},size:"md",text:z.dismiss_button_text})}),z.complete_button_text&&(0,o.jsx)(n.xu,{column:z.dismiss_button_text?6:12,children:E?(0,o.jsx)(n.iP,{fullHeight:!0,onTap:()=>{L(),g&&g()},rounding:2,children:(0,o.jsx)(n.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"10px"}},display:"flex",justifyContent:"center",padding:2,rounding:2,children:(0,o.jsx)(n.xv,{color:"shopping",weight:"bold",children:z.complete_button_text})})}):(0,o.jsxs)(n.kC,{justifyContent:"center",children:[z.complete_button_cta_url&&(0,o.jsx)(n.ZP,{color:"white",fullWidth:h,href:z.complete_button_cta_url,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),L(),g&&g()},size:"md",target:z.complete_button_cta_url?"blank":null,text:z.complete_button_text}),!z.complete_button_cta_url&&(0,o.jsx)(n.zx,{color:"white",fullWidth:h,onClick:()=>{L(),g&&g()},size:"md",text:z.complete_button_text})]})})]})]})})}))]})}})}}c(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},71024:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(401429),n=r(547130),a=r(785893);let o=({anchors:e,idealDirection:t,onCompleteByAnchor:r,placementId:o,positionRelativeToAnchor:s,touchToDismiss:l,useMasonryFlyout:d})=>(0,a.jsx)(i.Z,{placementId:o,predicate:t=>{let{display_data:r}=t;if(r?.component_type===2){let{anchors_by_platform:t}=r;if(t?.web){let{anchor:r,placement:i}=t.web;return i===o&&r in e}}return!1},children:({complete:i,dismiss:o,experience:c})=>(0,a.jsx)(n.Z,{anchors:e,complete:i,dismiss:o,displayData:c.display_data,idealDirection:t,onCompleteByAnchor:r,platform:"web",positionRelativeToAnchor:s,touchToDismiss:l,useMasonryFlyout:d})})},25919:(e,t,r)=>{"use strict";let i;r.d(t,{Am:()=>f,Ig:()=>m,N:()=>x,Sd:()=>b,YX:()=>v,be:()=>g,fO:()=>h,kd:()=>y,pz:()=>p});var n=r(667294),a=r(216167),o=r(587703),s=r(703404),l=r(957753),d=r(107366),c=r(953565);let u=(e,t,r={})=>(0,c.nP)(`${e}.${t}`,{sampleRate:1,tags:r}),h=(e,t)=>r=>{let i=t?{extra_context:e,targeting:t}:{extra_context:e};return a.Z.create("UserExperiencePlatformResource",i).callGet().then(e=>e.resource_response?r((0,l.OD)(e.resource_response.data)):void 0)},p=(e,t,r,n)=>(o,d)=>{if(t)return Promise.resolve();if(n&&(i=n),1===e.length){let t=e[0],i=d().experiences,n=i[t],a=n?.extraContext||null;if(JSON.stringify(a)===JSON.stringify(r)||(0,s.E3)(n)&&!(r&&Object.keys(r).length>0))return Promise.resolve()}return a.Z.create("UserExperienceResource",{placement_ids:e,extra_context:r||null,targeting:n}).callGet().then(e=>e.resource_response?o((0,l.cL)(e.resource_response.data)):void 0)},_=(e,t,r,n)=>(o,s,d,c=!1,u,p)=>(_,m)=>{let{experiences:g,experiencesMulti:f}=m(),b=null,y=!0;if(c||(b=(y=g[o]&&g[o].experience_id===s)?g[o]:Array.isArray(f[o])&&f[o]?.find(e=>e.experience_id===s)),b&&b.experience_id===s||c&&o&&s){let c=a.Z.create(e,{placed_experience_id:`${o}%3A${s}`,extra_context:u??{},targeting:p}),m=y?l.Yb:l.xW;switch(t){case"dismissed":return c.callDelete().then(()=>{_(m(o,s,t)),_(h(void 0,i)),r&&n&&r({event_type:n,object_id_str:s.toString()})});case"completed":return c.callUpdate().then(()=>{!d&&(_(m(o,s,t)),_(h(void 0,i)),r&&n&&r({event_type:n,object_id_str:s.toString()}))});case"viewed":return _(m(o,s,t)),c.callUpdate().then(()=>{1000162===o&&_(h()),r&&n&&r({event_type:n,object_id_str:s.toString()})});case"completedWithoutHomefeed":return c.callUpdate().then(()=>{d||_(m(o,s,t)),r&&n&&r({event_type:n,object_id_str:s.toString()})})}}return Promise.resolve()},m=()=>{let e=(0,o.Z)(),t=(0,n.useCallback)(_("UserExperienceViewedResource","viewed",e,4503),[e]);return t},g=()=>{let e=(0,o.Z)(),t=(0,n.useCallback)(_("UserExperienceCompletedResource","completed",e,6567),[e]);return t},f=()=>{let e=(0,o.Z)(),t=(0,n.useCallback)(_("UserExperienceResource","dismissed",e,6568),[e]);return t},b=()=>{let e=(0,o.Z)(),t=(0,n.useCallback)(_("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e]);return t},y=(e,t)=>(r,i)=>{let{experiences:n}=i(),a=n[e];a&&a.triggerable_placed_exps&&a.triggerable_placed_exps.length&&a.triggerable_placed_exps.forEach(r=>{let[,i]=r.split(":"),n=t;a.metadata&&a.metadata[i]&&(n={...t,...a.metadata[i]}),(0,d.Z)({url:`/v3/experiences/${r.replace(":","%3A")}/trigger/`,method:"PUT",data:n?{extra_context:JSON.stringify(n,null,1)}:{}}).then(()=>{u("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})})})},v=e=>(t,r)=>{t(y(e));let{experiences:i}=r();return i[e]},x=(e,t,r)=>n=>{r&&(i=r),n(y(e,t)),t&&Object.keys(t).length>0&&n(p([e],!1,t,r))}},703404:(e,t,r)=>{"use strict";r.d(t,{A0:()=>l,E3:()=>o,MQ:()=>s,fL:()=>d});var i=r(883119),n=r(862249),a=r(785893);function o(e){return!!e&&0!==e.type}let s=(e,t,r)=>{let i=e[r];return t[r]&&o(i)?i:null};function l(e){return e.display_data?.anchor}let d=e=>{let t=new DOMParser,r=t.parseFromString(e,"text/html"),o=[...r.body?.childNodes||[]].map(e=>{if("A"!==e.nodeName)return(0,a.jsx)(i.xv,{inline:!0,children:e.textContent});{let t=e.href||"",r=(0,n.Z)({url:t});return(0,a.jsx)(i.rU,{display:"inline",externalLinkIcon:r?"default":"none",href:t,rel:r?"nofollow":"none",target:"blank",children:e.textContent})}});return(0,a.jsx)(i.xv,{inline:!0,children:o})}},26616:(e,t,r)=>{"use strict";r.d(t,{$S:()=>i,V$:()=>n,_4:()=>o,iY:()=>s,mR:()=>a});let i="REFRESH_ALL_EXPERIENCES_MULTI",n="UPDATE_EXPERIENCE_MULTI",a="FETCH_EXPERIENCES",o="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE"},957753:(e,t,r)=>{"use strict";r.d(t,{NW:()=>s,OD:()=>d,Yb:()=>l,cL:()=>c,xW:()=>o});var i=r(216167),n=r(26616);let a=e=>({type:n.$S,payload:{experiencesMulti:e}}),o=(e,t,r)=>({type:n.V$,payload:{placementId:e,experienceId:t,status:r}}),s=e=>t=>i.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t(a(e.resource_response.data)):void 0),l=(e,t,r)=>({type:n.iY,payload:{placementId:e,experienceId:t,status:r}}),d=e=>({type:n._4,payload:{experiences:e}}),c=e=>({type:n.mR,payload:{experiences:e}})},76561:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(883119),n=r(667294),a=r(785893);let o=(e,t,r,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(r/2-e/2)});function s({anchor:e,children:t,zIndex:r,leftOverride:s,topOverride:l}){let d=(0,n.useRef)(null),[c,u]=(0,n.useState)(0),[h,p]=(0,n.useState)(0),{height:_,width:m}=e.getBoundingClientRect();return(0,n.useEffect)(()=>{let{current:t}=d;if(e&&t){let{height:e,width:r}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:n}=o(_,m,e,r);u(i),p(n)}}),(0,a.jsx)(i.xu,{ref:d,dangerouslySetInlineStyle:{__style:{left:s||c,top:l||h}},"data-test-id":"center-box",position:"absolute",zIndex:r?new i.Ry(r):void 0,children:t})}let l=function(e){let{anchor:t,leftOverride:r,onTouch:n,onMouseEnter:o,paused:l,size:d,topOverride:c,zIndex:u}=e;return t?(0,a.jsx)(s,{anchor:t,leftOverride:r,topOverride:c,zIndex:u,children:(0,a.jsx)(i.iP,{fullWidth:!1,onMouseEnter:o,onTap:({event:e})=>n(e),rounding:"circle",children:(0,a.jsx)(i.o3,{paused:l,size:d})})}):null}},547130:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(667294),n=r(883119),a=r(76561),o=r(785893);let s=new n.Ry(669),l={1:"up",2:"right",3:"down",4:"left"},d=({anchors:e={},complete:t,dismiss:r,displayData:d,idealDirection:c,onCompleteByAnchor:u={},platform:h,positionRelativeToAnchor:p=!0,touchToDismiss:_=!0,useMasonryFlyout:m=!1})=>{let{anchors_by_platform:g={},button_text:f,button_uri:b,display_type:y,flyout_direction:v,scroll_to_dismiss:x,scroll_to_dismiss_delay_in_seconds:w=0,text:P}=d||{},S=g[h]?.anchor,C=e[S],A=(0,i.useCallback)(()=>{x&&(window.removeEventListener("scroll",A),window.removeEventListener("touchmove",A)),_&&C&&C.removeEventListener("click",A),setTimeout(()=>r(),1e3*w)},[C]);if((0,i.useEffect)(()=>{C&&(x&&(window.addEventListener("scroll",A),window.addEventListener("touchmove",A)),_&&C.addEventListener("click",A))},[C]),!C)return null;let E=({children:e})=>{if(m)return(0,o.jsx)(n.mh,{zIndex:s,children:e});if(2!==y)return(0,o.jsx)(n.xu,{zIndex:s,children:e});{let t={};if(p)t.top=C.offsetTop,t.left=C.offsetLeft,t.width=C.offsetWidth,t.height=C.offsetHeight;else{let e=C.getBoundingClientRect();t.top=e.top+window.pageYOffset,t.left=e.left+window.pageXOffset,t.width=e.width,t.height=e.height}return(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:t},left:!0,position:"absolute",top:!0,zIndex:s,children:e})}},j=l[v],T=b&&(b.startsWith("https://")||b.startsWith("http://")),I=(u||{})[S],k=()=>{x&&(window.removeEventListener("scroll",A),window.removeEventListener("touchmove",A)),_&&C.removeEventListener("click",A),t()};return(0,o.jsxs)(i.Fragment,{children:[2===y&&(0,o.jsx)(E,{children:(0,o.jsx)(a.Z,{anchor:C,onTouch:()=>{k(),I?I():C instanceof HTMLElement&&C.click()},zIndex:670})}),1===y&&(0,o.jsx)(E,{children:(0,o.jsx)(n.J2,{_deprecatedShowCaret:!0,anchor:C,color:"deprecatedBlue",idealDirection:j||c||"down",onDismiss:A,positionRelativeToAnchor:!m&&p,shouldFocus:!1,size:"md",children:(0,o.jsxs)(n.xu,{padding:4,width:"220px",children:[(0,o.jsx)(n.xv,{align:"center",color:"inverse",weight:"bold",children:P}),f?(0,o.jsx)(n.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,o.jsx)(n.xu,{column:8,children:b?(0,o.jsx)(n.ZP,{color:"white",fullWidth:!0,href:b,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),k()},size:"md",target:T?"blank":null,text:f}):(0,o.jsx)(n.zx,{color:"white",fullWidth:!0,onClick:k,size:"md",text:f})})}):null]})})})]})}},190971:(e,t,r)=>{"use strict";r.d(t,{c:()=>h});var i=r(667294),n=r(616550),a=r(179370),o=r(96157),s=r(624797),l=r(554786);let d=(e,t)=>((0,o.XU)(e)&&e.state?.from&&(e=e.state.from),(0,o.HV)(e))?t?1000503:1000558:(0,o.En)(e)?t?1000506:1000559:(0,o.L6)(e)?t?1000141:1000494:void 0,c=(e,t)=>{if(t&&(0,o.L6)(e))return 1000564},u=(e,t)=>{if(t){if((0,o.HV)(e))return 1000541;if((0,o.En)(e))return 1000542;if((0,o.L6)(e))return 1000140}else if((0,o.HV)(e))return 1000544;else if((0,o.En)(e))return 1000543;else if((0,o.L6)(e))return 1000540},h=()=>{let{mountPlacement:e,registerdAfterActionPlacements:t}=(0,a.M)(),r=(0,l.HG)(),h=(0,n.TH)(),p=(0,i.useCallback)((i,n,a)=>{let l;switch(i){case"Save":l=d(h,r);break;case"Download":(0,o.L6)(h)&&(l=r?1000499:1000500);break;case"Clickthrough":l=u(h,r);break;case"NoAction":l=c(h,r)}null!=l&&((0,o.En)(h)&&(n={...n,search_query:(0,s.mB)(h.search)}),null!=l&&(t[l]||(0,o.XU)(h))&&e(l,n,a))},[t,e,h,r]);return p}},321329:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(667294),n=r(179370),a=r(703404),o=r(5859);function s(e){let{mountedPlacements:t,completeExperience:r,dismissExperience:s,experiences:l,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:h,viewExperience:p}=(0,n.M)(),{isBot:_}=(0,o.B)(),m=e&&!_?(0,a.MQ)(l,t,e):null;return(0,i.useMemo)(()=>({completeExperience:r,dismissExperience:s,experienceForPlacement:m,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:h,viewExperience:p}),[r,s,m,d,c,u,h,p])}},970521:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var i=r(667294),n=r(702664),a=r(105737),o=r(25919),s=r(179370),l=r(703404),d=r(5859),c=r(785893);function u(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let h={dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1},p=(e,t={},r)=>p=>{r={...h,...r};let _=function(e,t,r=!0,h=!1,p){class _ extends i.Component{constructor(e){super(e),u(this,"state",{extraContext:void 0}),u(this,"setExtraContextState",e=>{(0,a.ZP)(this.state.extraContext,e)||this.setState({extraContext:e})})}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(r,i){let{dispatch:n,experience:s,requestContext:l}=this.props,d=i.extraContext,c=this.state.extraContext||t||{};"function"==typeof t&&(d=t(r,i.extraContext||{}),c=t(this.props,this.state.extraContext||{})),c&&Object.keys(c).length>0&&!(0,a.ZP)(d,c)&&n((0,o.pz)([e],l.isBot,c)),s&&(!r.experience||s.id!==r.experience.id)&&n((0,o.kd)(e,c))}componentWillUnmount(){this.props.unmountPlacement(e)}dispatchPlacementMount(){let r="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},i=h&&r?.advertiser_id?{advertiserId:r.advertiser_id}:void 0;this.props.mountPlacement(e,r,i)}render(){let{experience:e,experiencesMulti:t}=this.props,r=h?"advertiserExperience":"experience",i={[r]:(0,l.E3)(e)?e:null};return(0,c.jsx)(p,{...this.props,setPlacementExtraContext:this.setExtraContextState,...i,experiencesMulti:t})}}function m(e){let t=(0,d.B)(),r=(0,n.useDispatch)(),{mountPlacement:i,unmountPlacement:a}=(0,s.M)();return(0,c.jsx)(_,{...e,dispatch:r,mountPlacement:i,requestContext:t,unmountPlacement:a})}return m.displayName=`withPlacement(${p.displayName||p.name||"Component"})`,m}(e,t,r.dispatchMountActionDuringSSR,r.isAdvertiserPlacement,p),m=t=>{let r=(0,n.useSelector)(t=>t.experiences[e]),i=(0,n.useSelector)(t=>t.experiencesMulti?t.experiencesMulti[e]:void 0);return(0,c.jsx)(_,{...t,experience:r,experiencesMulti:i})};return m.displayName=_.displayName,m}},775089:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var i=r(667294),n=r(883119),a=r(214877),o=r(103322);function s(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let l={};function d(e){let t=l[e];return t&&t.screenWidth===window.innerWidth||(l[e]={screenWidth:window.innerWidth}),l[e]}let c=e=>{let t=e.__id||e.id;return"string"==typeof t&&t||null};class u{constructor(){s(this,"idMap",new Map),s(this,"objMap",new WeakMap)}get(e){let t=c(e);return this.objMap.get(e)??(t?this.idMap.get(t):void 0)}has(e){let t=c(e);return this.objMap.has(e)??(!!t&&this.idMap.has(t))}set(e,t){let r=c(e);r&&this.idMap.set(r,t),this.objMap.set(e,t)}reset(){this.idMap=new Map,this.objMap=new WeakMap}}var h=r(213377),p=r(406893),_=r(340523),m=r(5859),g=r(554786),f=r(953565),b=r(785893);function y(e){let{cacheKey:t,experimentalTwoColItems:r,id:s,isGridCentered:l=!0,items:c,layout:y,loadItems:v,masonryRef:x,renderItem:w,scrollContainerRef:P,virtualize:S=!0}=e,C=(0,g.ZP)(),{isAuthenticated:A,isRTL:E}=(0,m.B)(),{logContextEvent:j}=(0,a.v)(),T=(0,_.F)(),I="desktop"===C,k=e.columnWidth??h.yF,D=e.gutterWidth??(I?h.oX:1),R=e.minCols??h.yc,z=e.serverRender??!!I,O="flexible"===y||"desktop"!==C,B=z?"serverRenderedFlexible":"flexible",Z=k+D,L=function(e){if(null==e)return;let t=d(e);return t.positionCache||(t.positionCache=new u),t.positionCache}(t),M=function(e){if(null==e)return;let t=d(e);return t.measurementCache||(t.measurementCache=new u),t.measurementCache}(t),N=(0,i.useCallback)(()=>P?.current||window,[P]),F=(0,i.useRef)(!0),U=c.map((e,t)=>e.columnSpan>1?{index:t,columnSpan:e.columnSpan}:null).filter(Boolean),H=l&&F.current?"gridCentered":"",{className:$,styles:V}=function(e){let t=`m_${Object.keys(e).reduce((t,r)=>{let i=e[r];return null==i||"object"==typeof i?t:"boolean"==typeof i?t+(i?"t":"f"):t+i},"").replace(/\:/g,"\\:")}`,{flexible:r,gutterWidth:i,isRTL:n,itemWidth:a,maxColumns:o,minColumns:s,multiColumnItems:l}=e,d=a+i,c=Array.from({length:o+1-s},(e,t)=>t+s),u=c.map(e=>{let c=e===s?0:e*d,u=e===o?null:(e+1)*d-1,{styles:h,numberOfVisibleItems:p}=l.reduce((r,n)=>{let o=Math.min(n.columnSpan,e),s=null!=n.index&&r.numberOfVisibleItems>=o+n.index,{numberOfVisibleItems:l}=r;return s?l-=o-1:n.index<l&&(l+=1),{styles:r.styles.concat(function({className:e,index:t,columnSpan:r,visible:i,width:n}){return`
      .${e} .static[data-column-span="${r}"]:nth-child(${t+1}) {
        visibility: ${i?"visible":"hidden"} !important;
        position: ${i?"inherit":"absolute"} !important;
        width: ${n}px !important;
      }`}({className:t,index:n.index,columnSpan:n.columnSpan,visible:s,width:a*o+i*(o-1)})),numberOfVisibleItems:l}},{styles:"",numberOfVisibleItems:e}),_=r?`
      .${t} .static {
        box-sizing: border-box;
        width: calc(100% / ${e}) !important;
      }
    `:`
      .${t} {
        max-width: ${e*d}px;
      }

      .${t} .static {
        width: ${a}px !important;
      }

      ${h}
    `;return`
      @media (min-width: ${c}px) ${u?`and (max-width: ${u}px)`:""} {
        .${t} .static:nth-child(-n+${p}) {
          position: static !important;
          visibility: visible !important;
          float: ${n?"right":"left"};
          display: block;
        }

        .${t} .static {
          padding: 0 ${i/2}px;
        }

        ${_}
      }
    `});return{className:t,styles:`
    .gridCentered {
      margin-left: auto;
      margin-right: auto;
    }

    .${t} .static {
      position: absolute !important;
      visibility: hidden !important;
    }

    ${u.join("")}
  `}}({gutterWidth:D,flexible:O,isRTL:E,itemWidth:k,maxColumns:e.maxColumns??(c.length||h.g5),minColumns:R,multiColumnItems:U}),G=`${H} ${$}`.trim(),{anyEnabled:W,group:K}=T.checkExperiment(A?"web_masonry_v2_auth":"web_masonry_v2_unauth");(0,i.useEffect)(()=>{F.current&&(F.current=!1)},[]);let q=e=>(0,b.jsx)(o.Z,{name:"MasonryGridItem",children:w(e)});return(0,b.jsxs)("div",{className:G,"data-test-id":"masonry-container",id:s,children:[z&&F.current?(0,b.jsx)(p.Z,{"data-test-id":"masonry-ssr-styles",unsafeCSS:V}):null,(0,b.jsx)(n.xu,{"data-test-id":"max-width-container",marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,maxWidth:e.maxColumns?Z*e.maxColumns:void 0,children:W?(0,b.jsx)(n.GX,{ref:e=>{x&&(x.current=e)},_logTwoColWhitespace:e=>{(0,f.S0)("webapp.masonry.twoColWhitespace",e,{sampleRate:1,tags:{columnWidth:k,minCols:R}}),j({event_type:14705,component:14468,aux_data:{whitespace_px:e}})},_measureAll:"enabled_measure_all"===K,_twoColItems:r,columnWidth:k,gutterWidth:D,items:c,layout:O?B:y??"basic",loadItems:v,measurementStore:M,minCols:R,positionStore:L,renderItem:q,scrollContainer:N,virtualBufferFactor:.3,virtualize:S}):(0,b.jsx)(n.Rk,{ref:e=>{x&&(x.current=e)},_logTwoColWhitespace:e=>{(0,f.S0)("webapp.masonry.twoColWhitespace",e,{sampleRate:1,tags:{columnWidth:k,minCols:R}}),j({event_type:14705,component:14468,aux_data:{whitespace_px:e}})},_twoColItems:r,columnWidth:k,gutterWidth:D,items:c,layout:O?B:y??"basic",loadItems:v,measurementStore:M,minCols:R,positionStore:L,renderItem:q,scrollContainer:N,virtualBufferFactor:.3,virtualize:S})})]})}},930837:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>d,b7:()=>o.b7,bN:()=>s,p4:()=>l});var i=r(240684),n=r(554786),a=r(785893),o=r(844683);let s=(0,i.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>r.e(51879).then(r.bind(r,980536)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return r(t)},resolve:()=>980536}),l=(0,i.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>r.e(72430).then(r.bind(r,119936)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return r(t)},resolve:()=>119936});function d(e){let t=(0,n.ZP)(),r=void 0===e.isOpen||e.isOpen;if("desktop"===t&&r){let{isOpen:t,mobileAccessibilityCloseIconLabel:r,mobileAllowScroll:i,mobileHideCloseIcon:n,mobileIsFullscreen:o,mobileIsSlideUp:l,type:d,mobileIsFooter:c,zIndex:u,...h}=e;return(0,a.jsx)(s,{...h})}let{allowMediaPlay:i,allowScroll:o,role:d,size:c,_dangerouslyDisableScrollBoundaryContainer:u,...h}=e;return(0,a.jsx)(l,{...h,isOpen:r})}},844683:(e,t,r)=>{"use strict";r.d(t,{JN:()=>d,Vf:()=>c,ZM:()=>s,b7:()=>o,i_:()=>l});var i=r(883119),n=r(696534),a=r(69979);let o=new i.Ry(1e3),s=new i.H3([a.Z]),l=12,d=({variant:e})=>({__style:"fullscreen"===e?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{border:(0,n.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,n.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"}}),c=({isFullscreen:e,isTablet:t,isShowing:r,isRelatedInterestsModal:i})=>{let a={border:(0,n.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},o=r?"translateY(0)":"translateY(100vh)";return a.height=e?"100vh":"",t&&i&&(a={...a,width:425,left:"50%",transform:"translateX(-50%)"},o=r?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...a,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:o}}}},454514:(e,t,r)=>{"use strict";r.d(t,{UZ:()=>d,Vg:()=>l,ZP:()=>c});var i=r(667294),n=r(883119),a=r(554786),o=r(494125),s=r(785893);let l=200,d=({deviceType:e,hiding:t,visible:r})=>{let i="desktop"===e,n=0,a=i?"translateY(200px)":"translateY(-200px)",o="opacity 0.1s ease-in-out",s="hidden";return r&&!t&&(n=1,a="translateY(0)",o="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",s="visible"),r&&t&&(a="scale(1.1)",o="opacity transform 0.2s"),{opacity:n,pointerEvents:"auto",position:"relative",marginTop:i?10:0,transform:a,transition:o,visibility:s}};function c({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:r,primaryAction:c,dismissButton:u,helperLink:h,thumbnail:p,type:_,dataTestId:m,duration:g=2e3,onHide:f,href:b,onClick:y,openNewPage:v,imageUrl:x}){let w;let P=(0,a.ZP)(),[S,C]=(0,i.useState)(!1),[A,E]=(0,i.useState)(!1),j=(0,i.useRef)(),T=()=>{C(!0),j.current=setTimeout(f,l)},I=()=>{j.current=setTimeout(T,g)},k=()=>{j.current&&clearTimeout(j.current)};(0,o.Z)(()=>(setTimeout(()=>E(!0),100),I(),k)),x&&(w={image:(0,s.jsx)(n.Ee,{alt:"string"==typeof r?r:`${r[0]} ${r[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:x})});let D=(0,s.jsx)(n.FN,{_dangerouslySetPrimaryAction:t,_dangerouslySetThumbnail:e,dismissButton:u,helperLink:h,primaryAction:c,text:r,thumbnail:w??p,type:_}),{marginTop:R,opacity:z,pointerEvents:O,position:B,transform:Z,transition:L,visibility:M}=d({deviceType:P,hiding:S,visible:A});return(0,s.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{transform:Z,transition:L,visibility:M,pointerEvents:O}},"data-test-id":m??"toast",display:"flex",marginTop:R,onMouseEnter:k,onMouseLeave:I,opacity:z,position:B,children:b?(0,s.jsx)(n.Tg,{href:b,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{b.startsWith("#")&&(e.preventDefault(),t()),y?.(e)},rounding:"pill",target:v?"blank":null,children:D}):D})}},205841:(e,t,r)=>{"use strict";r.d(t,{qE:()=>s,u_:()=>l.ZP});var i=r(883119),n=r(785893);let a=(e,t)=>{let r=e?.includes("images/user/default");return!!(r&&t)};function o({accessibilityLabel:e,name:t,outline:r,size:o,src:s,verified:l}){return(0,n.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:r,size:o,src:a(s,t)?void 0:s,verified:l})}o.displayName="Avatar";let s=o;var l=r(930837);r(454514)},288088:(e,t,r)=>{"use strict";r.d(t,{G:()=>d,Z:()=>h});var i=r(441143),n=r.n(i),a=r(244311),o=r(698681),s=r(226618),l=r(953565);let d=Symbol("inlineFragmentSpread"),c=({conditionContext:e,fragmentName:t,mutableOutput:r,parentType:i,selections:a,legacyData:l,paginationInfo:u,refetchInfo:h})=>{a.forEach(a=>{switch(a.kind){case"ScalarField":{let{alias:e,name:t}=a;r[e??t]=(0,o.mC)(t,i,l);break}case"LinkedField":{let{alias:s,name:d,concreteType:p,plural:_,selections:m}=a,g=s??d,f=(0,o.LJ)(l,i,a);if(null==f){r[g]=f;return}if(_){let i=(0,o.cG)({untypedInput:f,concreteType:p}),a=r[g];n()(!a||Array.isArray(a),"plural data must be an array"),r[g]=i?.filter(Boolean).map((r,i)=>{let n=a?.[i]??{};return c({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:p,selections:m,legacyData:r,refetchInfo:h,paginationInfo:u}),n})}else{n()("object"==typeof f,`Value for ${d} must be an object${p?` with type ${p}`:""}, but a ${typeof f} is given`);let i=r[g]??{};r[g]=i,c({conditionContext:e,fragmentName:t,mutableOutput:i,parentType:p,selections:m,legacyData:f,refetchInfo:h,paginationInfo:u})}break}case"InlineFragment":{let{abstractKey:i,type:s,selections:d}=a;if(n()(null!=s&&null===i,"We only support using inline fragment to refine to concrete types for now. Contact @jackhsu or @robertbalicki"),null==l)break;let p=(0,o.uC)(l);null!=p&&(0,o.Z1)(s,p)&&c({conditionContext:e,fragmentName:t,mutableOutput:r,parentType:s,selections:d,legacyData:l,paginationInfo:u,refetchInfo:h});break}case"Condition":{let{condition:n,selections:o}=a,s=!0;"isAuth"===n?s=e.isAuth===a.passingValue:"isDesktop"===n&&(s=e.isDesktop===a.passingValue),s&&c({conditionContext:e,fragmentName:t,mutableOutput:r,parentType:i,selections:o,legacyData:l,paginationInfo:u,refetchInfo:h});break}case"FragmentSpread":(0,s.I9)(r,{data:l,refetchInfo:h,paginationInfo:u});break;case"ClientExtension":c({conditionContext:e,fragmentName:t,mutableOutput:r,parentType:i,selections:a.selections,legacyData:l,paginationInfo:u,refetchInfo:h});break;case"InlineDataFragmentSpread":{let t={},{selections:n,name:o}=a;c({conditionContext:e,fragmentName:o,mutableOutput:t,parentType:i,selections:n,legacyData:l,paginationInfo:u,refetchInfo:h}),r[d]||(r[d]={}),r[d][o]=t;break}case"Defer":case"Stream":case"ActorChange":case"FlightField":case"ModuleImport":case"RelayResolver":case"RequiredField":case"RelayLiveResolver":case"AliasedFragmentSpread":case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":case"AliasedInlineFragmentSpread":throw Error(`The selection type '${a.kind}' is not supported yet. Contact @jackhsu or @robertbalicki`);default:throw Error(`Unexpected selection type '${a.kind}'`)}})},u=new Set;function h({conditionContext:e,fragment:t,legacyData:r,paginationInfo:i,refetchInfo:s}){let d;let h=(0,a.getFragment)(t);try{d=function({conditionContext:e,fragment:t,legacyData:r,paginationInfo:i,refetchInfo:a}){let s=null==t.abstractKey;if(s){let e=null!=r?(0,o.uC)(r):null;null!=e&&n()((0,o.Z1)(t.type,e),`fragment data type '${t.type}' does not match legacy data type '${e}'. See http://pinch.pinadmin.com/fragment-data-type-does-not-match-legacy-data-type.`)}let l={};return c({conditionContext:e,fragmentName:t.name,mutableOutput:l,parentType:t.type,selections:t.selections,legacyData:r,paginationInfo:i,refetchInfo:a}),l}({conditionContext:e,fragment:h,legacyData:r,paginationInfo:i,refetchInfo:s})}catch(t){throw u.has(h.name)||(u.add(h.name),(0,l.nP)("autoLegacyAdapter.erroredReadResults",{sampleRate:1,tags:{fragmentName:h.name,rootId:r.id,rootType:r.type,url:window.location.href,isAuth:e.isAuth}})),t}return d}},698681:(e,t,r)=>{"use strict";r.d(t,{Cs:()=>m,LJ:()=>C,Z1:()=>E,cG:()=>P,mC:()=>w,uC:()=>I});var i=r(441143),n=r.n(i);let a={vDASHHEVCSLCONTROL:"V_DASH_HEVC_SL_CONTROL",vHLSHEVC2SEC:"V_HLS_HEVC_2_SEC",vHLSHEVCSLCONTROL:"V_HLS_HEVC_SL_CONTROL",vHLSSINGLEFILECMAFEXP:"V_HLS_SINGLE_FILE_CMAF_EXP",vHLSSINGLEFILECONTROL:"V_HLS_SINGLE_FILE_CONTROL",vHLSSINGLEFILETSEXP:"V_HLS_SINGLE_FILE_TS_EXP",vHLSSLCONTROL:"V_HLS_SL_CONTROL",vHLSV3:"V_HLSV3",vHLSV3EXP:"V_HLSV3_EXP",vHLSV3MOBILE:"V_HLSV3_MOBILE",vHLSV3WEB:"V_HLSV3_WEB",vHLSV4:"V_HLSV4",vLOWBITRATEEXPHLSHEVCCONTROL:"V_LOW_BITRATE_EXP_HLS_HEVC_CONTROL",vLOWBITRATEEXPHLSHEVCLOB:"V_LOW_BITRATE_EXP_HLS_HEVC_LOB",vLOWBITRATEEXPHLSHEVCLQS:"V_LOW_BITRATE_EXP_HLS_HEVC_LQS"},o=/(\d\d0P)(\d\d0K)/,s=/QVBR(8|10)/,l=/(EXP\d?|ADSHQ|AVC|DASH|MANI|HIGHQUAL|HEVC|HLS|H265|H264|720P?|MP4|ENABLED|CONTROL|PROD|T\d|Q?VBR\d*|AUTOABR|MEDIACONVERT|QUALITY|REARRANGED|REMHIGHRES|VISIONULAR|480$|640$|V2$|\dSEC$|\d\d0P\d\d0K$)/g,d=/^v/,c=e=>a[e]??e.replace(l,"_$1").replace(o,"$1_$2").replace(s,"QVBR_$1").replace("ADSHQ","ADS_HQ").replace("HIGHQUAL","HIGH_QUAL").replace("REMHIGHRES","REM_HIGH_RES").replace(d,"V"),u=/[A-Z]/g,h=e=>e.replace(u,e=>`_${e.toLowerCase()}`),p=/^_/,_=e=>e.replace(p,""),m=e=>_(h(e)),g=["actionOptions","feedbackText","selectedItem","savedInfo","undoCallbackProps"],f=["boardId","localPinId","showFeedback","showFeedbackOverlay","sectionId","subTitle","viewType","viewParameter"],b=(e,t)=>{if(f.includes(e))return e;switch(e){case"entityId":return"id";case"__id":return n()(t.node_id,"node_id is missing. Please only select the __id field on objects which have an id field."),"node_id";default:return m(e)}},y=e=>"StoryPinPage"===e||"StoryPinImageBlock"===e,v=(e,t,r)=>{if(y(r)){if("images"===e)return"image";if("imagesAdjusted"===e)return"image_adjusted"}if("PinTagChipImagesPerSpec"===r&&"image"===e)return"images";if("VideoDetail"===t)return c(e);if(g.includes(e))return e;switch(e){case"reactionCountsData":return"reaction_counts";case"videoData":return"video";case"formattedCloseupDescription":return"formatted_description";default:return m(e)}},x=(e,t)=>{switch(e){case"reactionType":return"string"==typeof t?Number(t):t;case"campaignId":case"pinPromotionId":return"number"==typeof t?String(t):t;default:return t}},w=(e,t,r)=>"Video"===t&&"duration"===e?r?.duration!=null?r.duration:Object.values(r?.video_list||{}).find(e=>e?.duration!=null)?.duration:"__typename"===e?t:x(e,r?.[b(e,r)]),P=({untypedInput:e,concreteType:t})=>{if(!e)return null;switch(n()("object"==typeof e,"legacy data must be an object"),t){case"ReactionCountModel":return Object.entries(e).map(([e,t])=>({reaction_type:e,reaction_count:t}));case"PinThroughProperties":case"ThroughProperties":case"TrackingParamsMap":return Object.entries(e).map(([e,t])=>({key:e,data:t}));default:if(Array.isArray(e))return e;return Object.entries(e).map(([e,t])=>({key:e,value:t}))}},S=({args:e,name:t})=>{let r=e.find(e=>e.name===t);return r&&"string"==typeof r.value?r.value:null},C=(e,t,r)=>{let{args:i,name:a}=r;if("PinTagChipImagesPerSpec"===t&&"image"===a)return e?.images?.["750x"];let o=e?.[v(a,r.concreteType,t)];if(!o)return o;let s=S({args:i??[],name:"spec"});if(s){if(n()("object"==typeof o,"value must be an object"),y(t)){let{dominant_color:e,images:t}=o;if(!t)return t;n()("object"==typeof t,"images must be an object");let r=t["orig"===s?"originals":s];return r&&e?{...r,dominant_color:e}:r}return o[s]}return o},A={HeadingBlock:"StoryPinHeadingBlock",IngredientBlock:"StoryPinIngredientBlock",InstantContentURLNavigateAction:"InstantContentActionUrlNavigate",InstantContentHeaderBlock:"InstantContentHeader",InstantContentParagraphBlock:"InstantContentParagraph",InstantContentTextBlock:"InstantContentText",InstantContentHeadingBlock:"InstantContentHeading",InstantContentImageBlock:"InstantContentImage",InstantContentVideoBlock:"InstantContentVideo",InstantContentTableBlock:"InstantContentTable",InstantContentGroupBlock:"InstantContentGroup",InstantContentOrderedListBlock:"InstantContentOrderedList",InstantContentUnorderedListBlock:"InstantContentUnorderedList",InstantContentSectionBlock:"InstantContentSection",InstantContentSeparatorBlock:"InstantContentSeparator",InstantContentUserBlock:"InstantContentUser",InstantContentWebBlock:"InstantContentWeb",InstantContentPromotedWebBlock:"InstantContentPromotedWeb",LinkBlock:"StoryPinLinkBlock",ParagraphBlock:"StoryPinParagraphBlock",SupplyBlock:"StoryPinSupplyBlock",TextBlock:"StoryPinTextBlock",DescriptionString:"FormattedDescriptionParagraphComponent",DescriptionHeader:"FormattedDescriptionHeaderComponent",DescriptionPoints:"FormattedDescriptionPointsComponent",DescriptionStringBold:"FormattedDescriptionBoldComponent",DescriptionTable:"FormattedDescriptionTableComponent",DescriptionSpecs:"FormattedDescriptionSpecsComponent"},E=(e,t)=>(A[e]??e).toLowerCase()===t,j={0:"StoryPinParagraphBlock",1:"StoryPinHeadingBlock",2:"StoryPinImageBlock",3:"StoryPinVideoBlock",4:"StoryPinLinkBlock",5:"StoryPinIngredientBlock",6:"StoryPinSupplyBlock",7:"StoryPinListBlock",8:"StoryPinKeyValueBlock",9:"StoryPinTextBlock",11:"StoryPinMusicBlock",12:"StoryPinMentionStickerBlock",13:"StoryPinProductStickerBlock",14:"StoryPinStaticStickerBlock",15:"StoryPinAnimatedStickerBlock",16:"StoryPinCommentReplyBlock",17:"StoryPinVirtualTryOnMakeupStickerBlock",18:"StoryPinAdBlock",19:"StoryPinGenericInteractiveStickerBlock"},T=/_/g,I=e=>"string"==typeof e.type?e.type.replace(T,"").toLowerCase():"number"==typeof e.block_type?j[e.block_type].toLowerCase():void 0},91402:(e,t,r)=>{"use strict";r.d(t,{g:()=>a,j:()=>o});var i=r(226618),n=r(953565);function a(e){if(Array.isArray(e)){let t=e[0];if(null==t)return{kind:"PluralLegacy",data:[],paginationInfo:null,refetchInfo:null};if(null!=t.__fragments)return{kind:"GraphQL",data:e};let r=(0,i.G5)(t);return null!=r?{kind:"PluralLegacy",data:e.map(e=>(0,i.Be)(e).data),paginationInfo:r.paginationInfo,refetchInfo:r.refetchInfo}:((0,n.nP)("autoLegacyAdapter.invalidPluralDataKey",{sampleRate:1}),{kind:"PluralLegacy",data:e.map(e=>(0,i.Be)(e).data),paginationInfo:null,refetchInfo:null})}let t=(0,i.G5)(e);if(null!=t){let{data:e,refetchInfo:r,paginationInfo:i}=t;return{kind:"SingularLegacy",data:e,refetchInfo:r,paginationInfo:i}}if(e.__fragments)return{kind:"GraphQL",data:e};if("graphqlRef"===e.type)return{kind:"GraphQL",data:e.data};if("deprecated"===e.type){let{data:t}=e;return Array.isArray(t)?{kind:"PluralLegacy",data:t,refetchInfo:null,paginationInfo:null}:{kind:"SingularLegacy",data:t,refetchInfo:null,paginationInfo:null}}throw Error("Invalid value")}function o(e){let t=(0,i.G5)(e);return null!=t?{type:"deprecated",data:t.data}:e.__fragments?{type:"graphqlRef",data:e}:e}},226618:(e,t,r)=>{"use strict";r.d(t,{Be:()=>a,G5:()=>n,I9:()=>o});let i=Symbol("legacyData");function n(e){return e[i]}function a(e){return e[i]}function o(e,t){return e[i]=t,e}},333739:(e,t,r)=>{"use strict";r.d(t,{qH:()=>A,Zm:()=>f,HF:()=>S,sr:()=>C,O7:()=>b,V4:()=>P});var i=r(702664),n=r(167912),a=r(288088);function o(e){return null==e?"null or undefined":Array.isArray(e)?"Array":typeof e}function s(e,t,r){return"Manual"===t?{path:e,message:`Value found only in legacy adapter, where it had type ${o(r)}. (Or it was null in the auto-legacy adapter.)`,kind:"MissingInLegacy"}:{path:e,message:`Value found only in auto-legacy adapter, where it had type ${o(r)}. (Or it was null in the legacy adapter.)`,kind:"MissingInAutoLegacy"}}function l(e,t,r){let i=o(t),n=o(r);return{path:e,message:`Found item of type ${i} in the legacy adapter result, and an item of type ${n} in the auto-legacy result.`,kind:"Type"}}var d=r(226618),c=r(340523),u=r(5859),h=r(554786),p=r(19447),_=r(953565);let m={},g=new Set;function f(e,t,{useGraphQLAdapter:r,useLegacyAdapter:i}){if("deprecated"===t.type)return{data:i(t.data),childDataKey__DEPRECATED:t};let a=(0,n.useFragment)(e,t.data);return{data:r(a),childDataKey__DEPRECATED:{type:"graphqlRef",data:a}}}let b=()=>{let{isAuthenticated:e}=(0,u.B)(),t=(0,h.HG)();return{isAuth:!!e,isDesktop:t}};function y(){return"undefined"!=typeof performance?performance.now():Date.now()}function v(e){let t=y(),r=e(),i=y();return[r,i-t]}let x=new Map;function w(e,t,r,i){let n=x.get(i);if(n){if(!n.has(t)){let[i,a]=v(e);return n.add(t),(0,_.LY)(t,a,{sampleRate:r.isParallel?1:.1,tags:r}),i}}else{let[n,a]=v(e);return x.set(i,new Set([t])),(0,_.LY)(t,a,{sampleRate:r.isParallel?1:.1,tags:r}),n}return e()}function P(e,t){let{checkExperiment:r}=(0,c.F)(),{isAuthenticated:i}=(0,u.B)(),{group:n,anyEnabled:h}=r(i?"web_graphql_auto_legacy_adapters_auth":"web_graphql_auto_legacy_adapters_unauth"),p=b();return n.includes("parallel")?r=>{let i=w(()=>(0,d.I9)(t(r),{data:r,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.legacyTiming",{isParallel:!0,fragmentName:e.name},e.name);return"object"==typeof window&&function(e,t,r,i){let n;try{n=w(()=>(0,a.Z)({conditionContext:t,fragment:e,legacyData:r,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.autoLegacyTiming",{fragmentName:e.name,isParallel:!0},e.name)}catch{return}try{var d;let t=(d=n,function e(t,r,i){let n=[],a=Object.keys(r),d=Object.keys(i);for(let d of a){let a=r[d],c=i[d];n.push(...function t(r,i,n){return null!=i&&null==n?[s(r,"Manual",i)]:i===n||null==i&&null==n?[]:Array.isArray(i)?Array.isArray(n)?function(e,r,i){if(r.length!==i.length)return[{path:e,message:`legacyResult is an array of length ${r.length}; autoLegacyResult is an array of length ${i.length}`,kind:"Length"}];let n=[];for(let a=0;a<r.length;a+=1){let o=r[a],s=i[a];n.push(...t(`${e}[]`,o,s))}return n}(r,i,n):[l(r,i,n)]:"object"==typeof i?"object"==typeof n&&null!==n&&null!==i?e(r,i,n):[l(r,i,n)]:[typeof i!=typeof n?l(r,i,n):{path:r,message:`Found items of type ${o(i)}, but their values did not match.`,kind:"Value"}]}(`${t}.${d}`,a,c))}for(let e of d){let a=r[e],o=i[e];null!=o&&null==a&&n.push(s(`${t}.${e}`,"Auto",o))}return n}("",i,d));if(t.length>0){window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn({differences:t,fragment:e.name}),m[e.name]=m[e.name]??new Set;let r=m[e.name];for(let i of t)r.has(i.path)||(r.add(i.path),(0,_.nP)("autoLegacyAdapter.inconsistentReadResults",{sampleRate:1,tags:{fragmentName:e.name,path:i.path,kind:i.kind}}))}}catch(t){g.has(e.name)||(g.add(e.name),window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn(`comparing results threw for fragment ${e.name}`),(0,_.nP)("autoLegacyAdapter.erroredCompareResults",{sampleRate:1,tags:{fragmentName:e.name}}))}}(e,p,r,i),i}:h?t=>w(()=>(0,a.Z)({conditionContext:p,fragment:e,legacyData:t,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.autoLegacyTiming",{fragmentName:e.name,isParallel:!1},e.name):r=>w(()=>(0,d.I9)(t(r),{data:r,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.legacyTiming",{fragmentName:e.name,isParallel:!1},e.name)}function S(e,t,r){let n;switch(r.type){case"article":n=e=>{let t=(0,i.useSelector)(({articles:t})=>t[e]);return t?r.useLegacyAdapter(t):null};break;case"story":n=e=>{let t=(0,i.useSelector)(({stories:t})=>t[e]);return t?r.useLegacyAdapter(t):null};break;default:n=e=>{let t=(0,p.S6)()(e);return t?r.useLegacyAdapter(t):null}}return f(e,t,{useGraphQLAdapter:r.useGraphQLAdapter,useLegacyAdapter:n})}function C(e,t,r){let i=P(e,r.useLegacyAdapter);return S(e,t,{...r,useGraphQLAdapter:e=>e,useLegacyAdapter:i})}let A=void 0},207012:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(422578),n=r(288088),a=r(91402),o=r(333739);let s=function(e,t){let r=(0,o.O7)();if(null==t)return null;let s=(0,a.g)(t);switch(s.kind){case"SingularLegacy":{let{data:t,refetchInfo:i,paginationInfo:a}=s;return(0,n.Z)({conditionContext:r,fragment:e,legacyData:t,paginationInfo:a,refetchInfo:i})}case"PluralLegacy":{let{data:t,refetchInfo:i,paginationInfo:a}=s;return t.map(t=>(0,n.Z)({conditionContext:r,fragment:e,legacyData:t,paginationInfo:a,refetchInfo:i}))}case"GraphQL":return(0,i.useFragment)(e,s.data);default:throw Error("Unexpected case")}}},807023:(e,t,r)=>{"use strict";r.d(t,{Q:()=>o});var i=r(167912),n=r(91402),a=r(333739);function o(e,t,{useLegacyAdapter:r}){if(null==t)return{data:null,childDataKey__DEPRECATED:null};let o=(0,n.j)(t);if("deprecated"===o.type){let{data:t}=o;return null==t?{data:null,childDataKey__DEPRECATED:o}:{data:(0,a.V4)(e,r)(t),childDataKey__DEPRECATED:o}}let s=(0,i.useFragment)(e,o.data);return{data:s,childDataKey__DEPRECATED:{type:"graphqlRef",data:s}}}},213377:(e,t,r)=>{"use strict";r.d(t,{$H:()=>o,$q:()=>b,D6:()=>d,KN:()=>v,Lo:()=>n,P2:()=>m,TS:()=>x,Wv:()=>y,ZZ:()=>u,g5:()=>h,jC:()=>s,lX:()=>_,nW:()=>p,oX:()=>g,qG:()=>f,tG:()=>a,yF:()=>i,yc:()=>c,yt:()=>l});let i=236,n=2*i/3,a=175,o=24,s=4,l=8,d=2,c=2,u=14,h=16,p=12,_=16,m=24,g=16,f=-1,b=(e=!1,t=!1)=>e?t?_:p:m,y=({contentVisibleItemCount:e,gap:t,width:r})=>e||r?(r-(e-1)*t)/e:i,v=(e,t,r,i,n=u)=>{let a=e+n,o=`
@media (min-width: ${t*a}px) and (max-width: ${(r+1)*a-1}px) {
  ${i}
}
`;return o},x=(e,t,r)=>{let n=r?3:2,o=t?5:n,s=t?i:a,d=t?g:l,c=s*o+d*o-(t?12:!t&&r?12:6);if(!e)return c;for(let t=o;t>=2&&!(e>c);t-=1)c=s*t+d*t;return c}},388769:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(72461),n=r(5859),a=r(785893);let o=({currency:e,maximumFractionDigits:t,minimumFractionDigits:r,shortform:o,shortformMaximumFractionDigits:s,formatStyle:l,uplimit:d,value:c})=>{let u=(0,i.Z)();return(0,a.jsx)(n.LC,{children:i=>u(i.locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:r,shortform:o,shortform_maximum_fraction_digits:s,style:l,uplimit:d})})}},757017:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(188349),n=r(140017),a=r(339001);function o(){let e=(0,n.ZP)();return function(t,r){let n=new Date(t),o=new Date,s=o-n,l=Math.floor(s/i.FS),d=Math.floor(s/i.UK),c=Math.floor(s/i.F4),u=Math.floor(s/i.VL),h=Math.floor(s/i.N9),p=Math.floor(s/i.N1),_=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', l, ' - ', ' -- '),m=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', d, ' - ', ' -- '),g=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),f=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', u, ' - ', ' -- '),b=e.ngettext('{{ months }} month ago', '{{ months }} months ago', h, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),y=e.ngettext('{{ years }} year ago', '{{ years }} years ago', p, ' - ', ' -- '),v=e.ngettext('{{ minutes }}m', '{{ minutes }}m', l, 'minutes ago abbreviated', 'minutes ago abbreviated'),x=e.ngettext('{{ hours }}h', '{{ hours }}h', d, 'hours ago abbreviated', 'hours ago abbreviated'),w=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),P=e.ngettext('{{ weeks }}w', '{{ weeks }}w', u, 'weeks ago abbreviated', 'weeks ago abbreviated'),S=e.ngettext('{{ months }}mo', '{{ months }}mo', h, 'months ago abbreviated', 'months ago abbreviated'),C=e.ngettext('{{ years }}y', '{{ years }}y', p, 'years ago abbreviated', 'years ago abbreviated');return p>0?(0,a.nk)(r?C:y,{years:p}).join(""):h>0?(0,a.nk)(r?S:b,{months:h}).join(""):u>0?(0,a.nk)(r?P:f,{weeks:u}).join(""):c>0?(0,a.nk)(r?w:g,{days:c}).join(""):d>0?(0,a.nk)(r?x:m,{hours:d}).join(""):l>0?(0,a.nk)(r?v:_,{minutes:l}).join(""):e._('Just now', ' - ', ' -- ')}}},140017:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>s,oz:()=>a,q6:()=>n});var i=r(342513);let{Provider:n,Consumer:a,useHook:o}=(0,i.Z)("i18n"),s=o},72461:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(140017),n=r(427514);let a=(e,t)=>{let r=t||0,i=10**r,n=+(r?e*i:e).toFixed(8),a=Math.floor(n),o=n-a,s=o>.49999999&&o<.50000001?a%2==0?a:a+1:Math.round(n);return r?s/i:s},o=({maximumFractionDigits:e,minimumFractionDigits:t,style:r,currency:i})=>{let n={maximumFractionDigits:e,minimumFractionDigits:t};return r?{...n,style:r,..."currency"===r?{currency:i,currencyDisplay:"symbol"}:{}}:n},s=e=>{try{0..toLocaleString([e])}catch(e){return!1}return!0},l=(e,t)=>{if(t){let{minimumFractionDigits:r,maximumFractionDigits:i}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==r&&void 0!==i)return{minimumFractionDigits:r,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function d(){let e=(0,i.ZP)();return(t,r,i)=>{let d=0,c=0,u=i&&i.style||void 0,h=i&&i.shortform||!1,p=i&&i.uplimit||void 0,_=i&&i.currency||void 0,m=!!p&&r>=p,g=p&&m?p:r;if("currency"===u){let{minimumFractionDigits:e,maximumFractionDigits:r}=l(t,_);d=void 0===i||void 0===i.maximum_fraction_digits?r:i.maximum_fraction_digits,c=void 0===i||void 0===i.minimum_fraction_digits?e:i.minimum_fraction_digits}else d=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,c=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits;if(h&&g>999&&(d=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,c=0),d<c)return String(g);let f=g,b="",y=[{"100M":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],v=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],x=/^zh|ja|ko/.test(t);if(h&&g>999){let e=x?y:v;for(let t=0;t<e.length;t+=1){let r=Object.keys(e[t])[0],i=e[t][r].value;if(g>=i){f=a(g/i*Math.pow(10,d))/Math.pow(10,d),b=e[t][r].localeKey;break}}}if(null==f)return"";let w=f.toLocaleString([s(t)&&"ar-SA"!==t?t:"en-US"],o({maximumFractionDigits:d,minimumFractionDigits:c,currency:_,style:u}));return b&&b.length>0?(0,n.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:w,numberSuffix:b})+(m?"+":""):w+(m?"+":"")}}},666472:(e,t,r)=>{"use strict";r.d(t,{F:()=>c,Z:()=>d});var i=r(667294),n=r(263032),a=r(214877),o=r(30378),s=r(369708);let l={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054}};function d({carouselData:e,closeupImpressionType:t,closeupNavigationType:r,componentType:d,contextLogData:c,clientTrackingParams:u,elementType:h,impressionAuxFields:p,inImpressionExp:_,impressionType:m,impressionsFramework:g,isPaused:f,loggingId:b,objectIdStr:y,slotIndex:v,trackCarousel:x,viewData:w,viewParameter:P,viewType:S,isPromoted:C,storyPinProductEventData:A,pinData:E}){let{logContextEvent:j}=(0,a.v)(),{logMrcVideoAdEventOnPlay:T}=(0,s.rG)(),I=g||o.Z,k=(0,i.useRef)(null),D=i=>{let a=l[m],o=a.idType,s={clientTrackingParams:u,endTime:i.endTime,[o]:b,slotIndex:v,time:i.startTime,renderDuration:i.endTime-i.startTime,type:t,...p,forcedExit:"removed"===i.forcedExit?0:void 0},_={};if("Pin"===m&&(s={...s,pinCellWidth:k.current?.getBoundingClientRect().width||0,pinCellHeight:k.current?.getBoundingClientRect().height||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight},p?.chromeAraViewExp&&E&&E.isPromoted)){let{attributionSourceId:e}=E;(0,n.YS)(m,E.isPromoted??null,e??null,E.link??null,E.campaignId??null,p.araAuxData??null,E.advertiserId??null,E.domain??null,E.adDestinationUrl??null,p?.araHardcodedReportingUrlExp),_={is_arapi:!0,attribution_source_id:e||""}}let g={component:d,object_id_str:y,view_type:S,view_data:w||{},view_parameter:P};if(x)e&&x&&j({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...s,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...g,aux_data:{...c,..._}});else{let e={clientTrackingParams:u,event_type:a.eventType,...g,element:h,event_data:{[a.impressionType]:"Story"===m?s:[s],...A?{storyPinProductEventData:A}:{}},aux_data:{closeup_navigation_type:r,...c,..._}};j(e),T(e)}},R=(0,i.useCallback)(()=>{try{let{current:e}=k;e instanceof HTMLElement&&(!C||e.getElementsByTagName("img").length>0)&&I.start(e).onExitViewport(D).setDebugId(b||"unknown")}catch{window.console.error('Can only track impressions for type "HTMLElement"')}},[k.current]);return(0,i.useEffect)(()=>(_&&!I.inExperiment&&I.setExperimentStatus(!0),f||R(),()=>{let{current:e}=k;e instanceof HTMLElement&&(!C||e.getElementsByTagName("img").length>0)&&I.stop(e)}),[f,R]),k}let c=({children:e,...t})=>e({impressionTrackerRef:d(t)})},307772:(e,t,r)=>{"use strict";function i(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z3:()=>u,LU:()=>h,ZP:()=>p});let n=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,a={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},o={},s={background:"#FF8A8A",transform:"scale(.98)"},l={init:e=>({transform:`scale(${o[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[a.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[a.exit]:s,[a.stopped]:s,[a.paused]:s,[a.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){i(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),i(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),i(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),i(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){let e=Date.now();this.startTime=e,this._debug(a.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach(e=>e())}else!t&&this.inViewport&&(this._debug(a.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON())));this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,n&&Object.assign(this.node.style,l.init(e)),this}pause(){return this.inViewport&&(this._debug(a.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(a.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(a.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`}}_debug(e,t){if(n)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),l[e]&&Object.assign(this.node.style,l[e]),e){case a.flushed:case a.paused:case a.exit:o[this.debugId]=!0}}}function c(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let u=!0,h=!1;class p{constructor(){c(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),c(this,"_handleMutations",(e,t)=>{let r=this.mutationObservers.get(t),i=r&&r.offsetHeight<1;i&&r&&this.stop(r,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let r=this.activeImpressions.get(e);r&&(r.stop(t),this.mutationObservers.delete(r.mutationObserver),r.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);return t||(t=new d(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer.observe(e),t.setMutationObserver(new window.MutationObserver((e,t)=>this._handleMutations(e,t))),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),t}pause(e=u){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==h||(this.pausePriority=e))}resume(e=u){(e!==h||this.pausePriority!==u)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=h)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:r}=t.getBoundingClientRect();return r>e?r:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:r}=t.getBoundingClientRect();return r<e?r:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let r={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,r),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},184390:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var i=r(667294),n=r(973935),a=r(263032),o=r(214877),s=r(30378),l=r(369708),d=r(785893);function c(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let u={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class h extends i.Component{constructor(e){super(e),c(this,"trackImpression",()=>{try{let{isPromoted:e}=this.props;this.node=(0,n.findDOMNode)(this),this.node instanceof HTMLElement&&(!e||this.node.getElementsByTagName("img").length>0)&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),c(this,"logImpression",e=>{let{carouselData:t,closeupImpressionType:r,closeupNavigationType:i,componentType:n,contextLogData:o,elementType:s,impressionAuxFields:l,impressionType:d,loggingId:c,objectIdStr:h,slotIndex:p,storyPinProductEventData:_,trackCarousel:m,viewData:g,viewParameter:f,viewType:b,logContextEvent:y,logMrcVideoAdEventOnPlay:v}=this.props,x=u[d],w=x.idType,P=e.forcedExit&&"removed"===e.forcedExit?0:void 0,S={endTime:e.endTime,[w]:c,slotIndex:p,time:e.startTime,renderDuration:e.endTime-e.startTime,type:r,...l,forcedExit:P},C={};if("Pin"===d&&(S={...S,pinCellWidth:this.node.offsetWidth,pinCellHeight:this.node.offsetHeight,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight},l?.chromeAraViewExp&&this.props.pinData?.isPromoted)){let{attributionSourceId:e}=this.props.pinData;(0,a.YS)(d,this.props.pinData.isPromoted??null,e??null,this.props.pinData.link??null,this.props.pinData.campaignId??null,l.araAuxData??null,this.props.pinData.advertiserId??null,this.props.pinData.domain??null,this.props.pinData.adDestinationUrl??null,l?.araHardcodedReportingUrlExp),C={is_arapi:!0,attribution_source_id:e||""}}if(!m){let e={event_type:x.eventType,component:n,element:s,event_data:{[x.impressionType]:"Story"===d?S:[S],..._?{storyPinProductEventData:_}:{}},object_id_str:h,view_type:b,view_data:g||{},view_parameter:f,aux_data:{...o,...C,closeup_navigation_type:i}};y(e),v(e)}t&&m&&y({event_type:7352,component:n,event_data:{pinCarouselSlotImpressions:[{...S,..."canonical"===t.type?{carouselDataId:Number(t.carouselId??0),slotIndex:t.index,carouselSlotId:t.carouselSlots[t.index??0]&&Number(t.carouselSlots[t.index??0].slotId)}:{carouselDataId:Number(t.id??0),carouselSlotId:t.carousel_slots?.[t.index??0]&&Number(t.carousel_slots[t.index??0].id),slotIndex:t.index}}]},object_id_str:h,view_type:b,view_data:g||{},view_parameter:f,aux_data:{...o,...C}})}),this.impressionsFramework=e.impressionsFramework||s.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){let{isPromoted:e}=this.props;this.node instanceof HTMLElement&&(!e||this.node.getElementsByTagName("img").length>0)&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}function p(e){let{logContextEvent:t}=(0,o.v)(),{logMrcVideoAdEventOnPlay:r}=(0,l.rG)();return(0,d.jsx)(h,{...e,logContextEvent:t,logMrcVideoAdEventOnPlay:r})}},30378:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(307772);let n=new i.ZP},339001:(e,t,r)=>{"use strict";r.d(t,{Wc:()=>l,bF:()=>c,nk:()=>s,r7:()=>u});var i=r(667294),n=r(785893);function a(e,t,r){return e.split(r).map(e=>{if(e.match(r)){let r=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,r))return t[r]}return e})}let o=/(\{\{\s*\w+\s*\}\})/g;function s(e,t){return a(e,t,o)}function l(e,t){return a(e,t,o).join("")}let d=/(\{\s*\w+\s*\})/g;function c(e,t){return a(e,t,d)}let u=({text:e})=>Array.isArray(e)?e.map((e,t)=>(0,n.jsx)(i.Fragment,{children:e},t)):e},579814:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(107366),n=r(624797);let a=(e=()=>{})=>{let t=(0,n.mB)(window.location.search),{invite_code:r}=t;if(!r){e(t);return}let a=encodeURIComponent(r),o=encodeURIComponent(a);(0,i.Z)({url:"/v3/invite_code/attribution/land/",method:"POST",data:{invite_code:o}})}},67288:(e,t,r)=>{"use strict";r.d(t,{P:()=>a,Z:()=>n});var i=r(702664);function n(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function a(){let e=(0,i.useSelector)(({experiences:e})=>e);return!!e&&n(e)}},431405:(e,t,r)=>{"use strict";function i({browserName:e,browserType:t,browserVersion:r,enableModernBundlesForBots:i,isBot:n}){if(n&&i)return!0;if("Electron"===e){let e=Number(r?.split(".")[0]);return e>=3}if(t&&r){let e=Number(r.split(".")[0]);if(1===t||4===t)return e>=105;if(2===t)return e>=15;if(7===t)return e>=105}return!1}r.d(t,{Z:()=>i})},201417:(e,t,r)=>{"use strict";function i(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}r.d(t,{Z:()=>i})},317540:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},43665:(e,t,r)=>{"use strict";function i(e){let t=!1,r=new Promise((r,i)=>{e.then(e=>t?i({isCanceled:!0}):r(e),e=>t?i({isCanceled:!0}):i(e))});return{promise:r,cancel(){t=!0}}}r.d(t,{Z:()=>i})},891162:(e,t,r)=>{"use strict";r.d(t,{Q6:()=>u,ZP:()=>l,qe:()=>d,yU:()=>c});var i=r(520893);let n=(e,t)=>e.length===t.length&&e.every((e,r)=>e===t[r]),a=e=>e;function o(e,t=n,r=a){return function(i){let n=[];return function(...a){let o=n.find(e=>t(e.args,r(a)));if(o)return o.result;let s=i(...a);return n.push({args:r(a),result:s}),e&&n.length>e&&n.shift(),s}}}let s=o(),l=s,d=o(1),c=o(void 0,n,e=>[JSON.stringify(e)]),u=o(0,(e,t)=>e.length===t.length&&e.every((e,r)=>(0,i.Z)(e,t[r])))},444781:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(201417);function n(e,t=!1){let r=(t,r)=>e(r);return e=>(function e(t,r=!1){return n=>{if(!(0,i.Z)(n))return r&&Array.isArray(n)?n.map(e(t,r)):n;let a={};return Object.keys(n).forEach(o=>{let s=t(n[o],o);(0,i.Z)(n[o])||r&&Array.isArray(n[o])?a[s]=e(t,r)(n[o]):a[s]=n[o]}),a}})(r,t)(e)}},996523:(e,t,r)=>{"use strict";r.d(t,{Z:()=>function e(t,r,i=()=>void 0){let n=i(t,r);return void 0!==n?n:void 0===r?t:Array.isArray(t)&&Array.isArray(r)?r.reduce((t,n,a)=>(t[a]=e(t[a],r[a],i),t),[...t]):t&&"object"==typeof t&&r&&"object"==typeof r?Object.keys(r).reduce((t,n)=>(t[n]=e(t[n],r[n],i),t),{...t}):r}})},705895:(e,t,r)=>{"use strict";function i(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>o});let n=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},a=e=>{if(e.isHidden){let{reason:t}=e;n.windowInFocus=!1,n.onPauseListeners.forEach(e=>e(t))}else n.windowInFocus=!0,n.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>a({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>a({isHidden:!1})),window.addEventListener("blur",()=>a({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>a({isHidden:!1})),window.addEventListener("pagehide",()=>a({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>a(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>a(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let o=n},558273:(e,t,r)=>{"use strict";r.d(t,{NK:()=>f,P6:()=>a,VX:()=>s,ZE:()=>m,Zt:()=>g,_J:()=>d,_S:()=>b,cL:()=>p,jL:()=>l,oN:()=>n,rM:()=>_,sV:()=>c,sY:()=>u});var i=r(115557);let n=5e3,a=n/i.gJ,o=["Uploaded by user"],s=(e,t)=>t&&t.products&&t.products.length>0||e?.products&&e.products.length>0||!1,l=(e,t)=>!!t&&!e,d=e=>!!e&&5!==e,c=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,h=e=>"pinstory"===e,p=({embedSrc:e,embedSubtype:t,embedType:r})=>!!e&&!u(r)&&!h(t),_=({link:e,mobileLink:t,trackedLink:r})=>!t&&!r&&!e,m=e=>/pin.it/gim.test(e||""),g=({link:e,mobileLink:t,origImageUrl:r,trackedLink:i})=>t||i||e||r||"",f=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function b(e){for(let t of o)if(e===t)return!1;return!0}},862536:(e,t,r)=>{"use strict";r.d(t,{cA:()=>G,fM:()=>W,N5:()=>K});var i=r(667294),n=r(616550),a=r(707671),o=r(194087),s=r(939129),l=r(760890),d=r(45528),c=r(485756),u=r(643778),h=r(302234),p=r(371626),_=r(663678),m=r(396596);let g=({botType:e,browserName:t,deviceType:r,region:i})=>{let n=`pwtlogger.${e}.${r}`,a=["all",...i?[i.toLowerCase()]:[]];"OTHER"!==i&&a.push("ALL_EXCLUDING_OTHER");let o=[];"desktop"===r?("Chrome"===t||"Edge"===t||"Safari"===t||"Firefox"===t||"Opera"===t)&&(o=[t.toLowerCase().replace(/\s/g,"_")]):"phone"===r?("Chrome"===t||"Mobile Safari"===t||"Samsung Browser"===t||"Chrome WebView"===t||"GSA"===t)&&(o=[t.toLowerCase().replace(/\s/g,"_")]):"tablet"===r&&"Chrome"===t&&(o=[t.toLowerCase().replace(/\s/g,"_")]);let s=["all",...o],l=[];return a.forEach(e=>{s.forEach(t=>{l.push(`${n}.region_${e}.browser_${t}`)})}),l};var f=r(865611),b=r(421715);let y=e=>10*Math.round(e/10);var v=r(237040),x=r(953565);let w={pin_closeup:{LCP:"pin_closeup_lcp",INP:"pin_closeup_inp"},board:{LCP:"board_lcp",INP:"board_inp"},other_profile:{LCP:"other_profile_lcp",INP:"other_profile_inp"},topic:{LCP:"topic_lcp",INP:"topic_inp"}},P=["CA","GB","DE","FR","AU","JP","BR","MX","AU","IN"],S=({surface:e,pwtStaticContext:t})=>{switch(e){case"pin_closeup":return[(0,v.Uw)({isDesktop:"desktop"===t.deviceType,viewerType:t.isBot&&"bot"||t.isAuthenticated&&"auth"||"unauth"}),t.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"];case"board":return[t.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"];default:return[]}},C=({pwtStaticContext:e,surface:t})=>{let r=(0,u.Jx)({annotateExperiments:S({surface:t,pwtStaticContext:e}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:w[t].LCP,pwtStaticContext:e}),i=(0,u.Jx)({name:w[t].INP,pwtStaticContext:e});return(e,t)=>{"LCP"===e?r.stop(t):"INP"===e&&i.stop(t)}},A=({pwtStaticContext:e,surface:t,getCurrentRoute:r})=>{let i=C({pwtStaticContext:e,surface:t}),{isAuthenticated:n,isBot:a,isSocialBot:o,deviceType:s,country:l,fullPath:u,browserName:v,osName:w}=e,S={},A=({name:d,value:h,metricDetails:y})=>{if(!S[d]){let C;S[d]=!0;let A=(0,_.Z)(e),E=`${A}.${t}.${d}`,j=`${A}.tags.${t}.${d}`;if(C="iOS"===w&&"Chrome"===v?"iOS_Chrome":"CrUX","LCPCount"===d)(0,x.QX)(`${E}.sum`,h,{sampleRate:1}),(0,x.nP)(`${E}.size`,{sampleRate:1});else{let e=(0,p.Z)(l),_=(0,m.Z)(u);if("INP"===d){if(y){let{rating:t,navigationType:i}=y,{interactionTime:a,interactionType:o,loadState:s}=y.attribution,l=(0,f.Z)(a),{path:d}=r(),u={isAuth:n,path:d,CrUXSegment:C,region:e,CWVBucket:t,eventTimeGroup:l,interactionType:o,loadState:s,navigationType:i,domain:(0,c.xR)(document.domain||"unknown")};if((0,x.LY)(`${E}`,h,{sampleRate:1}),(0,x.LY)(`${j}`,h,{sampleRate:1,tags:u}),"Chrome"===v&&y.attribution){let e=(0,b.b)(y);e&&(0,x.LY)(`${E}.INPBoundary`,h,{sampleRate:1,tags:{...u,INPBoundary:e}}),["inputDelay","processingDuration","presentationDelay"].forEach(e=>{(0,x.LY)(`${E}.${e}`,y.attribution[e],{sampleRate:1,tags:u})})}}}else"LCP"===d?((0,x.LY)(`${E}`,h,{sampleRate:1}),(0,x.LY)(`${j}`,h,{sampleRate:1,tags:{isAuth:n,CrUXSegment:C,region:e,..._&&{pinType:_}}})):"CLS"===d&&((0,x.LY)(`${E}`,100*h,{sampleRate:1}),(0,x.LY)(`${j}`,100*h,{sampleRate:1,tags:{isAuth:n,CrUXSegment:C,region:e}}));!n&&P.includes(l)&&g({botType:o&&"socialBot"||a&&"bot"||"nonbot",browserName:v,deviceType:s,region:e}).forEach(e=>{(0,x.LY)(`${e}.tags.growthSEO.${t}_${d}`,h,{sampleRate:1,tags:{country:l}})}),i(d,h)}}};(0,d.NO)(({value:e})=>{A({name:"LCPCount",value:(0,h.Kj)()}),A({name:"LCP",value:y(e)})}),(0,d.a4)(({value:e})=>{A({name:"FCP",value:e})}),(0,d.Yn)(e=>{A({name:"INP",value:e.value,metricDetails:e})}),(0,d.mw)(({value:e})=>{A({name:"CLS",value:e})})};var E=r(297329),j=r(107860),T=r(608029);let I=(0,T.XV)("LayoutShiftDebugger"),k=e=>e<=.1?"good":e<=.25?"adequate":"poor",D=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&D(e.parentNode)||null,R=e=>Math.round(1e3*e),z=[],O=e=>{let t=Object.freeze({}),r=0;z.forEach(({value:e,shift:{sources:i},route:n,params:a,hadRecentNavigation:o,hadRecentScroll:s,isAuth:l})=>{if(r+=e,!i||!i.length)return;let d=e/i.length;i.forEach(({node:e})=>{let r=e?D(e)||"ROOT":"NODE_REMOVED",i=a&&a.scope?a.scope:"none",u={route:n,searchScope:i,boundaryId:r,hadRecentNavigation:o,hadRecentScroll:s,isAuth:l,domain:(0,c.xR)(document.domain||"unknown")},h=JSON.stringify(u);t={...t,[h]:{score:((t[h]||{}).score||0)+d,tags:u}}})}),Object.keys(t).forEach(r=>{let{score:i,tags:n}=t[r];(0,x.QX)(`${e}.shifts`,R(i),{sampleRate:1,tags:{...n}}),(0,x.LY)(`${e}.shifts`,R(i),{sampleRate:1,tags:{...n}})}),I("Debug CLS boundaries",r,t,z),z=[]},B=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:r})=>{let i;let n=(0,u.Jx)({annotateMarks:["initialAppLoad","RenderReactContainer"],name:"cumulative_layout_shift",pwtStaticContext:e}),a=0,o=e=>{a=e.timeStamp};window.addEventListener("scroll",o),window.addEventListener("beforeunload",()=>{window.removeEventListener("scroll",o)});let s=`${(0,_.Z)(e)}.CLS`,l=()=>O(s),c=0,h=0,p=0;(0,d.mw)(({entries:n,value:o})=>{if(p=o||0,n.length){let{path:s,params:l}=t();i=r();let d=n[0].startTime,u=c!==d,p=u?n:n.slice(h);u&&(c=d),z=z.concat(p.map(t=>({value:o,shift:t,route:s,params:l,hadRecentNavigation:i>0&&i+500>t.startTime,hadRecentScroll:a>0&&a+500>t.startTime,isAuth:e.isAuthenticated}))),h=n.length}},!0);let m=setInterval(()=>{if(z.length){l();let e=k(p);(0,x.QX)(`${s}.${e}`,1,{sampleRate:1}),(0,x.LY)(`${s}.${e}`,1,{sampleRate:1}),n.stop(R(p))}},1e3);window.addEventListener("beforeunload",()=>{clearInterval(m),0===p&&n.abort("no_shifts_detected")})},Z=null,L=(e,t)=>{let r,i=0,n=0,a=null,o=null,s=null,l=null,d=[],c=()=>{n+=1,s=window.requestAnimationFrame(c)},h=()=>{if(l){let r=d.some(e=>null!==a&&a-e>0&&a-e<=500),n=t(),{isAuthenticated:s}=e;if(r){let t=(0,u.Jx)({name:"scroll_session",pwtStaticContext:e});if(!t)return;let r={surface:n,isAuthenticated:s};if(null===a||null===o||0===i){if(null===a&&null===o)t.error("no_duration",r);else if(null==a)Z=o,t.error("no_start",r);else if(null==o){let e;e=Z&&a-Z<750?"no_end.outside_window":"no_end.single_event",t.error(e,r)}else t.error("no_frames",r)}else{Z=o;let e=o-a,l=e/i;0===l?t.error("zero_value",r):l<0?t.error("negative_value",r):(t.addBinaryAnnotation("surface",n,"STRING"),t.addBinaryAnnotation("isAuthenticated",s,"BOOL"),t.addBinaryAnnotation("duration_ms",e,"I32"),t.addBinaryAnnotation("total_frames_rendered",i,"I16"),t.stop(l))}}else(0,E.A9)("WARN.scroll_session.not_user",{tags:{isAuthenticated:s,surface:n}})}window.cancelAnimationFrame(s),i=0,n=0,d=[],o=null,a=null,l=null},p=({timeStamp:e})=>{r&&clearTimeout(r),r=setTimeout(h,500),null===l?(l=100*Math.random()<10)&&(s=window.requestAnimationFrame(c),a=e):l&&(o=e,i+=n,n=0)},_=({timeStamp:e})=>{d.push(e)};["wheel","pointerdown","keydown"].forEach(e=>{window.addEventListener(e,_,{passive:!0,capture:!0})}),window.addEventListener("scroll",p,{passive:!0}),window.addEventListener("pagehide",()=>{window.removeEventListener("scroll",p),["wheel","pointerdown","keydown"].forEach(e=>{window.removeEventListener(e,_)})})};var M=r(279600),N=r(785893);let F=(0,i.createContext)(null),U=(0,i.createContext)(null),H=()=>{(0,E.A9)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach(e=>{window.performance[e]||(0,E.A9)(`not_supported.window.performance.${e}`)}):(0,E.A9)("not_supported.window.performance"),window.PerformanceObserver||(0,E.A9)("not_supported.window.PerformanceObserer"),(0,l.v)()||(0,E.A9)("not_supported.grid_profiler")},$=()=>window.performance?.now?window.performance.now():null,V=e=>["/advertiser/"].reduce((t,r)=>e.includes(r)||t,!1);function G({children:e,immutableLocation:t,resourceTimingCacheSize:r,routerHistoryAction:l,staticContext:d}){let c=(0,i.useRef)(null),u=(0,i.useRef)(null),p=(0,i.useRef)(t),_=(0,i.useRef)(!0),{path:m,params:g}=(0,n.$B)(),f=(0,i.useRef)(m),b=(0,i.useRef)(g),y=!d.isCachedRender&&(0,a.Z)(d.deviceType);(0,i.useEffect)(()=>{f.current=m},[m]),(0,i.useEffect)(()=>{b.current=g},[g]),(0,i.useEffect)(()=>{if((0,M.X_)({size:r||1e3}),(0,h.UQ)(),H(),_.current=!1,y&&!o.is&&(d.disableScrollExperiment||L(d,()=>(0,s.Ng)(f.current)||f.current||"UNKNOWN_SURFACE"),"Chrome"===d.browserName)){B({staticContext:d,getCurrentRoute:()=>({path:f.current,params:b.current}),getLastNavigationTime:()=>u.current||0});let e=(0,s.e)(f.current);e&&A({pwtStaticContext:d,surface:e,getCurrentRoute:()=>({path:f.current})})}},[]);let v=V(t.pathname)?p.current.pathname!==t.pathname:p.current!==t;if(v){p.current=t,u.current=$();let{current:e}=u;if(!_.current){let t=!c.current;(0,E.A9)("routeStart",{tags:{action:l}}),(0,M.Eg)(t),(0,h.Ux)(t),(0,h.on)(),(0,j.tl)();let{customBufferSize:r,defaultBufferSize:i}=(0,M.LH)();e&&((0,E.A9)("routeStart.customBufferSize",{count:r}),(0,E.A9)("routeStart.defaultBufferSize",{count:i}),c.current={time:e,action:l})}}return(0,N.jsx)(F.Provider,{value:y?d:null,children:(0,N.jsx)(U.Provider,{value:c.current,children:e})})}let W=()=>(0,i.useContext)(U),K=()=>(0,i.useContext)(F)},906623:(e,t,r)=>{"use strict";r.d(t,{E:()=>a,S:()=>n});var i=r(342513);let{Provider:n,useMaybeHook:a}=(0,i.Z)("pwtSurfaceContext")},707671:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(760890);let n=()=>!!window.performance?.timing;var a=r(970126);function o(e){return!!("desktop"!==e||n())&&!!a.Z&&(0,i.v)()}},685679:(e,t,r)=>{"use strict";r.d(t,{KJ:()=>d,Rp:()=>l});let i={merchant_catalogs_data_sources:{id:228,name:"merchant_catalogs_data_sources_user_nav"},merchant_catalogs_listings:{id:230,name:"merchant_catalogs_listings_user_nav"},merchant_catalogs_product_groups:{id:229,name:"merchant_catalogs_product_groups_user_nav"},own_profile:{id:14,name:"own_profile"},own_profile_no_pins:{id:45,name:"own_profile_no_pins"},other_profile:{id:15,name:"other_profile"},other_profile_no_pins:{id:46,name:"other_profile_no_pins"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"}},n={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},own_profile:{id:123,name:"own_profile_page_load"},own_profile_no_pins:{id:125,name:"own_profile_no_pins_page_load"},other_profile:{id:122,name:"other_profile_page_load"},other_profile_no_pins:{id:124,name:"other_profile_no_pins_page_load"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"}}},client_route_push:{unauth:{},auth:{...i,bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},pin_closeup:{id:13,name:"pin_closeup_details"},sterling_audiences:{id:224,name:"sterling_audiences_page_user_nav"},sterling_reporting_details:{id:227,name:"sterling_reporting_details_user_nav"},visual_search:{id:44,name:"visual_search_page_render"}}},client_route_replace:{unauth:{},auth:{...i}}},a={initial_app_load:{auth:{pin_closeup:{product_detail_page:{id:120,name:"product_details_interactive"},product_detail_page_plus:{id:121,name:"product_details_plus_interactive"}}}},client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"},product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}},client_route_replace:{auth:{pin_closeup:{product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}}},o={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701},s=e=>{let{navigationType:t,isAuthenticated:r,segment:i,surface:o}=e,s=r?"auth":"unauth",l=a[t]?.[s]?.[o],d=i&&l&&l[i]||n[t][s][o];return d},l=e=>{if("stopwatch"===e.type)return o[e.name]||null;let t=s(e);return t?t.id:null},d=e=>{if("stopwatch"===e.type)return e.name;let{navigationType:t,isAuthenticated:r,segment:i,surface:n}=e,a=s(e);return a?a.name:`${t}_${r?"auth":"unauth"}_${n}${i?"_"+i:""}`}},939129:(e,t,r)=>{"use strict";r.d(t,{Ng:()=>i,e:()=>n,nw:()=>a});let i=e=>{switch(e){case"/":return"homefeed";case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/pin/:id/visual-search":return"flashlight";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/search/:scope":return"search";case"/ideas/:interest/:id":return"topic";default:return null}},n=e=>{switch(e){case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/ideas/:interest/:id":return"topic";default:return null}},a=e=>{let t=[{pattern:"/",name:"homefeed"},{pattern:"/pin/:id",name:"pin_closeup"},{pattern:"/pin/:id/sent",name:"pin_closeup"},{pattern:"/pin/:id/visual-search",name:"flashlight"},{pattern:"/amp/pin/:id",name:"amp"},{pattern:"/today",name:"today"},{pattern:"/search",name:"search_landing_page"},{pattern:"/search/:scope",name:"search_results"},{pattern:"/notifications",name:"notifications"},{pattern:"/settings",name:"settings_landing_page"},{pattern:"/settings/:tab",name:"settings_tab"},{pattern:"/:username/_created",name:"profile_created_tab"},{pattern:"/:username/_saved",name:"profile_saved_tab"},{pattern:"/:username/:slug",name:"board"},{pattern:"/:username",name:"profile"},{pattern:"/ideas/:interest/:id",name:"topic"}].find(t=>{if(!e)return"pathname_invalid";let r=t.pattern.split("/").filter(e=>""!==e),i=e.split("/").filter(e=>""!==e);if(r.length!==i.length)return!1;for(let e=0;e<r.length;e+=1)if(!r[e].startsWith(":")&&i[e]!==r[e])return!1;return!0});return t?t.name:"unknown"}},608029:(e,t,r)=>{"use strict";r.d(t,{Ex:()=>o,XV:()=>a,v5:()=>n});var i=r(194087);let n=(e,t)=>{i.DQ&&(e.style.outline=`10px solid ${t}`,e.style.outlineOffset="-30px")},a=e=>(t,...r)=>{i.DQ&&console.log("string"==typeof t?`[PWT:${e}] ${t}`:t,...r)},o=e=>t=>{i.jn&&console.log(`[CWV:${e}] ${String(t)}`)}},493538:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(760890),n=r(667294),a=r(107860),o=r(906623),s=r(862536);function l({children:e,isAtEndOfFeed:t,pinData:r,itemCount:l,includeBackgroundImages:d=!1,includeVideos:c=!1,includeSections:u=!1}){let h=s.N5()?.isAuthenticated;return h||(u=!0),(0,i.Z)({pinData:r,isAtEndOfFeed:t,includeBackgroundImages:d,includeVideos:c,includeSections:u}),!function(e){let t=(0,o.E)(),r=(0,n.useRef)(null);(0,n.useEffect)(()=>{e!==r.current&&(r.current=e,t&&(0,a.ZP)(a.at))},[!!t,e])}(l),e}},367180:(e,t,r)=>{"use strict";r.d(t,{F9:()=>h,LM:()=>d,VZ:()=>a,cQ:()=>p,rZ:()=>o});var i=r(769286),n=r(297329);let a=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,o=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,s=({top:e,height:t},{foldY:r,pageYOffset:i})=>{let n=e+i;if(n>=r)return!1;let a=Math.min(t,r-n);return a>.5*t||a>.2*r},l=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let t=(e.style||{}).backgroundImage||"",r=t.match(/^url\(["'](.*)["']\)$/);return r&&r[1]||null},d=()=>document.querySelector?document.querySelectorAll(i.wc).length:((0,n.H)("missing_document_query_selector"),0),c=()=>{if(!document.querySelector)return(0,n.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(i.wc);return e[e.length-1]||null},u=(e,t)=>{let r=o(e);if(!r)return(0,n.H)("missing_client_rect"),!1;if(r.width<100&&r.height<100){let t=e instanceof HTMLImageElement;if(t)return!1;let r=l(e);if(r?.endsWith("svg"))return!1}return s(r,t)},h=()=>{let e=c();if(!e)return!1;let t=window.innerHeight||0,r=window.pageYOffset||0,i=e.getBoundingClientRect().top+r>=t;return i},p=(e,t,r)=>{if(!document.querySelector)return(0,n.H)("missing_document_query_selector"),[];let a={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},o=[i.Wf,...e?[i.fF]:[],...t?[i.$N]:[]].join(","),s=[...document.querySelectorAll(o)];if(r){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{let r=[...e.children];!r.length&&e.style.backgroundImage?s.push(e):r.length&&r.forEach(e=>{t(e)})};e.forEach(e=>{t(e)})}return s.reduce((e,r)=>{if((r instanceof HTMLImageElement||r instanceof HTMLDivElement||r instanceof HTMLVideoElement&&t)&&u(r,a)){let t=l(r);if(t){let i=(t||"").replace(/.*\//,"");return e.concat([{element:r,fileName:i}])}}return e},[])}},769286:(e,t,r)=>{"use strict";r.d(t,{$N:()=>d,Kb:()=>i,Wf:()=>s,fF:()=>l,wc:()=>o});let i="pwt-grid-item",n=`div[data-test-id="${i}"]`,a=['div[data-grid-item="true"]',"div.Grid__Item",n],o=a.join(","),s=a.map(e=>`${e} img`).join(","),l=a.map(e=>`${e} div[style*=background-image]`).join(","),d=a.map(e=>`${e} video`).join(",")},760890:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b,v:()=>p});var i=r(667294),n=r(685679),a=r(608029),o=r(367180),s=r(297329),l=r(107860),d=r(906623),c=r(279600),u=r(748058);let h=(0,a.XV)("GridProfiler"),p=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,o.VZ)(),_=e=>"LAYOUT"===e.status&&500||"TIMING"===e.status&&100||null,m=(e,t)=>{if(!t){let t=(0,o.LM)();if(t===e)return h("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,o.F9)())return h("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}},g=(e,t)=>{let r=0,i=0,n=0,a=0,o=0;return e=e.filter(e=>"pin"===e.type),t.forEach((t,s)=>{let l;let d=t.fileName.split(".")[0];l=e[s],d!==l?.image_signature&&(l=e.find(e=>d===e?.image_signature)),void 0===l?o+=1:l.is_promoted||l.recommendation_reason?.reason==="PROMOTED_PIN"||l?.promoter?.length?n+=1:null!==l.story_pin_data_id&&void 0!==l.story_pin_data_id?r+=1:l?.videos?.video_list?i+=1:a+=1}),{storyPinCount:r,videoCount:i,adCount:n,imageCount:a,unknownCount:o}},f=(e,t)=>{let r=()=>{window.removeEventListener(e,r),t()};return window.addEventListener(e,r),()=>window.removeEventListener(e,r)};function b({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:r,includeVideos:p=!1,includeSections:b}){let y=(0,d.E)(),v=y?.getId(),x=y?.setVisuallyCompleteResult,[w,P]=(0,i.useState)({status:"DISABLED"});(0,i.useEffect)(()=>{x?P({status:"LAYOUT",failedCount:0,numOfItemsChecked:0}):P({status:"DISABLED"})},[v,x]),(0,i.useEffect)(()=>{if("DISABLED"!==w.status&&(0,l.ZP)(`GridVisuallyCompleteProfiler_${w.status}`),h("new status",w),"LAYOUT"===w.status){let e=f("scroll",()=>{(0,l.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[w.status]),(0,u.Z)(()=>{if(!y||!x)return;let{abort:i,getMetricId:l}=y,d=l();switch(w.status){case"LAYOUT":{let t=m(w.numOfItemsChecked,e);t.complete?P({status:"TIMING",failedCount:0,pinElements:(0,o.cQ)(r,p,b)}):500*w.failedCount>6e4?((0,s.A9)(`images.${(0,n.KJ)(d)}.visuallyComplete.maxLayoutAttempt`),i("visuallyComplete_layoutTimeout"),P({status:"DISABLED"})):P({...w,failedCount:w.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,c.Cg)(),r=w.pinElements.length,o=[],l=0,u=0,p=0;if(w.pinElements.forEach(({element:t,fileName:r})=>{let i=e.find(e=>e.name.endsWith(r));i?i.responseEnd?(o.push(i),(0,a.v5)(t,"green")):(p+=1,(0,a.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(u+=1,(0,a.v5)(t,"red")):(l+=1,(0,a.v5)(t,"greenyellow"))}),l||p)100*w.failedCount>6e4?((0,s.A9)(`images.${(0,n.KJ)(d)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:r,incompleteCount:l,noTimingCount:u,noTimingResponseEndCount:p}}),i("visuallyComplete_timingTimeout"),P({status:"DISABLED"})):P({...w,failedCount:w.failedCount+1});else{if(h(`All ${o.length} images are fetched`),t&&t.length){let e=g(t,w.pinElements);Object.entries(e).forEach(([e,t])=>{y.addBinaryAnnotation(e,t,"I16")}),(0,s.A9)(`${(0,n.KJ)(d)}.pinTypes`,{tags:e})}x({imageTimings:o}),P({status:"DISABLED"}),(0,s.A9)(`images.${(0,n.KJ)(d)}.visuallyComplete.complete`,{tags:{totalImageCount:r,noTimingCount:u}})}}}},_(w))}},297329:(e,t,r)=>{"use strict";r.d(t,{A9:()=>p,DG:()=>u,H:()=>_,S$:()=>m,iF:()=>h});var i=r(431405),n=r(194087),a=r(608029),o=r(554786),s=r(953565);let l=(0,a.XV)("logPwtStats"),d=null,c=!0;function u(e){let{userAgent:t,isBot:r,isSocialBot:n,isAuthenticated:a}=e;d={browserName:t.browserName,browserVersion:t.browserVersion,deviceType:(0,o.Mq)(e),isAuthenticated:a,isBot:r,isSocialBot:n,isModernBundleCapable:(0,i.Z)({browserName:t.browserName,browserType:t.browserType,browserVersion:t.browserVersion,isBot:r})}}let h=e=>{d&&(d.historyAction=e)},p=(e,t={sampleRate:1},r=!0)=>{let i=n.DQ?1:t.sampleRate;if(!d){l("pwt.metrics_quality.no_context"),(0,s.nP)("pwt.metrics_quality.no_context",{sampleRate:i,tags:{eventName:e}});return}let{browserName:a,browserVersion:o,deviceType:c,isBot:u,isSocialBot:h}=d,p=`pwt.${h&&"socialBot"||u&&"bot"||"nonbot"}.metrics_quality.${c}.${e}`,_={...t.tags||{},browserName:a,browserVersion:o?.split(".")[0]||"0"},m="number"==typeof t.count?t.count:1;r&&(l(`${p}: ${m}`),t.tags&&l(Object.entries(t.tags))),n.is||(0,s.QX)(p,m,{sampleRate:i,tags:_})},_=(e,t)=>p(`ERROR.${t?.action?t.action+".":""}${e}`,{tags:t}),m=({appLoadName:e,clientNavName:t},r)=>{if(d){let i="APP_VOLUME.";c?(p(i.concat(e),{tags:{browserSupportsPwtProfiler:!!r}}),c=!1):"PUSH"===d.historyAction&&p(i.concat(t),{tags:{browserSupportsPwtProfiler:!!r}})}else(0,s.nP)("pwt.metrics_quality.no_context",{sampleRate:1,tags:{eventName:e.concat(`.${t}`)}})}},107860:(e,t,r)=>{"use strict";r.d(t,{Ao:()=>u,BA:()=>h,L8:()=>_,ZP:()=>m,at:()=>n,gQ:()=>c,tl:()=>p});var i=r(970126);let n="masonryPagination",a={},o=e=>` ${e}`,s=(e,t)=>{let r=o(t);e.mark(r)},l=(e,t,r,i)=>{let n=o(t);e.measure(n,r,i)},d=(e,t)=>{let r=o(t);e.clearMarks(r),e.clearMeasures(r)},c=()=>{let e={};return Object.keys(a).forEach(t=>{(a[t]||[]).slice(0,3).forEach((r,i)=>{let n=i?`${t}_${i+1}`:t;e[n]=r})}),e},u=(e,t)=>(a[e]||[]).filter(e=>e<t).length,h=(e,t)=>u(e,t)>0,p=()=>{i.Z&&Object.keys(a).forEach(e=>d(i.Z,e)),a={}},_=e=>{i.Z&&(a[e]=(a[e]||[]).concat([i.Z.now()]),l(i.Z,e))},m=e=>{i.Z&&(a[e]=(a[e]||[]).concat([i.Z.now()]),s(i.Z,e))}},253926:(e,t,r)=>{"use strict";r.d(t,{cC:()=>a,jy:()=>n,qr:()=>s,sk:()=>o});let i=e=>"number"==typeof e?Math.round(e):e,n=e=>({type:"I16",value:i(e)}),a=e=>({type:"I32",value:i(e)}),o=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},309300:(e,t,r)=>{"use strict";r.d(t,{D3:()=>a,Hd:()=>l,jh:()=>s,rX:()=>o});var i=r(383340),n=r(302234);let a=e=>({...(0,i.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),o=()=>{let{largestContentfulPaint:e}=(0,n.v2)();return{largestContentfulPaint:e||0}},s=(e,t)=>Object.keys(t).reduce((r,i)=>({...r,[`${e}${i}`]:t[i]}),{}),l=(e,t)=>Object.keys(e).reduce((r,i)=>t.includes(i)?{...r,[i]:e[i]}:r,Object.freeze({}))},521525:(e,t,r)=>{"use strict";r.d(t,{ng:()=>b,rA:()=>v});var i=r(685679),n=r(107860),a=r(253926),o=r(302234),s=r(279600),l=r(788389);let d=(e,t)=>(e||[]).reduce((e,r)=>({...e,[`experiment.${r}`]:(0,a.sk)(t(r))}),{}),c=(e,t)=>"number"==typeof t?e(t):null,u=e=>Number(Number(e/1024).toFixed(3)),h=e=>e.reduce((e,t)=>e+t,0),p=(e,t)=>Object.keys(t).reduce((r,i)=>({...r,[`${e}${i}`]:t[i]}),{}),_=e=>{if(!e.length)return{};let t=e.map(({startTime:e,requestStart:t,responseStart:r,responseEnd:i})=>{let n=t||e;return{startTime:e,requestStart:n,responseStart:r||n,responseEnd:i}}),r=h(t.map(e=>e.requestStart-e.startTime)),i=h(t.map(e=>e.responseStart-e.requestStart)),n=h(t.map(e=>e.responseEnd-e.responseStart)),o=r+i+n,s=h(e.map(e=>e.decodedBodySize||0));return{decodedBodySize:(0,a.cC)(u(s)),"duration.all":(0,a.cC)(o),"duration.requestStartToResponseStart":(0,a.cC)(i),"duration.responseStartToResponseEnd":(0,a.cC)(n),"duration.startToRequestStart":(0,a.cC)(r)}},m=e=>{let t=e.filter(e=>!!e.responseEnd);return{...e.length?{..._(t),"count.completed":(0,a.cC)(t.length)}:{},"count.all":(0,a.cC)(e.length)}},g=e=>{let t=["timeSecond1","timeSecond2","timeSecond3"],r={timeSecond1:{start:0,end:0,count:0},timeSecond2:{start:0,end:0,count:0},timeSecond3:{start:0,end:0,count:0}},i={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};if(e.length){let{requestStart:n,startTime:a}=e[0].timing,o=n||a;r.timeSecond1.start=o,r.timeSecond1.end=o+1e3,r.timeSecond2.start=o+1e3,r.timeSecond2.end=o+2e3,r.timeSecond3.start=o+2e3,r.timeSecond3.end=o+3e3,e.forEach(e=>{let{timing:n}=e;i[e.category]=i[e.category].concat([n]),e.isDeferred&&(i.script_deferred=i.script_deferred.concat([n])),e.isExternal&&(i.external=i.external.concat([n])),e.isVisuallyCompleteRequired&&(i.visually_complete=i.visually_complete.concat([n]));let{requestStart:a,startTime:o,responseEnd:s}=n,l=a||o;t.forEach(e=>{let{start:t,end:i}=r[e];l>=t&&l<i?r[e].count+=1:l<t&&s>t&&(r[e].count+=1)})})}let n={...p("concurrentRequests.",Object.keys(r).reduce((e,t)=>e={...e,[t]:(0,a.cC)(r[t].count)},{}))},o={...Object.keys(i).reduce((e,t)=>({...e,...p(`resource.${t}.`,m(i[t]))}),n)};return o},f=(e,t,r)=>{let n;let{devicePixelRatio:o,navigator:d,innerWidth:u,innerHeight:h,performance:p}=window,{deviceMemory:_,hardwareConcurrency:m,platform:g,userAgent:f,connection:b}=d,{memory:y}=p,{appType:v,appVersion:x,browserName:w,browserVersion:P,deviceType:S,isAppShell:C,isAuthenticated:A,isBot:E,isSocialBot:j,locale:T,osName:I,stageName:k,unauthId:D}=t,R="desktop"===S?v||5:v||6,{navigationType:z}=e,O=null;if("initial_app_load"===z){n=1;let e=l.Z("navigation")[0]?.transferSize;O=e?parseFloat((.001*e).toFixed(1)):null}else n=4;let B={"app.type":(0,a.jy)(R),"app.version":(0,a.sk)(x),"browser.name":(0,a.sk)(w),"browser.version":(0,a.sk)(P),"cpu.speed":(0,a.jy)(m),"device.memory":(0,a.jy)(_),"device.type":(0,a.jy)(0),"device.typeName":(0,a.sk)(S),"device.version":(0,a.sk)("unknown"),"pwt.cause":(0,a.jy)(n),"net.effectiveType":(0,a.sk)(b?.effectiveType||null),"net.downlink":(0,a.cC)(c(e=>10*Math.round(e/10),b?.downlink)),"net.downlinkMax":(0,a.cC)(c(e=>10*Math.round(e/10),b?.downlinkMax)),"net.rtt":(0,a.cC)(c(e=>10*Math.round(e/10),b?.rtt)),"net.speed":(0,a.cC)((0,s.Hv)(r,!1)),"pwt.result":(0,a.jy)(1),"view.type":(0,a.cC)(0),"viewport.height":(0,a.cC)(h||0),"viewport.width":(0,a.cC)(u||0),devicePixelRatio:(0,a.cC)(o||0),isAppShell:(0,a.qr)(C),isAuthenticated:(0,a.qr)(A),isBot:(0,a.qr)(E),isSocialBot:(0,a.qr)(j),locale:(0,a.sk)(T),osName:(0,a.sk)(I),...null!==O&&{htmlResponseSize:(0,a.cC)(O)},nextHopProtocol:(0,a.sk)(l.Z("navigation")[0]?.nextHopProtocol||null),platform:(0,a.sk)(g||null),profilerVersion:(0,a.sk)("3"),pwtActionName:(0,a.jy)((0,i.Rp)(e)),stageName:(0,a.sk)(k),userAgent:(0,a.sk)(f),usedJSHeapSize:(0,a.cC)(y?.usedJSHeapSize||0),totalJSHeapSize:(0,a.cC)(y?.totalJSHeapSize||0),jsHeapSizeLimit:(0,a.cC)(y?.jsHeapSizeLimit||0)};return A?B:{...B,unauthId:(0,a.sk)(D)}},b=({annotateExperiments:e,metricId:t,pwtStaticContext:r,binaryAnnotations:i={},performanceResourceTimings:n=[]})=>({...d(e,r.getExperimentGroup),...f(t,r,n),...i,stopwatchVersion:(0,a.jy)(1)}),y=(e,t)=>{let{navigator:r}=window,{serviceWorker:i}=r,{surface:s,navigationType:l,isAuthenticated:d}=e,{cumulativeLayoutShiftScore:c,longTaskDurations:u}=(0,o.v2)();return{...u.length?{"longTask.count":(0,a.cC)(u.length),"longTask.maxDuration":(0,a.cC)(Math.max(...u)),"longTask.totalDuration":(0,a.cC)(h(u))}:{},cumulativeLayoutShiftScore:(0,a.cC)(100*c),"masonry.paginationMarkCount":(0,a.cC)((0,n.Ao)(n.at,t)),"metricId.isAuthenticated":(0,a.qr)(d),"metricId.navigationType":(0,a.sk)(l),"metricId.surface":(0,a.sk)(s),resourceBufferClearedCount:(0,a.jy)((0,n.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,a.qr)((0,n.BA)("scrollDuringLayout",t)),serviceWorker:(0,a.qr)(i?!!i.controller:null),serviceWorkerState:(0,a.sk)(i?.controller?.state||null)}},v=({annotateExperiments:e,binaryAnnotations:t={},entries:r,metricId:i,performanceResources:n,pwtEndTime:a,pwtStaticContext:o})=>({...t,...g(n),...d(e,o.getExperimentGroup),...f(i,o,r),...y(i,a)})},819281:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(970126);let n=()=>{let[e]=i.Z?i.Z.getEntriesByType("navigation"):[];return e}},793250:(e,t,r)=>{"use strict";r.d(t,{i:()=>i,p:()=>o});let i=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{let t=e.split("."),r=(t.length>1&&t.pop()||"").toLowerCase();if(["js","mjs"].includes(r))return"script";if("css"===r)return"css";if(["mp4","m4v","mov","ts","m3u8"].includes(r))return"video";if(["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(r))return"image";return"other"}}},n=e=>{let t=e.replace(RegExp(`^${window.location.origin||""}`),""),r=document&&document.querySelector(`script[src='${t}']`);return!!r&&r.hasAttribute("defer")},a=e=>["pinimg","pinterest","pinterdev"].every(t=>!e.includes(`${t}`)),o=(e,t)=>{let r=i(e),{name:o}=e;return{category:r,isDeferred:"script"===r&&n(o),isExternal:a(o),isVisuallyCompleteRequired:"image"===r&&t.includes(o),timing:e}}},363404:(e,t,r)=>{"use strict";r.d(t,{Z:()=>C});var i=r(120889),n=r(194087),a=r(685679),o=r(608029),s=r(297329);let l=null,d=(e,t)=>((l=l||{results:[],context:t}).results.push(e),l);var c=r(253926),u=r(819281),h=r(404373),p=r(788389);let _=(e,t)=>Object.keys(e).reduce((r,i)=>{let n=e[i];return n?{...r,[i]:{timestamp:t+n}}:r},{}),m=e=>Object.keys(e).reduce((t,r)=>{let i=e[r];if(!i)return t;let{value:n,type:a}=i;return null==n?t:t.concat({name:r,value:n,annotation_type:a})},[]),g=({span:e,timeOrigin:t})=>({id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:_(e.annotationMap,t),binary_annotations:m(e.binaryAnnotationMap)}),f=(e,{startTime:t,endTime:r,annotationMap:i,binaryAnnotationMap:n,parentId:a,traceId:o})=>({name:`pwt/${e}`,startTime:t,endTime:r,annotationMap:i,binaryAnnotationMap:n,parentId:a,id:o}),b=({annotations:e})=>e.reduce((e,{key:t,timestamp:r})=>({...e,[`server_${t}`]:{timestamp:r}}),{}),y=(e,t)=>({...e,annotations:{...b(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),v=(e,t,r)=>{let i=(0,u.Z)(),n=i?.responseEnd;return n?y(g({span:{name:"html",startTime:0,endTime:i?.responseEnd||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,c.sk)(p.Z("navigation")[0]?.nextHopProtocol||null)},id:e.server_span_id||(0,h.Z)(),parentId:t},timeOrigin:r}),e):null},x=({traceId:e,actionName:t,result:r,timeOrigin:i,serverDataToJoin:n})=>{let a=g({span:f(t,r),timeOrigin:i}),o=null;return n&&(a=y(a,n),o=v(n,e,i)),{trace_id:e,spans:[a,...o?[o]:[],...r.spans.map(e=>g({span:e,timeOrigin:i}))]}},w=e=>({debugTrace:n.eD,locale:e.locale,stageName:e.stageName}),P=(0,o.XV)("reportResult"),S=()=>window.performance?.now?Date.now()-window.performance.now():"unknown";function C({metricId:e,pwtStaticContext:t,result:r,isAuth:o}){let{serverData:l}=t,c=(0,a.KJ)(e),u=`${r.type}.${c}`,h=`${r.type}.sampled.${c}`,p=void 0!==o&&{tags:{isAuth:o}}||void 0;if((0,s.A9)(r.reason?u.concat(`.${r.reason}`):u,p),(0,s.A9)(r.reason?h.concat(`.${r.reason}`):h,{...p,sampleRate:.5}),"COMPLETE"!==r.type){P(`Abort metric ${c}`,r);return}let _=S();if("unknown"===_){P(`Unable to convert to absolute times for ${c} due to missing time origin`),(0,s.A9)(`missingTimeOrigin.${c}`,p);return}if(n.is&&(window.PWT_LAB_DATA=d(r,t)),r.spans.length&&(r.spans=r.spans.map(e=>(e.parentId||e.id===r.traceId||"network_resources"===e.name||(e.parentId=r.traceId),e))),!n.is){let n=e.navigationType&&"initial_app_load"===e.navigationType,{traceId:a}=r,o=x({traceId:a,actionName:c,result:r,timeOrigin:_,serverDataToJoin:n&&l||null});(0,i.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(o),report_context:JSON.stringify(w(t))}}),P(`PinTrace ${c} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${a.toString(16)}`,{duration:r.endTime-r.startTime,result:r,pwtStaticContext:t})}}},383340:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},840387:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(253926),n=r(383340),a=r(404373);let o=({category:e,isDeferred:t,isExternal:r})=>[e].concat(t?["deferred"]:[]).concat(r?["external"]:[]).join("_");function s(e,t){let{category:r,timing:s,isDeferred:l,isExternal:d,isVisuallyCompleteRequired:c}=e;return s.responseEnd&&("image"!==r||c)?{name:o(e),id:(0,a.Z)(),parentId:t,startTime:s.startTime,endTime:s.responseEnd,annotationMap:(0,n.Z)(s),binaryAnnotationMap:{category:(0,i.sk)(r),decodedBodySize:(0,i.cC)(s.decodedBodySize||0),initiatorType:(0,i.sk)(s.initiatorType),isDeferred:(0,i.qr)(l),isExternal:(0,i.qr)(d),name:(0,i.sk)(s.name),nextHopProtocol:(0,i.sk)(s.nextHopProtocol),transferSize:(0,i.cC)(s.transferSize||0)}}:null}},643778:(e,t,r)=>{"use strict";r.d(t,{ku:()=>j,Jx:()=>C,PY:()=>E});var i=r(608029),n=r(297329),a=r(107860),o=r(309300),s=r(521525),l=r(819281),d=r(302234);let c=()=>(0,d.PJ)().reduce((e,{identifier:t,loadTime:r,renderTime:i})=>e[`${t}_loadTime`]?e[`${t}_dupe_loadTime`]?{...e,[`${t}_dupe_loadTime`]:r,[`${t}_dupe_renderTime`]:i}:e:{...e,[`${t}_loadTime`]:r,[`${t}_renderTime`]:i},Object.freeze({}));var u=r(383340),h=r(146935),p=r(279600);let _=e=>{let t=(0,p.y0)();return e.reduce((e,{name:r,match:i})=>t.filter(e=>i(e)).slice(0,2).reduce((e,t,i)=>({...e,...(0,o.jh)(`${r}${i?"_dupe1":""}_`,(0,u.Z)(t))}),e),Object.freeze({}))},m=e=>{if("pin_closeup"===e){let e=(0,h.Z)();return _([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}return{}};var g=r(793250),f=r(363404),b=r(840387),y=r(396596),v=r(59648),x=r(404373);let w=(0,i.XV)("LightStopwatch"),P=()=>{let e=[],t=null;return window.PerformanceObserver&&(t=(0,v.Z)({entryTypes:["resource"]},t=>{(e=e.concat(t.getEntries())).length>1e3&&(e=e.slice(-1e3))})),{get:()=>e,disconnect:()=>{t&&t.disconnect()}}},S={},C=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:r,name:i,pwtStaticContext:d})=>{let u=P(),h=(0,y.Z)(d.fullPath),p=!0,_={...h?{pagePath:{value:h,type:"STRING"}}:{}};(0,n.A9)(`TIMING.${i}`,{tags:{isAuth:d.isAuthenticated}});let v={type:"stopwatch",name:i,navigationType:"initial_app_load"},C={abort:e=>{if(!p){(0,n.H)("duplicate_abort_action",{action:i});return}p=!1,(0,f.Z)({metricId:v,pwtStaticContext:d,result:{type:"ABORT",reason:e}})},error:(e,t)=>{let r={...t,action:i};if(!p){(0,n.H)("duplicate_error_action",r);return}e&&(0,n.H)(e,r),u&&u.disconnect(),p=!1},stop:h=>{if(!p){(0,n.H)("duplicate_stop_action",{action:i});return}p=!1,u.disconnect();let y=(0,x.Z)(),w=(0,l.Z)(),P=u.get(),S={type:"COMPLETE",traceId:(0,x.Z)(),startTime:0,endTime:h,spans:[{name:"network_resources",id:y,startTime:0,endTime:h,annotationMap:{},binaryAnnotationMap:{},parentId:null},...P.map(e=>(0,b.Z)((0,g.p)(e,[]),y)).filter(Boolean)],annotationMap:{...(0,o.jh)("resource_",r?m(r):{}),...(0,o.jh)("element_",c()),...(0,o.jh)("mark_",t&&t.length?(0,o.Hd)((0,a.gQ)(),t):{}),...(0,o.jh)("browser_",w?(0,o.D3)(w):{})},binaryAnnotationMap:(0,s.ng)({annotateExperiments:e,metricId:v,pwtStaticContext:d,performanceResourceTimings:P,binaryAnnotations:_})};(0,f.Z)({metricId:v,pwtStaticContext:d,result:S,isAuth:d.isAuthenticated})},addBinaryAnnotation:(e,t,r)=>{w(`adding binary annotation {${e}: ${String(t)}}`),_={..._,[e]:{value:t,type:r}}}};return S[i]=C,C},A=e=>S[e],E=e=>!!A(e),j=({stopwatchName:e,binaryAnnotationName:t,value:r,annotationType:i})=>{let n=A(e);n&&n.addBinaryAnnotation(t,r,i)}},865611:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=e=>e<100?"0-100ms":e<250?"100-250ms":e<500?"250-500ms":e<1e3?"500-1000ms":e<2e3?"1000-2000ms":e<3e3?"2000-3000ms":e<4e3?"3000-4000ms":e<5e3?"4000-5000ms":e<6e3?"5000-6000ms":e<7e3?"6000-7000ms":e<8e3?"7000-8000ms":e<9e3?"8000-9000ms":e<1e4?"9000-10000ms":e<15e3?"10000-15000ms":e<2e4?"15000-20000ms":e<25e3?"20000-25000ms":"25000+ms"},302234:(e,t,r)=>{"use strict";let i;r.d(t,{Bn:()=>_,Kj:()=>p,PJ:()=>d,UQ:()=>g,Ux:()=>c,on:()=>s,v2:()=>u});var n=r(987313),a=r(59648);let o={cumulativeLayoutShiftScore:0,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},s=()=>{o.longTaskDurations=[]},l=(0,n.Z)(()=>o.elementTimings),d=()=>l.get(),c=e=>{e&&l.save(),o.elementTimings=[]},u=()=>o,h=0,p=()=>h,_=()=>i,m=e=>e.reduce((e,{identifier:t,loadTime:r,renderTime:i})=>e.concat("string"==typeof t&&"number"==typeof r&&"number"==typeof i?[{identifier:t,loadTime:r,renderTime:i}]:[]),[]),g=()=>{(0,a.Z)({type:"element",buffered:!0},e=>{o.elementTimings=o.elementTimings.concat(m(e.getEntries()))}),(0,a.Z)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>o.longTaskDurations.push(e.duration))},()=>s()),(0,a.Z)({type:"largest-contentful-paint",buffered:!0},e=>{let t=e.getEntries(),r=t.length,n=t[r-1];n&&(h=r,o.largestContentfulPaint=n.renderTime||n.loadTime||null,i=n.renderTime||n.loadTime||null)}),(0,a.Z)({type:"layout-shift",buffered:!0},e=>{let t=e.getEntries();t.forEach(e=>{e.hadRecentInput||(o.cumulativeLayoutShiftScore+=e.value)})})}},371626:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";case"AU":return"AU";case"IN":return"IN";default:return"OTHER"}}},987313:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},663678:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=e=>{let{deviceType:t,isBot:r,isSocialBot:i}=e;return`coreWebVitalsLite.v1.${i&&"socialBot"||r&&"bot"||"nonbot"}.${t}`}},396596:(e,t,r)=>{"use strict";function i(e){let t=e.split("?")[0]??"";if(!t.startsWith("/pin/"))return null;let r=t.split("/")[3];return r?"feedback"===r||"sent"===r?r:null:"default"}r.d(t,{Z:()=>i})},59648:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=(e,t,r)=>{if(!window.PerformanceObserver)return null;try{let i=new window.PerformanceObserver(t);return i.observe(e),window.addEventListener("beforeunload",()=>{i.disconnect()}),r&&window.addEventListener("popstate",()=>{r()}),i}catch(e){return null}}},421715:(e,t,r)=>{"use strict";r.d(t,{V:()=>a,b:()=>n});let i=e=>e?e.tagName||null!==e.parentElement?"HTML"===e.tagName&&null===e.parentElement?"HTML":"BODY"===e.tagName&&e.parentElement?.tagName==="HTML"?"BODY":e.dataset.layoutShiftBoundaryID||e.dataset.testId?e.dataset.layoutShiftBoundaryID||e.dataset.testId:e.parentElement?i(e.parentElement):"NOT_A_NODE":"DOCUMENT":"NODE_REMOVED",n=e=>{let t=e.attribution.processedEventEntries.find(t=>t.startTime===e.attribution.interactionTime),r=t?t.target:null;return r?i(r):"NODE_REMOVED"},a=e=>e?i(e):"NODE_REMOVED"},146935:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n,f:()=>i});let i="closeupImage",n=()=>{if(!document.querySelector)return null;let e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},404373:(e,t,r)=>{"use strict";function i(){let e="";for(let t=0;t<15;t+=1){let t=Math.floor(10*Math.random());e+="0123456789"[t]}return Number(e)}r.d(t,{Z:()=>i})},279600:(e,t,r)=>{"use strict";let i;r.d(t,{Cg:()=>m,Eg:()=>f,Hv:()=>v,LH:()=>b,MM:()=>x,X_:()=>h,y0:()=>g});var n=r(194087),a=r(297329),o=r(107860),s=r(793250),l=r(987313),d=r(59648),c=r(788389);function u(){window.performance&&window.performance.clearResourceTimings&&((0,o.ZP)("resourceBufferCleared"),n.DQ&&console.info("Warning: Clearing resource timings in default buffer."),(0,a.A9)("resourceBufferSize",{count:(0,c.Z)("resource").length}),window.performance.clearResourceTimings())}let h=({size:e})=>{if(window.performance){window.PerformanceObserver?(i=(0,c.Z)("resource"),(0,d.Z)({entryTypes:["resource"]},t=>{(i=(i||[]).concat(t.getEntries())).length>e&&(i=i.slice(-e))})):(window.addEventListener("popstate",()=>{let t=(0,c.Z)("resource").length;t>e&&u()}),window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(e));try{window.performance.onresourcetimingbufferfull=()=>{i||u()}}catch(e){}}},p=()=>i||(0,c.Z)("resource"),_=(0,l.Z)(p),m=p,g=()=>_.get(),f=e=>{e&&_.save(),i&&((0,a.A9)("customBufferSize",{count:i.length}),i=[]),u()},b=()=>({customBufferSize:i?i.length:0,defaultBufferSize:(0,c.Z)("resource").length}),y=e=>e.length?e.reduce((e,t)=>e+t,0)/e.length:null,v=(e,t=!0)=>{let r=0,i=0,n=y(e.filter(e=>{if(t){let t="image"===(0,s.i)(e);return!!t&&(e.responseEnd||(r+=1),e.transferSize||(i+=1),!!e.responseEnd&&!!e.transferSize)}return!!e.responseEnd&&!!e.transferSize}).map(e=>{let t=8*(e.transferSize||0),r=(e.responseEnd-e.responseStart)/1e3;return t/r/1e3}));return t&&(r>0&&(0,a.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:r}},!1),i>0&&(0,a.A9)("images.downloadSpeed.transferSize",{tags:{count:i}},!1)),n},x=e=>{if(!e)return"unknown";let t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},788389:(e,t,r)=>{"use strict";function i(e){return window?.performance?.getEntriesByType&&window.performance.getEntriesByType(e)||[]}r.d(t,{Z:()=>i})},970126:(e,t,r)=>{"use strict";var i;r.d(t,{Z:()=>n});let n=(i=window.performance)&&i.clearMarks&&i.clearMeasures&&i.clearResourceTimings&&i.getEntries&&i.getEntriesByName&&i.getEntriesByType&&i.mark&&i.measure&&i.now&&i.setResourceTimingBufferSize?i:null},466385:(e,t,r)=>{"use strict";function i(e,t,r){let i=[...e],n=i.splice(t,1)[0];return i.splice(r,0,n),i}r.d(t,{Z:()=>i})},608516:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(14583);let n=i.Z},137023:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(667294),n=r(124946);function a({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:r,resourceName:a,resourceOptions:o,value:s}){let l=(0,n.Z)({allowSearchOnMount:e,resourceName:a,resourceOptions:o,value:s});return(0,i.useEffect)(()=>{l?.length&&r(l)},[l]),t||null}},416049:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=2},124946:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(667294),n=r(216167),a=r(705318);function o({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:r={},value:o}){let s=(0,i.useRef)(!1),l=(0,i.useRef)({}),[d,c]=(0,i.useState)([]),u=function({resourceName:e,resourceOptions:t}){let r=(0,i.useRef)();return r.current||(r.current=function({resourceName:e,resourceOptions:t}){let r={...t,count:"count"in t?t.count:5},i=n.Z.create(e,r),o=new a.Z,s=()=>{i.abort()},l=async(e,t)=>{if(i.isCalling()){let r=i.options?.term,n=i.options?.pin_scope;if(e===r&&t===n)return;s()}let{bookmarks:r,...n}=i.options||{};i.options={...n,term:e,pin_scope:t};let a=await i.callGet({showError:!1}),{data:l}=a.resource_response,d=l?.items,c=l?.hint||{};return o.set(`${t}-${e}`,{hint:c,items:d}),{term:e,items:d,hint:c}};return async function(e,t){let r=o.get(`${t}-${e}`);if(r){let{items:t}=r;if(t&&t.length){s();let{hint:i}=r;return{hint:i,items:t,term:e}}}return e.length>=0?l(e,t):{hint:{},items:[],term:e}}}({resourceName:e,resourceOptions:t})),r.current}({resourceName:t,resourceOptions:r}),h=r.pin_scope||"pins",p=`${h}-${o}`;return(0,i.useEffect)(()=>{(async()=>{if(null!=o&&(e||s.current)){if(p in l.current)c(l.current[p]);else try{let e=await u(o,h);if(e){let{items:t}=e;l.current[p]=t,c(t)}}catch(e){if("Resource call aborted"===e)return;throw e}}s.current||(s.current=!0)})()},[o,h,p]),d}},782005:(e,t,r)=>{"use strict";r.d(t,{Hd:()=>d,_R:()=>s,gi:()=>a,lw:()=>i,oD:()=>n,wF:()=>l,zh:()=>o});let i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins",MY_CONTENT:"my_content"},n=e=>{let t=Object.values(i).find(t=>t===e);return t??void 0},a=e=>{switch(e){case i.PINS:return 0;case i.PINS_MINE:return null;case i.PINS_BUYABLE:return 1;case i.PINS_VIDEO:return 2;case i.BOARDS:return 3;case i.USERS:return 4;default:return null}},o=e=>{switch(e){case 0:return i.PINS;case 1:return i.PINS_BUYABLE;case 2:return i.PINS_VIDEO;case 3:return i.BOARDS;case 4:return i.USERS;default:return null}},s=e=>{switch(e){case i.PINS_MINE:case i.MY_CONTENT:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.BOARDS:return 44;case i.USERS:return 45;case i.PINS:default:return 43}},l=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:case i.MY_CONTENT:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}},d=(e,t)=>{if(t)switch(e){case i.USERS:return 1000392;case i.PINS_BUYABLE:return 1000391;case i.PINS:default:return 29}switch(e){case i.USERS:return 1000432;case i.PINS_BUYABLE:return 1000433;case i.PINS:default:return 1000269}}},660980:(e,t,r)=>{"use strict";function i({category:e,domains:t,maxPrice:r,minPrice:i}){return[e,t,r,i].map(e=>e??"").join("-")}r.d(t,{Z:()=>i})},314018:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(860208),n=r(337478);function a({bubbleId:e,pinId:t,query:r,referringSource:a,storyCategory:o,storyId:s,title:l}){let d=[0,24,21,26].includes(o),c=(0,n.Z)({q:r,rs:a||void 0,b_id:e,source_id:s,top_pin_id:t}),u=d&&l?(0,i.x)({title:l,id:e,articleType:"discover"}):`/discover/article/${e}/`;return d?u:`/search/pins/${c?"?"+c:""}`}},203381:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(624797);function n(e,t){let r=(0,i.mB)(e);return r.utm_pai&&r.utm_source&&r.pid&&"pins"===t?r.pid:""}},447479:(e,t,r)=>{"use strict";r.d(t,{i:()=>i});let i={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",VANILLA_GUIDE:"guide",VIDEO:"video"}},414630:(e,t,r)=>{"use strict";r.d(t,{Ht:()=>a,Tb:()=>n});var i=r(447479);function n({appliedFilters:e,appliedProductFilters:t,autoCorrectionDisabled:r,filters:i,query:n,scope:a,selectedPinImgSig:o,user:s,rs:l}){let d=e?.filters?e.filters.map(e=>e?.filter_id).join("-"):"",c=[a,i,t,s,o,n,d,l].map(e=>e??"").join(":");return r?"auto-correction-disabled:"+c:c}function a(e){let{appliedFilters:t,appliedProductFilters:r,autoCorrectionDisabled:n,bubbleId:a,domains:o,filters:s,firstPageSize:l,guidedSearchQuery:d,pageSize:c,priceMax:u,priceMin:h,query:p,rs:_,scope:m,selectedPinImgSig:g,topPinId:f,user:b}=e,y=function({appliedFilters:e=null,appliedProductFilters:t=null,autoCorrectionDisabled:r=!1,bubbleId:n=null,domains:a=null,filters:o=null,firstPageSize:s=null,pageSize:l=null,priceMax:d=null,priceMin:c=null,query:u=null,rs:h=i.i.DIRECT_NAVIGATION,scope:p="pins",selectedPinImgSig:_=null,sourceId:m=null,topPinId:g=null,user:f}){return{applied_filters:e,appliedProductFilters:t,article:n,auto_correction_disabled:r,corpus:_?"personalize":null,customized_rerank_type:_?"manas_graph_sage_only_wand_rewrite":null,domains:a,filters:o,first_page_size:s,page_size:l,price_max:d,price_min:c,query_pin_sigs:_,query:u,redux_normalize_feed:!0,rs:h,scope:p,source_id:m,top_pin_id:g,user:f}}({appliedFilters:t,appliedProductFilters:r,autoCorrectionDisabled:!!n,bubbleId:a,domains:o,filters:s,firstPageSize:l,guidedSearchQuery:d,pageSize:c,priceMax:u,priceMin:h,query:p,rs:_,scope:m,selectedPinImgSig:g,topPinId:f,user:b});return{name:"BaseSearchResource",options:y}}},241552:(e,t,r)=>{"use strict";r.d(t,{l:()=>a,r:()=>o});var i=r(667294);let n=(0,i.createContext)(null),a=()=>(0,i.useContext)(n),o=n.Provider},48481:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(877457),n=r(241552);let a=()=>{let e=(0,i.g)(),t=(0,n.l)();return r=>{let{mobileOptions:i,desktopOptions:n,reason:a,attributionLabel:o,pinId:s}=r;e?e.showDesktopSignupModal({signupFlow:n?.modalType==="login"?{type:"login"}:{type:"signup"},reason:a,attributionLabel:o,...n?.modalOptions}):t&&t.showMobileSignupModal({reason:a,attributionLabel:o,headingType:i?.headingType,pinId:s})}}},55202:(e,t,r)=>{"use strict";r.d(t,{U:()=>o,Z:()=>s});var i=r(317540),n=r(785893);let a=()=>{},o=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:r,allowScroll:s,children:l}){let d=e=>{t&&e.keyCode===i.Z.ESCAPE||o(e)};return(0,n.jsx)("div",{onAbort:o,onAnimationEnd:o,onAnimationIteration:o,onAnimationStart:o,onBlur:a,onCanPlay:r?a:o,onCanPlayThrough:o,onChange:o,onClick:e?a:o,onCompositionEnd:o,onCompositionStart:o,onCompositionUpdate:o,onContextMenu:o,onCopy:o,onCut:o,onDoubleClick:o,onDurationChange:o,onEmptied:o,onEncrypted:o,onEnded:o,onError:o,onFocus:a,onInput:o,onInvalid:o,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:o,onLoadedData:o,onLoadedMetadata:o,onLoadStart:o,onMouseDown:o,onMouseEnter:o,onMouseLeave:o,onMouseMove:e?a:o,onMouseOut:o,onMouseOver:o,onMouseUp:e?a:o,onPaste:o,onPause:o,onPlay:o,onPlaying:o,onProgress:o,onRateChange:o,onScroll:s?a:o,onSeeked:o,onSeeking:o,onSelect:o,onStalled:o,onSubmit:o,onSuspend:o,onTimeUpdate:o,onTouchCancel:o,onTouchEnd:e?a:o,onTouchMove:e?a:o,onTouchStart:e?a:o,onTransitionEnd:o,onVolumeChange:o,onWaiting:o,onWheel:o,children:l})}},984571:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(958881);let n=/\{\s*(\w+)\s*\}/g,a=(e,t)=>(0,i.Z)(n,e,t);function o({args:e,format:t}){let r=(e||[]).reduce((e,t,r)=>({...e,[r]:t.text}),{});return a(t,r)}},575742:(e,t,r)=>{"use strict";r.d(t,{J:()=>i,Z:()=>n});let i=-1;function n(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},873955:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(958881);let n=/\{\{\s*(\w+)\s*\}\}/g,a=(e,t)=>(0,i.Z)(n,e,t)},498659:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},675266:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,n=e=>i.test(e)},175789:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"":e},958881:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=(e,t,r)=>t?t.replace(e,(e,t)=>r&&Object.prototype.hasOwnProperty.call(r,t)?r[t]:""):""},427514:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(873955),n=r(498659);let a=(e,t)=>{let r={};return Object.keys(t).forEach(e=>{r[e]=t[e]?(0,n.Z)(t[e].toString()):""}),(0,i.Z)(e,r)}},325362:(e,t,r)=>{"use strict";function i(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}r.d(t,{Z:()=>i})},294551:(e,t,r)=>{"use strict";function i(e){return e.replace(/([A-Z])/g,(e,t)=>"_"+t.toLowerCase())}r.d(t,{Z:()=>i})},627408:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var i=r(667294),n=r(541841),a=r(901855),o=r(5859),s=r(520893),l=r(503325),d=r(342513);let{Provider:c,useMaybeHook:u}=(0,d.Z)("timeSpentContext");var h=r(822987),p=r(19447),_=r(785893);function m(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends i.Component{constructor(e){super(e),m(this,"componentWillUnmount",()=>{this.unregisterComponent()}),m(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:r,objectId:i,timeSpentContext:n,view:a,viewParameter:o}=this.props;return{view:a||n?.view,viewParameter:o||n?.viewParameter,component:t||n?.component,element:r,objectId:i||n?.objectId,clientTrackingParams:e||n?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),m(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),m(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),m(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),m(this,"getTimedPair",()=>this.state.timedPair),m(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),m(this,"isRegistered",!1),m(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),m(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),m(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:r,left:i,right:n,top:a}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===r&&0===i&&0===n&&0===a?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new l.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,s.Z)(e.auxData,this.props.auxData)&&(0,s.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e}=this.props;return(0,_.jsx)(c,{value:this.getContext(),children:(0,_.jsx)(n.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:i.Children.only(e)})})}}function f(e){let t=(0,a.Hv)(),r=u(),n=(0,h.w)(),s=(0,p.H0)(),{requestIdentifier:l=""}=(0,o.B)(),d={app_instance_id:l.slice(0,8),...e.auxData??{}};return(0,i.useEffect)(()=>{n?.setHistoryStackContext(t)},[t,n]),(0,i.useEffect)(()=>{n?.setPins(s??{})},[s,n]),n?(0,_.jsx)(g,{...e,auxData:d,timeSpentContext:r,timeSpentManager:n,children:e.children}):e.children}f.displayName="TimeSpent";let b=f},839372:(e,t,r)=>{"use strict";r.d(t,{w:()=>_});var i=r(798580),n=r(287434),a=r(503325),o=r(623891),s=r(953565);function l(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let d=null,c={ACTIVE:"ACTIVE",PAUSED:"PAUSED"},u=()=>window&&window.performance&&window.performance.now?`(Time: ${(window.performance.now()/1e3).toFixed(3)}s)`:"",h=e=>{let t=!1;return(...r)=>{t||(t=!0,e(...r))}},p={};function _({contextLogger:e,shouldExtractTrackingParams:t}){if(d)return d;let r=(r,n,a)=>{if(t&&a&&r){let e;let{pair_id:t,event_type:o}=r;if(4703===o&&t&&p[t])r.clientTrackingParams=p[t];else{let s=r.object_id_str,l=s?a[s]:null,d=n?.current?.location,c=n?.previous;l&&d&&(e=(0,i.Z)({boardUrl:l.board?.url,location:d,pinId:l.id,pinnerUserName:l.pinner?.username,previousHistory:c,storyPinDataId:l.story_pin_data_id,trackingParams:l.tracking_params,trackingParamsMap:l.tracking_params_map})||`${l.tracking_params||""}~0`,r.clientTrackingParams=e,4702===o&&t&&(p[t]=e))}}e.logContextEvent(r)},_=new Map,m=(0,o.Z)()&&(0,o.Z)().debug_timespent,g=[],f=m?console:{error:(...e)=>{},log:(...e)=>{},group:(...e)=>{},groupEnd:(...e)=>{}};return console.group||(f.group=(...e)=>console.log(...e),f.groupEnd=(...e)=>{}),d=new class{constructor(){l(this,"appTimedPair",null),l(this,"clickthroughProperties",null),l(this,"historyStackContext",null),l(this,"offsiteTimedPair",null),l(this,"offsiteTimedPairForegroundId",null),l(this,"pins",Object.freeze({})),l(this,"addEventListeners",()=>{let e,t;"undefined"!==document.hidden?(e="hidden",t="visibilitychange"):"undefined"!==document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),t&&document.addEventListener(t,t=>{document[e]?this.unregisterApp(!1,void 0,t):document.hasFocus()&&this.registerApp()},!1),window.addEventListener("focus",this.registerApp),window.addEventListener("blur",e=>this.unregisterApp(!1,void 0,e));let r=h(e=>this.unregisterApp(!0,void 0,e));window.addEventListener("beforeunload",r),window.addEventListener("pagehide",r);let i=navigator&&navigator.userAgent.toLowerCase();i&&i.includes("macintosh")&&i.includes("chrome")&&window.addEventListener("popstate",()=>{document.hasFocus()||document[e]||(0,s.nP)("chrome_mac_back_forward_button",{sampleRate:1})})}),l(this,"storeClickthroughProperties",e=>{this.clickthroughProperties&&(0,s.nP)("webapp.metrics.clickthroughs.overwritten",{sampleRate:1,tags:{previousView:this.clickthroughProperties.view_type,previousViewParameter:this.clickthroughProperties.view_parameter,nextView:e.view_type,nextViewParameter:e.view_parameter}}),this.clickthroughProperties={time:(0,n.Z)(),...e}}),l(this,"clearClickthroughProperties",()=>{this.clickthroughProperties=null,this.offsiteTimedPair=null,this.offsiteTimedPairForegroundId=null}),l(this,"registerApp",()=>{f.group("App Foreground",u()),null==this.appTimedPair?(this.appTimedPair=new a.Z,this.appTimedPair.start(),this._unpauseAllComponents(),this._endOffsiteTimedPair(),null!==this.appTimedPair&&void 0!==this.appTimedPair&&r({event_type:4700,pair_id:this.appTimedPair.uuid},this.historyStackContext,this.pins)):f.error("TimedPair already exists for app."),f.groupEnd()}),l(this,"unregisterApp",(t=!1,i=!1,n)=>{f.group("App Background",u());let{appTimedPair:a}=this;if(null!=a){this._pauseAllComponents();let e=a.end();this._startOffsiteTimedPair(),r({event_type:4701,duration_ns:e,pair_id:a.uuid},this.historyStackContext,this.pins),this.appTimedPair=null}else f.error("No TimedPair found for app.");let o=["beforeunload","pagehide"],s=o.includes(n?.type),l=o.includes(n?.pauseReason);(s||l)&&this._endOffsiteTimedPair(),i||e.flushContextEvents(t??!1),f.groupEnd()}),l(this,"_activateComponent",e=>{f.group("Activating component",u()),m&&f.log(e.getContext());let t=e.getTimedPair();if(t){t.start();let{view:i,viewParameter:n,component:a,element:o,objectId:s,clientTrackingParams:l}=e.getLoggerContext();r({event_type:4702,view_type:i,view_parameter:n,component:a,element:o,object_id_str:s,view_data:e.props.viewData,pair_id:t.uuid,clientTrackingParams:l,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext,this.pins)}f.groupEnd()}),l(this,"_deactivateComponent",e=>{f.group("Deactivating component",u()),m&&f.log(e.getContext());let t=e.getTimedPair();if(t){let{view:i,viewParameter:n,component:a,element:o,objectId:s,clientTrackingParams:l}=t,d=t.end();r({event_type:4703,view_type:i,view_parameter:n,component:a,element:o,object_id_str:s,view_data:e.props.viewData,duration_ns:d,pair_id:t.uuid,clientTrackingParams:l,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext,this.pins)}f.groupEnd()}),l(this,"_startOffsiteTimedPair",()=>{let{clickthroughProperties:e}=this;e&&(this.offsiteTimedPair=new a.Z({...e,view:186,viewParameter:e.view_parameter,objectId:e.object_id_str}),this.offsiteTimedPair.start(),this.offsiteTimedPairForegroundId=this.appTimedPair?this.appTimedPair.uuid:null,e.aux_data={...e.aux_data,time_to_offsite:void 0!==e.time&&null!==e.time&&"number"==typeof e.time?(0,n.Z)()-e.time:void 0},r({...e,event_type:4702,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...e.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId}},this.historyStackContext,this.pins))}),l(this,"_endOffsiteTimedPair",()=>{let{offsiteTimedPair:e,clickthroughProperties:t}=this;if(e&&t){let i=e.end();r({...t,event_type:4703,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...t.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId},duration_ns:i},this.historyStackContext,this.pins),this._onOffsiteEnd(),this.clearClickthroughProperties()}}),l(this,"_onOffsiteEnd",()=>{f.group("Trigger onOffsiteEndCallbacks"),g.forEach(e=>e({appTimedPair:this.appTimedPair,clickthroughProperties:this.clickthroughProperties,offsiteTimedPair:this.offsiteTimedPair,offsiteTimedPairForegroundId:this.offsiteTimedPairForegroundId})),f.groupEnd()}),l(this,"_pauseAllComponents",()=>{f.group("Pause all components"),_.forEach((e,t,r)=>{e===c.ACTIVE&&this._deactivateComponent(t),r.set(t,c.PAUSED)}),f.groupEnd()}),l(this,"_unpauseAllComponents",()=>{f.group("Unpause all components"),_.forEach((e,t)=>{let r=new a.Z(t.getLoggerContext());t.setTimedPair(r,()=>{_.set(t,c.ACTIVE),this._activateComponent(t)})}),f.groupEnd()})}setHistoryStackContext(e){this.historyStackContext=e}setPins(e){this.pins=e}registerComponent(e){null===this.appTimedPair?_.set(e,c.PAUSED):(_.set(e,c.ACTIVE),this._activateComponent(e))}unregisterComponent(e){let t=_.get(e);t===c.ACTIVE&&(this._deactivateComponent(e),e.setTimedPair(new a.Z(e.getLoggerContext()))),_.delete(e)}size(){return _.size}onOffsiteEnd(e){g.push(e)}removeOnOffsiteEnd(e){let t=g.indexOf(e);t>-1&&g.splice(t,1)}}}},822987:(e,t,r)=>{"use strict";r.d(t,{j:()=>h,w:()=>u});var i=r(214877),n=r(342513),a=r(5859),o=r(839372),s=r(554786),l=r(494125),d=r(785893);let{Provider:c,useMaybeHook:u}=(0,n.Z)("TimeSpentManagerContext");function h({children:e}){let t=(0,i.v)(),r=(0,s.HG)(),{isAuthenticated:n}=(0,a.B)(),u=(0,o.w)({contextLogger:t,shouldExtractTrackingParams:r&&n});return(0,l.Z)(()=>{document.hasFocus()&&u.registerApp(),u.addEventListeners()}),(0,d.jsx)(c,{value:u,children:e})}},503325:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(172045),n=r(17314);function a(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let o="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),s=class{constructor(e){a(this,"start",()=>(this.startTime=o(),this.startTime)),a(this,"end",()=>(this.endTime=o(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,i.Z)()}catch(e){this.uuid=(0,n.Z)()}e&&Object.assign(this,e)}}},373314:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(624797);function n(){let e=(0,i.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";let t=document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"}},623409:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(667294),n=r(616550),a=r(96157),o=r(217058);let s=e=>(0,a.L6)(e)?"pin":(0,a.am)(e)?"board":(0,a.Xn)(e)?"login":(0,a.C$)(e)?"home":(0,a.cD)(e)?"profile":(0,a.dr)(e)?"ideas":(0,a.gT)(e)?"ideas-root":(0,a.tZ)(e)?"videos":(0,a.Q0)(e)?"videos-category":(0,a.$Y)(e)?"article":(0,a.E0)(e)?"shopping-spotlight":(0,a.Zz)(e)?"today":(0,a.j8)(e)?"unauth-profile":(0,a.f1)(e)?"shopping-root":(0,a.OX)(e)?"shopping-category":"other";function l(){let e=(0,n.TH)();return(0,i.useCallback)(({action:t,item:r,within:i})=>{let n=s(e);(0,o.My)(`logged_out_product.interaction.${n}.${t}`,{item:r||"none",within:i||"none"})},[e])}},274262:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(883119),n=r(785893);function a({ariaHidden:e=!1,color:t="darkGray",size:r}){return(0,n.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,n.jsx)(i.xv,{color:t,inline:!0,size:r??"200",children:"\xb7"})})}},629650:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(667294),n=r(883119),a=r(274262),o=r(785893);function s(e){return null!=e}function l({additionalPadding:e,color:t="darkGray",inline:r,items:l}){let d=e?(0,o.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,o.jsx)(a.Z,{color:t})}):(0,o.jsx)(a.Z,{color:t}),c=l.filter(s).reduce((e,t,r)=>[...e,0!==r?d:null,t],[]).filter(s).map((e,t)=>(0,o.jsx)(i.Fragment,{children:e},t));return 0===c.length?null:r?(0,o.jsx)(n.xu,{children:c}):(0,o.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:c})}},13848:(e,t,r)=>{"use strict";r.d(t,{F9:()=>a,Zo:()=>n});var i=r(342513);let{Provider:n,useHook:a}=(0,i.Z)("toastManagerContext")},410389:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(624797);function n(e){let{boardId:t,username:r,slug:n}=e;return t?i.tV`/v3/boards/${t}/`:r&&n?i.tV`/v3/boards/${r}/${n}/`:null}},862249:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(968946);let n=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,i.Z)(e))},498301:(e,t,r)=>{"use strict";function i(e,t){if(!t)return e;let r=new RegExp(/http(s?):/);if(!r.test(e)){let i=r.exec(t);if(i&&i.length){let t=i[0];e=t+e}}return e}r.d(t,{Z:()=>i})},334688:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r(667294);let n=null,a=!1,o=0,s=()=>{n&&clearTimeout(n),a=!0,n=setTimeout(()=>{a=!1},100)},l=()=>{0===o&&window.addEventListener("scroll",s),o+=1},d=()=>{(o-=1)||window.removeEventListener("scroll",s)},c=()=>{let[e,t]=(0,i.useState)(!1),r=(0,i.useRef)(null);(0,i.useEffect)(()=>(l(),()=>{r.current&&clearTimeout(r.current),d()}),[]);let n=e=>{r.current&&clearTimeout(r.current),r.current=e&&a?setTimeout(()=>n(!0),100):setTimeout(()=>{t(e)},32)},o=(0,i.useRef)({onMouseOver:()=>n(!0),onMouseLeave:()=>n(!1)});return{isHovering:e,hoverHandlers:o.current}}},494125:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(667294);let n=e=>{(0,i.useEffect)(e,[])}},477458:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o,q:()=>a});var i=r(667294);let n=()=>{let[e,t]=(0,i.useState)(!1),[r,n]=(0,i.useState)(!1),[a,o]=(0,i.useState)(!1);return{active:e,focused:r,hovered:a,onBlur:()=>{n(!1),t(!1)},onFocus:()=>n(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>{o(!1),t(!1)},onMouseUp:()=>t(!1)}};function a({children:e}){let t=n();return e(t)}let o=n},748058:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(667294);let n=(e,t)=>{let r=(0,i.useRef)(()=>{});(0,i.useEffect)(()=>{r.current=e},[e]),(0,i.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>r.current(),t);return()=>clearInterval(e)},[t])}},760101:(e,t,r)=>{"use strict";r.d(t,{G:()=>s,Z:()=>l});var i=r(667294),n=r(616550),a=r(785893);let o=(0,i.createContext)(!0);function s({children:e}){let t=(0,n.TH)(),[r,s]=(0,i.useState)(!0),l=(0,i.useRef)(t);return(0,i.useEffect)(()=>{l.current!==t&&(l.current=t,s(!1))},[t]),(0,a.jsx)(o.Provider,{value:r,children:e})}function l(){return(0,i.useContext)(o)}},830889:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(702664);let n=[1000069,1000075],a={};function o(){var e;return e=(0,i.useSelector)(({experiences:e})=>e),n.forEach(t=>{e[t]&&(void 0===a[t]||a[t].id!==e[t].id)&&(a[t]=e[t])}),a}},728622:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(667294);let n=e=>{let t=(0,i.useRef)(null);return(0,i.useEffect)(()=>{t.current=e},[e]),t.current}},825765:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(667294),n=r(43665);function a(){let e=(0,i.useRef)([]),t=(0,i.useRef)({});return(0,i.useEffect)(()=>()=>{[...Object.keys(t.current).map(e=>t.current[e]),...e.current].forEach(e=>e())},[]),function(r,i){if(i){let e=t.current[i];e&&(e(),delete t.current[i])}let{cancel:a,promise:o}=(0,n.Z)(r);return i?t.current[i]=a:e.current=[...e.current,a],o}}},353453:(e,t,r)=>{"use strict";r.d(t,{GW:()=>n,RL:()=>i,s4:()=>a});let i="ios",n="android",a="ipad"},747602:(e,t,r)=>{"use strict";r.d(t,{Bh:()=>p,C9:()=>C,CB:()=>g,CU:()=>l,ES:()=>A,FU:()=>D,GT:()=>d,Gy:()=>x,J_:()=>T,Jx:()=>f,Ks:()=>R,MZ:()=>w,Pg:()=>y,U2:()=>O,VC:()=>m,VG:()=>c,ZA:()=>u,Zt:()=>v,a3:()=>z,aH:()=>s,fS:()=>h,nw:()=>S,oR:()=>E,qA:()=>_,qp:()=>I,sG:()=>P,vd:()=>k,xk:()=>j});var i=r(341640),n=r(139655);let a={January:31,February:29,March:31,April:30,May:31,June:30,July:31,August:31,September:30,October:31,November:30,December:31},o=e=>{let t={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":" "},r=String(e).split("");return r.forEach((e,i)=>{let n=t[e];n&&(r[i]=n)}),r.join("")};function s(e){return(t,r)=>{let i=[];t&&/\S/.test(t)||i.push(e.message);let n={errors:i,warnings:[]};return r&&r(n),n}}let l=RegExp("(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*|^\"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*\")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$","i");function d(e){return(t,r)=>{t=t&&t.trim();let i=[];t.match(l)||i.push(e.message);let n={errors:i,warnings:[]};return r&&r(n),n}}function c(e){return(t,r)=>{t=t&&t.trim();let i=[];t.match(/^[^0-9].*$/)||i.push(e.message);let n={errors:i,warnings:[]};return r&&r(n),n}}function u(e){return(t,r)=>{let i=[];if(t){let r=parseInt(t,10);Number.isNaN(r)?i.push(e.invalidAgeString):(e.ageTooShortString&&r<10&&i.push(e.ageTooShortString),r<=0||r>120?i.push(e.invalidAgeString):e.checkUnderAgeWithString&&r<18&&i.push(e.checkUnderAgeWithString))}let n={errors:i,warnings:[]};return r&&r(n),n}}function h(e){return(t,r)=>{let i=[],[n,o]=t.split(" ");if(n){if(n.match(/^[0-9]+$/)){let t=parseInt(n,10);(Number.isNaN(t)||t>31||t>a[o])&&i.push(e.invaliddobDateString)}else i.push(e.invaliddobDateString)}let s={errors:i,warnings:[]};return r&&r(s),s}}function p(e){return(t,r)=>{t=t&&t.trim();let i=t.replace(/[\(\)\+\-\. ]/g,""),n=[],a=!1!==e.checkLength&&i.length<7;t&&(!t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)||a)&&n.push(e.message);let o={errors:n,warnings:[]};return r&&r(o),o}}function _(e){return(t,r)=>{let i=[];"number"==typeof t||"string"==typeof t&&(t=o(t=t&&t.trim()))&&!t.match(/^\d+$/)&&i.push(e.message);let n={errors:i,warnings:[]};return r&&r(n),n}}function m(e){return(t,r)=>{let i=[];"number"==typeof t||"string"==typeof t&&(t=o(t=t&&t.trim()))&&!t.match(/^[\d\ -]+$/)&&i.push(e.message);let n={errors:i,warnings:[]};return r&&r(n),n}}let g=e=>!!e.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi);function f(e){return(t,r)=>{let i=[];t&&!g(t)&&i.push(e.message);let n={errors:i,warnings:[]};return r&&r(n),n}}let b=e=>/^(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e);function y(e){return(t,r)=>{let i={errors:t&&!b(t)?[e.message]:[],warnings:[]};return r&&r(i),i}}function v(e){return(t,r)=>{let i=[];if(t)try{let r=(0,n.Z)(t);r&&r.protocol&&("http"!==r.protocol||"localhost"===r.hostname)||i.push(e.message)}catch(t){i.push(e.message)}let a={errors:i,warnings:[]};return r&&r(a),a}}function x(e){return(t,r)=>{let i=e.should_trim||!1,n=[];i&&(t=t&&t.trim());let a=t.length;e.min&&a<e.min?n.push(e.minErrorString):e.max&&a>e.max&&n.push(e.maxErrorString);let o={errors:n,warnings:[]};return r&&r(o),o}}function w(e){return(t,r)=>{let i=!e.checkExclusion,{substrings:n}=e,a=[];(i&&!n.some(e=>t.includes(e))||!i&&n.some(e=>t.includes(e)))&&a.push(e.message);let o={errors:a,warnings:[]};return r&&r(o),o}}function P(e){return(t,r)=>{let i=e&&e.targetValue,n=[];t!==i&&n.push(e.message);let a={errors:n,warnings:[]};return r&&r(a),a}}function S(e){return(t,r)=>{let i=[],n=t?parseFloat(t):0;n<e.value&&i.push(e.message);let a={errors:i,warnings:[]};return r&&r(a),a}}function C(e){return(t,r)=>{let i=new Date(t),n=[];e.date instanceof Date&&i instanceof Date&&e.date<i&&n.push(e.message);let a={errors:n,warnings:[]};return r&&r(a),a}}function A(e){return(t,r)=>{let n=new Date(t),a=e.date instanceof Date&&n instanceof Date,o=[];(a&&e.date<n||!(0,i.M5)(t))&&o.push(e.message);let s={errors:o,warnings:[]};return r&&r(s),s}}function E(e){return(t,r)=>{let i=[],n=/^[\040-\176]*$/.test(t);n||i.push(e.message);let a={errors:i,warnings:[]};return r&&r(a),a}}function j(e){return(t,r)=>{let i=2;if(e.hasFractionalCents)i=3;else if(e.currencyCode){let{maximumFractionDigits:t}=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyCode}).resolvedOptions();i=t}let n=i?`^\\d*(\\.\\d{1,${i}})?$`:"^\\d*$",a=new RegExp(n),o=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(a)&&(t=t&&t.trim(),o.push(e.message));let s={errors:o,warnings:[]};return r&&r(s),s}}function T(e){return(t,r)=>{t=t&&t.trim();let i=[],n=new Date(t);t&&!n.getTime()&&i.push(e.message);let a={errors:i,warnings:[]};return r&&r(a),a}}function I(e){return(t,r)=>{let i=t&&t.trim(),n=[];i&&!i.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&n.push(e.message);let a={errors:n,warnings:[]};return r&&r(a),a}}function k(e){return(t,r)=>{let i=[];e.pattern.test(t)||i.push(e.message);let n={errors:i,warnings:[]};return r&&r(n),n}}function D(e,t){let r=e.map(e=>e(t).errors);return[].concat(...r)}async function R(e,t){let r=await Promise.all(e.map(async e=>{let r=e(t);if(!(r instanceof Promise))return r.errors;{let e=await r;return e(t).errors}}));return[].concat(...r)}function z(e,t){let r="";return t.some(t=>{let i=t(e);return i.errors.length>0&&(r=i.errors[0],!0)}),r}async function O(e,t){let r="";for(let i of t){let t=i(e);if(t instanceof Promise){let i=await t,n=i(e);if(n.errors.length>0){r=n.errors[0];break}}else if(t.errors.length>0){r=t.errors[0];break}}return r}},369708:(e,t,r)=>{"use strict";r.d(t,{Wr:()=>c,rG:()=>d});var i=r(667294),n=r(214877),a=r(342513),o=r(340523),s=r(785893);let{Provider:l,useHook:d}=(0,a.Z)("VideoPlayer");function c({children:e}){let{logContextEvent:t,logImpression:r}=(0,n.v)(),{checkExperiment:a}=(0,o.F)(),[d,c]=(0,i.useState)(!1),[u,h]=(0,i.useState)([]),[p,_]=(0,i.useState)([]),[m,g]=(0,i.useState)({}),f=a("web_ads_mrc_video_impression").anyEnabled,b=e=>{g(t=>({...t,[e]:!0}))},y=(0,i.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],r=(e.aux_data?.commerce_data||"").includes("story_pin_id");f&&(t||r)&&h(t=>[...t,e].slice(-1e3))}},[f]),v=(0,i.useCallback)(e=>{18===e.eventType&&f&&_(t=>[...t,e].slice(-1e3))},[f]),x=e=>{let{renderDuration:t,time:r}=e.event_data.pinImpressions[0],i=Math.max(t,15e8);return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:r+i,renderDuration:i}]}}},w=e=>{if(e.eventData){let{time:t,endTime:r}=e.eventData,i=Math.max((r??0)-(t??0),15e8);return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:(t??0)+i}}}return null};(0,i.useEffect)(()=>{let e=u.filter(e=>{let{pinIdStr:r}=e.event_data.pinImpressions[0],i=m[r];if(i&&f){let r=x(e);return t(r),!1}return!0});e.length!==u.length&&h(e)},[u,f,t,m]),(0,i.useEffect)(()=>{let e=p.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;let i=m[t];if(i&&f){let t=w(e);return t&&r(t),!1}return!0});e.length!==p.length&&_(e)},[p,f,r,m]);let P=(0,i.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:v,logMrcVideoAdEventOnPlay:y,setCaptionsEnabled:c,setVideoPlayed:b,videosPlayed:m}),[d,y,v,m]);return(0,s.jsx)(l,{value:P,children:e})}},115557:(e,t,r)=>{"use strict";r.d(t,{$f:()=>a,Cy:()=>d,DR:()=>n,EB:()=>h,Fm:()=>l,Y7:()=>u,bR:()=>s,gJ:()=>o,lG:()=>c});var i=r(172045);let n=1,a=2,o=1e3,s=1e3,l=1e3,d=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),c=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function u(e){return e+"-"+(0,i.Z)()}function h(){return(0,i.Z)()}},446653:(e,t,r)=>{"use strict";r.d(t,{r:()=>v,K:()=>y});var i=r(667294),n=r(342513),a=r(340523),o=r(995917),s=r(149722),l=r(998577),d=r(573810),c=r(325362);let u=e=>{let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&("object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?t[(0,c.Z)(r)]=e[r]:t[(0,c.Z)(r)]=u(e[r]));return t},h=(e,t)=>{let r=[];for(let i in e)i!==t&&r.push({id:i,...u(e[i])});let i=r.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),n=new Map;for(let e of i)n.set(e.id,e);return n},p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},_=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},m=({dispatch:e,isEnabled:t,state:r})=>{let{orbacVisibility:n,disableProfileChanger:a,headerVisible:o}=r,s=(0,i.useCallback)(r=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:r})},[t,e]),l=(0,i.useCallback)(r=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:r??!n})},[t,e,n]),d=(0,i.useCallback)(r=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:r??!a})},[t,e,a]),c=(0,i.useCallback)(r=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:r??!o})},[t,e,o]);return{changeProfile:s,toggleORBACVisibility:l,toggleDisableProfileChanger:d,toggleHeaderVisibility:c}},g=e=>{let[t,r]=(0,i.useReducer)(_,p),n=m({dispatch:r,isEnabled:e,state:t}),{activeProfile:a,orbacVisibility:o}=t;(0,i.useEffect)(()=>{let e=(0,d.qn)("orbacActiveProfile",!1);e&&r({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,i.useEffect)(()=>{let e=(0,d.qn)("orbacVisibilty",!1);e&&r({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,i.useEffect)(()=>{(0,d.Nh)("orbacVisibility",o)},[o]),(0,i.useEffect)(()=>{(0,d.Nh)("orbacActiveProfile",a)},[a]);let s=(0,i.useCallback)((e,t)=>{r({type:"LOAD_PROFILES",payload:h(e,t)})},[r]);return{state:t,actions:n,receiveProfiles:s}};var f=r(785893);let{Provider:b,useMaybeHook:y}=(0,n.Z)("RoleBasedAccessControlContext"),v=({children:e})=>{let t;let{checkExperiment:r}=(0,a.F)(),n=(0,s.Z)(),d=!!(n.isAuth&&n.isPartner&&r("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:u,receiveProfiles:h}=g(d),{activeProfile:p,headerVisible:_,profiles:m=[]}=c,y=m?Array.from(m.values()):[],v=(0,l.Z)(y),x=!!n.isAuth&&y.length>0&&v,w=n.isAuth?n.id:"",P=n.isAuth?n.username:"",{changeProfile:S,toggleORBACVisibility:C,toggleDisableProfileChanger:A,toggleHeaderVisibility:E}=u;(0,i.useEffect)(()=>{if(d){if("string"==typeof v){S(v);return}p||S(w)}},[v,w,d,S,p]),(0,i.useEffect)(()=>{d&&(x&&!_&&E(!0),!x&&_&&E(!1))},[E,x,d,_,m]);let{data:j}=(0,o.Z)(d?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),T=j?.profiles;n&&n.isAuth&&c.activeProfile===n.id?t={id:n.id,permissions:["OWNER"],user:{username:P,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:p&&c.profiles&&(t=c.profiles.get(p)),(0,i.useEffect)(()=>{T&&h(T,w)},[h,T,w]);let I=c.profiles?Array.from(c.profiles.values()):[];return(0,f.jsx)(b,{value:{profiles:I,headerVisible:c.headerVisible,activeProfile:t,changeProfile:S,toggleORBACVisibility:C,toggleDisableProfileChanger:A,toggleHeaderVisibility:E},children:e})}},785059:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(340523),n=r(446653),a=r(998577);let o=()=>{let{checkExperiment:e}=(0,i.F)(),t=(0,n.K)(),{activeProfile:r}=t||{},o=e("web_m10n_business_access_orbac_www").anyEnabled,s=(0,a.Z)(t?.profiles||[]),{anyEnabled:l}=e("useorbacroutematcher_in_useorbacactingas");return o&&(!l||s)&&r&&(r.viewerMeetsMfaRequirement||(r.permissions||[]).includes("OWNER"))?r:Object.freeze({})}},998577:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(616550),n=r(96157),a=r(340523),o=r(149722),s=r(19447);let l=e=>{let t=(0,i.TH)(),r=(0,o.Z)(),l=(0,s.S6)(),{anyEnabled:d}=(0,a.F)().checkExperiment("web_m10n_business_access_orbac_www"),c=(0,i.$B)("/:username"),u=c?.params?.username,h=(0,i.$B)("/pin/:id"),p=!!h?.params?.id&&l(h.params.id)?.pinner?.id;if((0,n.ej)(t))return!1;if((0,n.RU)(t))return!0;if((0,n.mY)(t))return d;let _=e.concat(r.isAuth?{user:{username:r.username},id:r.id}:{}).find(e=>{let{user:t={},id:r}=e||{},{username:i}=t;return(!!i&&!!u||!!p&&!!r)&&(i===u||p===r)});return!!_&&_.id}},35222:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(149722),n=r(785059),a=r(199677);let o=()=>{let e=(0,i.Z)(),t=(0,n.Z)(),r=(0,a.lJ)(e,t);return r}},199677:(e,t,r)=>{"use strict";r.d(t,{D3:()=>d,DX:()=>s,KY:()=>c,Ms:()=>i,N1:()=>u,_P:()=>o,lJ:()=>a,nl:()=>n,q6:()=>l});let i=(e,t)=>{let r=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(r=t.user.username),r},n=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),a=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",o=(e,t,r)=>r&&r.user&&t&&t.isAuth&&r.id!==t.id?r.user.merchantId:e.advertiser?.merchant_id,s=(e,t,r)=>r&&r.user&&e.isAuth&&r.id!==e.id?r.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,l=(e,t,r)=>{let i=e&&e.isAuth&&r&&r.id&&r.id!==e.id&&r.id===t;return!!i},d=(e,t,r)=>{let i=l(e,t,r)||e&&e.isAuth&&t===e.id;return!!i},c=(e,t,r)=>{let i=t&&t.owner&&t.owner.id||"";return d(e,i,r)};function u(e,t,r){let i=t?t.id:"";return d(e,i,r)}},794109:(e,t,r)=>{"use strict";r.d(t,{N:()=>h,t:()=>m});var i=r(667294),n=r(216167),a=r(807657),o=r(137831),s=r(114267),l=r(342513),d=r(340523),c=r(785893);let{Provider:u,useHook:h}=(0,l.Z)("LinkedAccount"),p=e=>{(0,a.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")},_=e=>{o.Z.reportFacebookConversion(s.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),o.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),o.Z.reportLinkedInConversion(s.Z.LINKEDIN_PARTNER_ID,s.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),o.Z.reportGoogleConversion(s.Z.GOOGLE_ADWORDS_ID,s.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT,"/",e)};function m({children:e}){let[t,r]=(0,i.useState)(!1),[a,o]=(0,i.useState)([]),{checkExperiment:s}=(0,d.F)(),l=s("ppm_p_gate").anyEnabled,h=(0,i.useCallback)(({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:i,nextUrl:a})=>(r(!0),n.Z.create("BusinessOwnershipResource",{business_name:e,third_party_apps:t}).callCreate({showError:!0}).then(()=>{i&&_(l),r(!1),p(a)}).catch(e=>(r(!1),Promise.reject({error:e})))),[r,l]),m=(0,i.useMemo)(()=>({createLinkedBusinessAccount:h,linkedBusinessCreationLoading:t,userAccounts:a,userAccountsRetrieved:o}),[h,t,o,a]);return(0,c.jsx)(u,{value:m,children:e})}},239821:(e,t,r)=>{"use strict";r.d(t,{g:()=>h,I:()=>u});var i=r(667294),n=r(342513),a=r(705895),o=r(259866);let s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=s,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:r}=t,{pinId:i,isPromoted:n,currentTime:a,allowMultipleOrganicVideos:s}=r,{videosAutoplaying:l}=e,{currentlyPlayingOrganicVideoId:d,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}=l,h=(0,o.Z)(c),p=(0,o.Z)(u);return n||!d||s?(n?h[i]={pinId:i,currentTime:a,paused:!1}:p[i]={pinId:i,currentTime:a,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:n?d:i,promotedVideosAutoplaying:h,organicVideosAutoplaying:p}}):e}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:r}=t,{pinId:i,isPromoted:n,currentTime:a}=r,{videosAutoplaying:s}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:d}=s,c=(0,o.Z)(l),u=(0,o.Z)(d);return n?c[i]={...c[i],paused:!0,currentTime:a}:u[i]={...u[i],paused:!0,currentTime:a},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var d=r(785893);let{Provider:c,useHook:u}=(0,n.Z)("AppUI");function h({children:e}){let[t,r]=(0,i.useReducer)(l,s),n=(0,i.useCallback)(e=>r({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),o=(0,i.useCallback)(e=>r({type:"SET_APP_FOCUS_STATE",payload:e}),[]),u=(0,i.useCallback)(e=>r({type:"SET_CURRENT_VIDEO",payload:e}),[]),h=(0,i.useCallback)(e=>r({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),p=(0,i.useCallback)(e=>r({type:"SET_IS_AUTOPLAY",payload:e}),[]),_=(0,i.useCallback)(e=>r({type:"SET_VIEWPORT_SIZE",payload:e}),[]),m=(0,i.useCallback)(e=>r({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),g=(0,i.useMemo)(()=>({pauseAutoplay:n,setCurrentVideo:u,setFooterPlusButtonVisible:h,setIsAutoplay:p,setViewportSize:_,toggleTypeaheadOverlay:m,setAppFocusState:o,appUI:t}),[n,u,h,p,_,m,o,t]);return(0,i.useEffect)(()=>{a.Z.onSessionResume(()=>{o(!0)}).onSessionPause(()=>{o(!1)})},[o]),(0,d.jsx)(c,{value:g,children:e})}},951258:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var i=r(667294),n=r(883119),a=r(140017),o=r(506248),s=r(174595),l=r(785893);function d(e){let t=(0,a.ZP)(),{style:r,useLegoStyles:d=!1,usePersistentOneClickSaveStyles:c,wrappingIconStyle:u,shouldUseLegoStyles:h,carouselSlotCurrentIndex:p,component:_,onDelete:m,onSubmit:g,onToggleModal:f,pinId:b}=e,[y,v]=(0,i.useState)(!1),{onClick:x,carouselSlotCurrentIndex:w}=(0,s.Z)({carouselSlotCurrentIndexProp:p,component:_,pinId:b,setShowEditModal:v}),P=(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(n.hU,{accessibilityLabel:t._('Edit', 'edit button on pin', 'edit button on pin'),bgColor:r&&r.bgColor||"white",icon:"edit",iconColor:r&&r.iconColor||"darkGray",onClick:x,size:r&&r.size||"md"}),y&&b&&(0,l.jsx)(o.Z,{carouselSlotCurrentIndex:w,onDelete:m,onHide:()=>{v(!1),f?.(!1)},onSubmit:g,pinId:b})]});return h?(0,l.jsx)(n.zx,{accessibilityLabel:t._('Pin Saved', 'PinRepEditButton.SavedButtonLabel', 'saved button label on pin'),color:"gray",dataTestId:"saved-button",fullWidth:!0,onClick:m,selected:!0,size:"lg",text:t._('Saved', 'PinRepEditButton.SavedButton', 'saved button on pin')}):d||c?(0,l.jsx)("div",{"data-test-id":"use-lego-styles-div",style:{...u||{}},children:P}):P}},489216:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var i=r(667294),n=r(693967),a=r.n(n),o=r(883119),s=r(140017),l=r(406893),d=r(175789),c=r(862249),u=r(785893);let h=`
.SavedAnimation {
  &.saved {
    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);
  }

  &.board {
    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);
  }
}

@keyframes SavedAnimation--down-then-right {
  0% {
    opacity: 0;
    transform: translateY(-24px);
  }

  33% {
    opacity: 1;
    transform: translateY(0);
  }

  80% {
    opacity: 1;
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    transform: translateX(24px);
  }
}

@keyframes SavedAnimation--to-right {
  from {
    opacity: 0;
    transform: translateX(-16px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}
`;class p extends i.Component{constructor(...e){var t,r,i;super(...e),r={showBoardName:!1},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?i:String(i))in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}componentDidMount(){this.timer=setTimeout(()=>{this.setState({showBoardName:!0})},950)}componentWillUnmount(){clearTimeout(this.timer)}render(){let e,t;let{showBoardName:r}=this.state,{isDenseView:n,isNewlySaved:s,name:p,shouldUseLegoStyles:_,type:m,url:g}=this.props;if(_&&n)return null;let f="boardless"===m?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):p;if(!s||r||_){let t=_?(0,u.jsx)(o.xv,{color:"inverse",size:"300",weight:"bold",children:f.length<=20?f:(0,d.Z)(f,20)}):(0,u.jsx)(o.X6,{color:"inverse",lineClamp:1,size:"400",children:f}),r=(0,c.Z)({url:g});e=g?(0,u.jsx)(o.rU,{href:g,rel:r?"nofollow":"none",children:t}):t}else e=(0,u.jsx)(o.xv,{color:"inverse",size:"400",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')});return s&&(t=r?"board":"saved"),(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(l.Z,{unsafeCSS:h}),(0,u.jsx)("div",{className:!_&&a()("SavedAnimation",t),"data-test-id":"savedInfo",children:e})]})}}let _=function(e){let t=(0,s.ZP)();return(0,u.jsx)(p,{...e,i18n:t})}},621018:(e,t,r)=>{"use strict";r.d(t,{T3:()=>n,Ur:()=>a,i5:()=>i,kx:()=>o});let i={AT:14,BE:13,BG:14,HR:16,CY:14,CZ:15,DK:13,EE:14,FI:13,FR:15,DE:16,GR:15,HU:16,IE:16,IT:14,LV:13,LT:14,LU:16,MT:13,NL:16,PL:16,PT:13,RO:16,SK:16,SI:15,ES:14,SE:13,GB:13},n={...i,KR:14},a=13,o=5},489093:(e,t,r)=>{"use strict";r.d(t,{a:()=>h,S:()=>c});var i=r(667294),n=r(342513),a=r(107366);let o={boardMap:{}};function s(e=o,t){if("BLOCKING_ACTIONS_UPDATED"===t.type){let{payload:{boardId:r,blockingActions:i}}=t,n=null,a=null,o={};return i.forEach(({section_id:e,progress:t,id:r,created_timestamp:i})=>{let s={id:r,createdAt:i,progress:t};e?"-1"===e?n=s:o[e]=s:a=s}),{...e,boardMap:{...e.boardMap,[r]:{wholeBoard:n,unorganized:a,sectionMap:o}}}}return e}var l=r(785893);let{Provider:d,useMaybeHook:c}=(0,n.Z)("BlockingAction");async function u(e){let t=await (0,a.Z)({url:`/v3/boards/${e}/`,data:{fields:["board.id","board.blocking_actions"]}});return new Promise((e,r)=>{let i=t&&t.resource_response&&t.resource_response.data&&t.resource_response.data.blocking_actions;if(!i){r(Error("No blocking actions found in the response"));return}e(i)})}function h({children:e}){let[t,r]=(0,i.useReducer)(s,o),n=(0,i.useCallback)(e=>u(e).then(t=>(r({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t)),[]),a=(0,i.useMemo)(()=>({blockingActions:t,fetchBlockingActions:n}),[t,n]);return(0,l.jsx)(d,{value:a,children:e})}},828763:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var i=r(13848),n=r(489093),a=r(667294),o=r(883119),s=r(454514),l=r(140017),d=r(554786),c=r(785893);function u(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class h extends a.Component{constructor(...e){super(...e),u(this,"state",{hiding:!1,visible:!1}),u(this,"handleHide",()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,s.Vg)}),u(this,"handleMouseEnter",()=>{window.clearTimeout(this.timeout)}),u(this,"handleMouseLeave",()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)})}componentDidMount(){this.firstLine&&(window.setTimeout(()=>{this.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){let{actionType:e,actionStatus:t,location:{isSection:r}}=this.props,i="completed"===t;switch(e){case"create_section":return i?this.props.i18n._('Created section', 'toast text to indicate a section has been created successfully', 'toast text to indicate a section has been created successfully'):this.props.i18n._('Creating section', 'toast text to indicate a section is being created', 'toast text to indicate a section is being created');case"delete_pins":if(r)return i?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a section', 'toast text to notify Pins have been deleted from a section'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a section', 'toast text to notify Pins are being deleted from a section');return i?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a board', 'toast text to notify Pins have been deleted from a board'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a board', 'toast text to notify Pins are being deleted from a board');case"move_pins":if(r)return i?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this section', 'toast text to notify pins have been moved to this section'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this section', 'toast text to notify pins are being moved to this section');return i?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this board', 'toast text to notify pins have been moved to this board'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this board', 'toast text to notify pins are being moved to this board');case"merge":if(r)return i?this.props.i18n._('Moved to', 'toast text to notify anotehr section has been merged to this section', 'toast text to notify anotehr section has been merged to this section'):this.props.i18n._('Moving to', 'toast text to notify another section is being merged to this section', 'toast text to notify another section is being merged to this section');return i?this.props.i18n._('Moved to', 'toast text to notify another board has been merged to this board', 'toast text to notify another board has been merged to this board'):this.props.i18n._('Moving to', 'toast text to notify another board is being merged to this board', 'toast text to notify another board is being merged to this board');default:return null}}render(){let{actionStatus:e,deviceType:t,location:r}=this.props,{visible:i,hiding:n}=this.state,{firstLine:a}=this,{marginTop:l,opacity:d,position:u,pointerEvents:h,transform:p,transition:_,visibility:m}=(0,s.UZ)({deviceType:t,hiding:n,visible:i});if(!a)return null;let g="inProgress"===e?`${r.name}...`:r.name;return(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{transform:p,transition:_,visibility:m,pointerEvents:h}},marginTop:l,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,opacity:d,position:u,children:(0,c.jsx)(o.FN,{text:`${a}: ${g}`,type:"completed"===e?"default":"progress"})})}}function p(e){let t=(0,d.ZP)(),r=(0,l.ZP)();return(0,c.jsx)(h,{...e,deviceType:t,i18n:r})}let _=["merge","move_pins","create_section"],m=0,g={},f=(e,t,r,i)=>({hideToast:n})=>(0,c.jsx)(p,{actionStatus:e,actionType:t,duration:2e3,location:{name:i?i.title??"":r.name??"",isSection:!!i},onHide:n});function b(){let{showToast:e}=(0,i.F9)(),{fetchBlockingActions:t}=(0,n.S)()??{fetchBlockingActions:e=>new Promise(e=>e([]))};return{showBlockingActionToast:({actionType:r,board:i,section:n})=>{e(f("inProgress",r,i,n)),function({check:e,checkDelay:t,checkInterval:r,onComplete:i}){let n=`timeout${m}`;m+=1;let a=()=>{let t=Date.now();e().then(e=>{let o=Date.now()-t;e?(i(),delete g[n]):g[n]=setTimeout(a,Math.max(1e3,r-o))}).catch(()=>{delete g[n]})};g[n]=setTimeout(a,t)}({check:()=>t(i.id).then(e=>!function({blockingActions:e,actionType:t,boardId:r,sectionId:i}){return e.find(e=>(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}})(e.action_type)===t&&!(_.includes(e.action_type)&&e.is_origin)&&e.board_id===r&&(i?i===e.section_id:!e.section_id||"-1"===e.section_id)&&1!==e.progress)}({blockingActions:e,actionType:r,boardId:i.id,sectionId:n&&n.id})),checkDelay:2e3,checkInterval:5e3,onComplete:()=>e(f("completed",r,i,n))})}}}},107353:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BoardCollabFlyout:()=>A,default:()=>E});var i=r(667294),n=r(616550),a=r(883119),o=r(140017),s=r(554786),l=r(149722),d=r(480236),c=r(995917),u=r(410389),h=r(937153),p=r(669485),_=r(785893);function m({board:e,scrollInfo:t}){let r=(0,o.ZP)(),n=(0,c.Z)({name:"ApiResource",options:{url:u.Z({boardId:e.id})?.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0});if(!n.isLoaded)return(0,_.jsx)(a.$j,{accessibilityLabel:r._('Loading', 'Loading spinner when rendering users', 'Loading spinner when rendering users'),show:!0});{let{owner:r}=e,{data:a,isAtEnd:o,isFetching:s,fetchMore:l}=n,d=[r,...a||[]];return(0,_.jsxs)(i.Fragment,{children:[t?(0,_.jsx)(p.Z,{fetchMore:l,isAtEnd:o,isFetching:s,scrollBuffer:3*t.container.clientHeight,scrollHeight:t.container.scrollHeight,scrollTop:t.top}):null,d.map(e=>{let{full_name:t,id:r,image_medium_url:i,username:n}=e;return(0,_.jsx)(h.Z,{imageUrl:i??"",linkURL:`/${n}/`,name:t??"",subtitle:n,title:t??""},r)})]})}}var g=r(702664),f=r(481177),b=r(930837);let y=({heading:e,description:t,disabled:r=!1,id:i,onChange:n,switched:o})=>(0,_.jsxs)(a.xu,{direction:"column",display:"flex",paddingX:6,paddingY:4,width:"100%",children:[(0,_.jsx)(a.xv,{weight:"bold",children:e}),(0,_.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",marginTop:3,children:[(0,_.jsx)(a.xu,{flex:"grow",marginEnd:2,children:(0,_.jsx)(a.xv,{children:t})}),(0,_.jsx)(a.rs,{disabled:r,id:i,onChange:n,switched:o})]})]});var v=r(761203);function x(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class w extends i.Component{constructor(...e){super(...e),x(this,"state",{invitesEnabled:!!this.props.board?.collaborator_invites_enabled,requestsEnabled:!!this.props.board?.collaborator_requests_enabled,emailEnabled:!!this.props.board?.collab_board_email}),x(this,"handleInvitesToggle",()=>this.setState(e=>({invitesEnabled:!e.invitesEnabled}))),x(this,"handleRequestsToggle",()=>this.setState(e=>({requestsEnabled:!e.requestsEnabled}))),x(this,"handleEmailToggle",()=>this.setState(e=>({emailEnabled:!e.emailEnabled}))),x(this,"handleSubmit",()=>{let{onDismiss:e,board:t,updateBoard:r}=this.props,{invitesEnabled:i,requestsEnabled:n,emailEnabled:a}=this.state,o={...t,collaborator_invites_enabled:i,collaborator_requests_enabled:n,collab_board_email:a};r(o).then(()=>e())})}render(){let{board:e,onDismiss:t,isViewerOwner:r}=this.props,i=e?.privacy,{invitesEnabled:n,requestsEnabled:o,emailEnabled:s}=this.state,l=[{heading:this.props.i18n._('Email notifications', 'Sub-heading for email notifications group board setting', 'Sub-heading for email notifications group board setting'),description:this.props.i18n._('Receive emails when Pins are added to this board', 'Description of email notifications setting', 'Description of email notifications setting'),disabled:!1,onChange:this.handleEmailToggle,id:"email",switched:s}],d=[...l,{heading:this.props.i18n._('Group requests', 'Sub-heading for group requests group board setting', 'Sub-heading for group requests group board setting'),description:this.props.i18n._('People can request to join this board', 'Description of group requests setting', 'Description of group requests setting'),disabled:i===f.Z.BoardPrivacy.SECRET,onChange:this.handleRequestsToggle,id:"requests",switched:o},{heading:this.props.i18n._('Group members', 'Sub-heading for group members group board setting', 'Sub-heading for group members group board setting'),description:this.props.i18n._('Group members can invite others', 'Description of group members setting', 'Description of group members setting'),disabled:!1,onChange:this.handleInvitesToggle,id:"invites",switched:n}];return(0,_.jsx)(b.ZP,{accessibilityModalLabel:this.props.i18n._('Edit group settings', 'Label for editing group settings', 'Label for editing group settings'),footer:(0,_.jsx)(a.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:(0,_.jsx)(a.xu,{paddingX:1,children:(0,_.jsx)(a.zx,{color:"red",onClick:this.handleSubmit,text:this.props.i18n._('Done', 'Button text for being finished with editing group board settings', 'Button text for being finished with editing group board settings')})})}),heading:this.props.i18n._('Group board settings', 'Modal header for editing settings for a group board', 'Modal header for editing settings for a group board'),onDismiss:t,size:"md",children:(r?d:l).map(e=>{let{description:t,disabled:r,heading:i,id:n,onChange:a,switched:o}=e;return(0,_.jsx)(y,{description:t,disabled:r,heading:i,id:n,onChange:a,switched:o},n)})})}}function P(e){let t=(0,o.ZP)(),r=(0,g.useDispatch)(),i=e=>r(i(e)),n=(0,v.gC)()(e.boardId);return(0,_.jsx)(w,{...e,board:n,i18n:t,updateBoard:i})}var S=r(665292);function C(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class A extends i.Component{constructor(...e){super(...e),C(this,"state",{contentRef:null,currentModal:null,scrollContainer:null,scrollTop:null}),C(this,"handleBoardLeave",()=>{let{history:e,viewer:t}=this.props,r=t.isAuth?`/${t.username}`:"/";e.replace(r)}),C(this,"handleContentRef",e=>{let{contentRef:t}=this.state;!t&&e&&(this.setState({contentRef:e}),e.focus())}),C(this,"handleScrollContainer",e=>{let{scrollContainer:t}=this.state;!t&&e&&this.setState({scrollContainer:e})}),C(this,"handleScroll",()=>{let{scrollContainer:e}=this.state;e&&this.setState({scrollTop:e.scrollTop})}),C(this,"handleConfirmationModalOpen",()=>this.setState({currentModal:"confirmation"})),C(this,"handleSettingsModalOpen",()=>this.setState({currentModal:"settings"})),C(this,"handleCloseModal",()=>this.setState({currentModal:null})),C(this,"renderCurrentModal",()=>{let{board:{id:e,owner:t},viewer:r}=this.props,{currentModal:i}=this.state,n=r.isAuth&&r.username===t.username;return"settings"===i?(0,_.jsx)(P,{boardId:e,isViewerOwner:n,onDismiss:this.handleCloseModal}):null})}renderInvite(e,t,r){if(!e.invited_user)return null;let i={invite:e,invitedUser:e.invited_user,onBoardLeave:t,onInviteDidUpdate:r,useGestaltModal:!0,isDim:!1};return(0,_.jsx)(d.Z,{...i})}render(){let{anchor:e,board:t,onDismiss:r}=this.props,{currentModal:n,scrollContainer:o,scrollTop:s}=this.state,l=o?{container:o,top:s||0}:null,d=(t.access||[]).includes("write");return(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)(a.mh,{children:(0,_.jsx)(a.xu,{position:"absolute",top:!0,zIndex:new a.Ry(1),children:(0,_.jsx)(a.J2,{anchor:e,idealDirection:"down",onDismiss:n?()=>{}:r,positionRelativeToAnchor:!1,size:this.props.isDesktop?"xl":"lg",children:(0,_.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",maxHeight:500,minWidth:360,width:"100%",children:[(0,_.jsx)(a.Le,{top:0,children:(0,_.jsxs)(a.xu,{alignItems:"center",display:"flex",height:64,justifyContent:"center",paddingX:4,paddingY:4,position:"relative",children:[(0,_.jsx)("div",{ref:this.handleContentRef,tabIndex:0,children:(0,_.jsx)(a.xv,{size:"300",weight:"bold",children:this.props.i18n._('Group members', 'boardCollabFlyout.header', 'Heading for the group members flyout')})}),d&&(0,_.jsx)(a.xu,{marginEnd:2,marginTop:2,position:"absolute",right:!0,top:!0,children:(0,_.jsx)(a.hU,{accessibilityLabel:this.props.i18n._('Group board settings', 'boardCollabFlyout.settings.button', 'Icon for accessing settings on a group board'),icon:"cog",iconColor:"darkGray",onClick:this.handleSettingsModalOpen,size:"lg"})})]})}),(0,_.jsx)(a.xu,{overflow:"scrollY",children:(0,_.jsx)(a.xu,{ref:this.handleScrollContainer,onScroll:this.handleScroll,children:d?(0,_.jsx)(S.Z,{board:t,onBoardLeave:this.handleBoardLeave,onModalOpen:this.handleConfirmationModalOpen,renderInvite:this.renderInvite,scrollInfo:l}):(0,_.jsx)(m,{board:t,scrollInfo:l})})})]})})})}),this.renderCurrentModal()]})}}function E(e){let t=(0,o.ZP)(),r=(0,l.Z)(),i=(0,n.k6)(),a=(0,s.HG)();return(0,_.jsx)(A,{...e,history:i,i18n:t,isDesktop:a,viewer:r})}},524383:(e,t,r)=>{"use strict";r.d(t,{VV:()=>g,ZP:()=>b,tk:()=>h});var i=r(667294),n=r(883119),a=r(224796),o=r(214877),s=r(140017),l=r(731714),d=r(943114),c=r(785893);function u(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let h=e=>e<=500,p=Object.freeze({}),_={custom:11566,newest:11564,oldest:11565,most_comments:11563,most_reactions:11562,by_pinner:11561},m=(e,t,r)=>{if(!e.isAuth)return;let i=l.Z.getItem(a.iT)||p,n=i[e.id]||{},o={...i,[e.id]:{...n,[t.id]:r}};l.Z.setItem(a.iT,o)},g=(e,t)=>{let r=l.Z.getItem(a.iT)||p,i=e.isAuth&&r[e.id]||{};return i[t.id]||null};class f extends i.Component{constructor(...e){super(...e),u(this,"handleChange",({event:e,value:t})=>{let{onChange:r,viewer:i,board:n}=this.props;e.stopPropagation(),window.scrollTo({top:0,left:0,behavior:"smooth"}),m(i,n,t),r&&r(t),this.props.logContextEvent({event_type:101,view_type:5,view_parameter:(0,d.f4)(i,n),component:13475,element:_[t],aux_data:{board_id:n.id}})}),u(this,"logDropdownClick",()=>{let{board:e,viewer:t}=this.props;this.props.logContextEvent({event_type:101,view_type:5,view_parameter:(0,d.f4)(t,e),component:13486,element:11567,aux_data:{board_id:e.id}})}),u(this,"handleKeyPress",e=>{let{charCode:t=0}=e;32===t&&(e.preventDefault(),this.logDropdownClick())})}render(){let{currentView:e}=this.props,t=[{value:"custom",label:this.props.i18n._('Custom', 'Option for users to filter their Pins in a custom order (as it currently is)', 'Option for users to filter their Pins in a custom order (as it currently is)')},{value:"most_reactions",label:this.props.i18n._('Most reactions', 'Option for users to filter their Pins by the most reactions', 'Option for users to filter their Pins by the most reactions')}];return(0,c.jsx)("div",{onClick:this.logDropdownClick,onKeyPress:this.handleKeyPress,role:"listbox",tabIndex:0,children:(0,c.jsx)(n.EI,{id:"gbFilterSelectlist",onChange:this.handleChange,size:"lg",value:e,children:t.map(e=>(0,c.jsx)(n.EI.Option,{...e},e.label))})})}}let b=function(e){let{logContextEvent:t}=(0,o.v)(),r=(0,s.ZP)();return(0,c.jsx)(f,{...e,i18n:r,logContextEvent:t})}},943114:(e,t,r)=>{"use strict";r.d(t,{Df:()=>n,W$:()=>i,f4:()=>a});let i=(e,t)=>{let r="object"==typeof t.owner?t.owner?.id:t.owner;return e.isAuth&&r===e.id},n=(e,t)=>!!(e.isAuth&&t.collaborated_by_me),a=(e,t)=>i(e,t)?3069:3070},796122:(e,t,r)=>{"use strict";r.d(t,{Z:()=>K});var i=r(667294),n=r(883119),a=r(481177),o=r(930837),s=r(140017),l=r(339001),d=r(5859),c=r(14583),u=r(427514),h=r(13848),p=r(554786),_=r(747602),m=r(168477),g=r(205841),f=r(340523),b=r(995917),y=r(137023),v=r(675266),x=r(785893);function w({selectedContacts:e=[],setSelectedContacts:t}){let r=(0,s.ZP)(),{checkExperiment:a}=(0,f.F)(),{group:o}=a("sg_dweb_create_board_add_collaborators_profile"),{data:l}=(0,b.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),[d,c]=(0,i.useState)([]);(0,i.useEffect)(()=>{l&&"enabled_default_suggestions"===o&&c(l.map(e=>"email_share_suggestion"===e.type?{...e,id:e.email||""}:e))},[l,o]);let[u,h]=(0,i.useState)(""),p=e.map(e=>e.id),_=(0,v.Z)(u)&&!p.includes(u)?{id:u,type:"email"}:null,m=[...e,_,...d.filter(e=>!p.includes(e.id))].filter(Boolean),w=r=>{p.includes(r.id)?t?.((e||[]).filter(e=>e.id!==r.id)):t?.([...e,r])};return(0,x.jsxs)(n.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,x.jsx)(n.xu,{paddingY:2,children:(0,x.jsx)(n.xv,{size:"100",children:r._('Add collaborators', 'text indicates that this section is for adding collaborators to a board', 'boardCreate.addCollaborators.heading')})}),(0,x.jsx)(n.xu,{marginBottom:4,marginTop:2,width:"100%",children:(0,x.jsx)(n.xu,{children:(0,x.jsx)(y.Z,{onTypeaheadSuggestionsChange:e=>{c(e)},resourceName:"ShareSuggestionsTypeaheadResource",value:u,children:(0,x.jsx)(n.Um,{accessibilityLabel:r._('Search for collaborators by name or email', 'users can search for other people and add them as collaborators to a board', 'boardCreate.searchBar.accessibilityLabel'),id:"CollaboratorInviteSearchField",onChange:({value:e})=>{h(e)},placeholder:r._('Search by name or email', 'text in search field to indicate that users could search for other users here', 'boadCreate.searchBar.placeHolder'),size:"lg",value:u})})})}),(0,x.jsx)(n.xu,{overflow:"scrollY",children:m.map(e=>(0,x.jsxs)(n.xu,{display:"flex",paddingY:2,children:[(0,x.jsxs)(n.kC,{flex:"grow",children:["email"===e.type||"email_share_suggestion"===e.type?(0,x.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:3,rounding:"circle",width:48,children:(0,x.jsx)(n.JO,{accessibilityLabel:r._('Email icon', 'Email icon on board create modal', 'boardCreate.emailIcon'),color:"default",icon:"envelope",size:24})}):(0,x.jsx)(n.xu,{display:"flex",flex:"none",height:48,marginEnd:3,width:48,children:(0,x.jsx)(g.qE,{name:e.full_name||"",size:"fit",src:e.image_medium_url||e.image_large_url})}),"email"===e.type||"email_share_suggestion"===e.type?(0,x.jsx)(n.kC,{alignItems:"center",children:(0,x.jsx)(n.xu,{children:(0,x.jsx)(n.xv,{size:"300",children:e.id})})}):(0,x.jsxs)(n.kC,{direction:"column",justifyContent:"center",children:[(0,x.jsx)(n.xu,{marginBottom:1,children:(0,x.jsx)(n.xv,{lineClamp:1,size:"300",children:e.full_name})}),(0,x.jsx)(n.xu,{children:(0,x.jsx)(n.xv,{size:"200",children:`@${e.username||""}`})})]})]}),(0,x.jsx)(n.kC,{flex:"none",children:(0,x.jsx)(n.zx,{onClick:()=>w(e),selected:p.includes(e.id),size:"lg",text:p.includes(e.id)?r._('Added', 'Text that lets the user know they have added the contact', 'boardCreate.addedContactButton'):r._('Add', 'Text that lets the user know they can add that contact', 'boardCreate.addContactButton')})})]},e.id))})]})}var P=r(14774);let S=({label:e,labelId:t})=>t?(0,x.jsx)(n.__,{htmlFor:t,children:(0,x.jsx)(n.xv,{size:"100",children:e})}):(0,x.jsx)(n.xv,{size:"100",children:e});function C(e){let{children:t,label:r,labelId:a}=e;return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(n.xu,{marginBottom:2,children:(0,x.jsx)(S,{label:r,labelId:a})}),t]})}function A({coverPin:e,handleShowBoardCoverEditModal:t}){let r=(0,s.ZP)(),[a,o]=(0,i.useState)(!1),{isRTL:l}=(0,d.B)();return(0,x.jsx)(C,{label:r._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover'),children:(0,x.jsx)(n.xu,{position:"relative",width:138,children:(0,x.jsx)(n.iP,{onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onTap:t,rounding:4,children:e?.custom_cover?(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(n.zd,{height:138,rounding:4,width:138,children:(0,x.jsx)(n.Ee,{alt:e.image_url,color:"gray",fit:"cover",naturalHeight:e.size&&e.size[0]||138,naturalWidth:e.size&&e.size[0]||138,src:e.image_url})}),(0,x.jsx)(n.xu,{bottom:!0,left:l,padding:2,position:"absolute",right:!l,children:(0,x.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:a?"white":"rgba(255, 255, 255, 0.8)"}},display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,children:(0,x.jsx)(n.JO,{accessibilityLabel:r._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),color:"default",icon:"edit",size:16})})})]}):(0,x.jsx)(n.xu,{alignItems:"center",color:a?"darkWash":"secondary",display:"flex",height:138,justifyContent:"center",rounding:4,width:138,children:(0,x.jsx)(n.JO,{accessibilityLabel:r._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function E({children:e,label:t,labelId:r,subtext:a}){return(0,x.jsx)(i.Fragment,{children:(0,x.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,children:[e,(0,x.jsx)(n.xu,{marginStart:2,children:(0,x.jsxs)(n.__,{htmlFor:r,children:[(0,x.jsx)(n.xv,{size:"300",weight:"bold",children:t}),a]})})]})})}function j({hasCollabBoardEmail:e,isCollaborative:t,onCheckboxChange:r}){let i=(0,s.ZP)();return t&&(0,x.jsx)(E,{label:i._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,x.jsx)(n.xv,{color:"subtle",size:"300",children:i._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,x.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:(0,x.jsx)(n.xu,{marginEnd:1,children:(0,x.jsx)(n.XZ,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:r})})})})}var T=r(274262),I=r(847754);function k({board:e,onCollaboratorInviteClick:t}){let r=(0,s.ZP)(),i=(0,I.Z)({boardId:e.id,ownerName:e.owner.full_name??"",ownerUsername:e.owner.username,ownerImgSrc:e.owner.image_medium_url||e.owner.image_small_url||""}),a=i.slice(0,3).map(e=>e.name),o="";switch(i.length){case 3:o=(0,l.Wc)(`${r._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${a[0]}`,second:`${a[1]}`,last:`${a[2]}`});break;case 2:o=(0,l.Wc)(`${r._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${a[0]}`,second:`${a[1]}`});break;default:o=a.join(", ")}let d=i.length>3?(0,l.Wc)(r.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', i.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:o,leftCount:`${i.length-3}`}):(0,l.Wc)(`${r._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:o});return(0,x.jsxs)(n.kC,{alignItems:"center",justifyContent:"between",children:[(0,x.jsx)(n.HE,{accessibilityLabel:d,collaborators:i.map(({name:e,src:t})=>({src:t?.endsWith("/default_75.png")?void 0:t,name:e})),size:"md"}),(0,x.jsx)(n.hU,{accessibilityLabel:r._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:"lg"})]})}function D({board:e,onCollaboratorInviteClick:t}){let r=(0,s.ZP)(),i=(0,x.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[(0,x.jsx)(n.xv,{inline:!0,size:"100",children:r._('Collaborators', ' - ', ' -- ')}),(0,x.jsx)(T.Z,{}),(0,x.jsx)(n.xv,{inline:!0,size:"100",weight:"bold",children:(0,x.jsx)(n.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",target:"blank",underline:"hover",children:r._('Learn more', ' - ', ' -- ')})})]});return(0,x.jsx)(C,{label:i,labelId:"collaborators",children:(0,x.jsx)(k,{board:e,onCollaboratorInviteClick:t})})}function R({collaboratorInvitesEnabled:e,isCollaborative:t,onCheckboxChange:r}){let i=(0,s.ZP)();return t&&(0,x.jsx)(E,{label:i._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,x.jsx)(n.XZ,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:r})})}function z({description:e,descriptionValidatorErrors:t,onChange:r}){let i=(0,s.ZP)(),a="boardEditDescription";return(0,x.jsx)(C,{label:i._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:a,children:(0,x.jsx)(n.Kx,{errorMessage:t.join(", "),id:a,name:"description",onChange:r,placeholder:i._('What\'s your board about?', ' - ', ' -- '),value:e})})}let O=({children:e})=>(0,x.jsx)(n.xu,{paddingX:8,role:"list",children:i.Children.map(e,(t,r)=>t&&(0,x.jsx)(n.xu,{marginBottom:r===i.Children.count(e)-1?1:8,role:"listitem",children:t},r))});function B({name:e,nameValidatorErrors:t,onChange:r,disabled:i}){let a=(0,s.ZP)();return(0,x.jsx)(C,{label:a._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,x.jsx)(n.nv,{disabled:i,errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:r,placeholder:a._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:e})})}let Z=({board:e,collabBoardEmail:t,collaboratorInvitesEnabled:r,coverPin:i,currentUserIsOwner:a,description:o,descriptionValidatorErrors:l,handleBoardLeave:d,isCollaborative:c,showCoverEdit:u,name:h,nameValidatorErrors:p,handleShowBoardCoverEditModal:_,handleChangeName:m,handleChangeDescription:g,handleShowCollaboratorsModal:f,handleChangeCollabBoardEmail:b,handleChangeCollaboratorInvitesEnabled:y})=>{let v=(0,s.ZP)();return(0,x.jsxs)(O,{children:[u&&(0,x.jsx)(A,{coverPin:i,handleShowBoardCoverEditModal:_}),(0,x.jsx)(B,{disabled:!0,name:h,nameValidatorErrors:p,onChange:m}),(0,x.jsx)(z,{description:o,descriptionValidatorErrors:l,onChange:g}),a&&!!d&&(0,x.jsx)(D,{board:e,onCollaboratorInviteClick:f}),c&&(0,x.jsx)(n.xu,{marginBottom:-7,children:(0,x.jsx)(n.xv,{size:"100",children:v._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,x.jsx)(j,{hasCollabBoardEmail:t,isCollaborative:c,onCheckboxChange:b}),(0,x.jsx)(R,{collaboratorInvitesEnabled:r,isCollaborative:c,onCheckboxChange:y})]})};function L({isProtectedToggler:e,isToggleDisable:t,onChange:r,onCheckboxChange:o,privacy:l}){let d=(0,s.ZP)();if(!0===e)return(0,x.jsx)(E,{label:d._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,x.jsx)(n.xu,{paddingY:2,children:(0,x.jsx)(n.rs,{disabled:t,id:"protected",onChange:r,switched:l===a.Z.BoardPrivacy.PROTECTED})})});if(l!==a.Z.BoardPrivacy.PROTECTED){let e=d._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),r=(0,x.jsx)(i.Fragment,{children:(0,x.jsxs)(n.xv,{color:"subtle",size:"300",children:[d._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,x.jsx)(n.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",target:"blank",underline:"hover",children:d._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,x.jsx)(E,{label:e,labelId:"secret",subtext:r,children:(0,x.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:(0,x.jsx)(n.XZ,{checked:l===a.Z.BoardPrivacy.SECRET,disabled:t,id:"secret",name:"secret",onChange:o})})})}return null}function M({allowHomefeedRecommendations:e,onCheckboxChange:t}){let r=(0,s.ZP)();return(0,x.jsx)(E,{label:r._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,x.jsx)(n.xv,{color:"subtle",size:"300",children:r._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,x.jsx)(n.XZ,{checked:e,id:"recommendation",name:"recommendation",onChange:t})})}function N(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let F=(0,i.lazy)(()=>Promise.all([r.e(97270),r.e(46975)]).then(r.bind(r,732420))),U=(0,i.lazy)(()=>Promise.all([r.e(93810),r.e(65292),r.e(10472),r.e(15502),r.e(66354)]).then(r.bind(r,219373))),H=(e,t)=>(0,_.Gy)({max:e,maxErrorString:(0,u.Z)(t._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})}),$=e=>[H(a.Z.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],V=e=>[(0,_.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),H(a.Z.MAX_CHARS_FOR_BOARD_TITLE,e)],G=({condition:e,children:t})=>e?(0,x.jsx)(n.xu,{position:"absolute",zIndex:o.b7,children:t}):t;class W extends i.Component{constructor(e){super(e),N(this,"handleChangeName",({value:e})=>{let t=(0,_.FU)(V(this.props.i18n),e);this.setState({name:e,nameValidatorErrors:t})}),N(this,"handleChangeDescription",({value:e})=>{let t=(0,_.FU)($(this.props.i18n),e);this.setState({description:e,descriptionValidatorErrors:t})}),N(this,"handleChangePrivacyToggle",({value:e})=>{let t="public";e&&(t=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==t&&this.setState({privacy:t})}),N(this,"handleEnableSecret",()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})}),N(this,"handleHideSecretConfirmation",()=>{this.setState({showSecretConfirmation:!1})}),N(this,"handleChangeRecommendationToggle",({value:e})=>{this.setState({allowHomefeedRecommendations:e})}),N(this,"handleChangeCollabBoardEmail",({value:e})=>{this.setState({collab_board_email:e})}),N(this,"handleChangeCollaboratorInvitesEnabled",({value:e})=>{this.setState({collaboratorInvitesEnabled:e})}),N(this,"handleCheckboxChange",e=>({event:t,checked:r})=>e({event:t,value:r})),N(this,"handleSubmit",e=>{let{onSubmit:t}=this.props,{collab_board_email:r,collaboratorInvitesEnabled:i,description:n,name:a,privacy:o,allowHomefeedRecommendations:s}=this.state;if(e.preventDefault&&e.preventDefault(),this.submitDisabled())return;let l=a.trim(),d=n.trim();this.setState({submitting:!0,submitError:""}),t({name:l,collab_board_email:r,collaborator_invites_enabled:i,description:d,privacy:o,allow_homefeed_recommendations:s}).then(()=>{this.setState({submitting:!1})}).catch(e=>{let t=this.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- ');if(e.message){let{message:r,message_detail:i}=e;t=i?`${r} ${i}`:r}else"string"==typeof e&&(t=e);this.setState({submitting:!1,submitError:t})})}),N(this,"handleShowBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!0})}),N(this,"handleHideBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!1})}),N(this,"handleShowCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!0})}),N(this,"handleHideCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!1})}),N(this,"handleSaveBoardCoverEditModal",e=>{this.handleHideBoardCoverEditModal();let{onCropChange:t}=this.props;t&&t(e)});let{board:{collab_board_email:t,collaborator_invites_enabled:r,description:i,name:n,pin_count:a,privacy:o,allow_homefeed_recommendations:s}}=e;this.state={collab_board_email:t,description:i,name:n,pin_count:a,privacy:o,allowHomefeedRecommendations:s,collaboratorInvitesEnabled:r,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:n,previousDescription:i,previousPrivacy:o}}static getDerivedStateFromProps(e,t){let r={};return e.board.name&&e.board.name!==t.previousName&&(r.previousName=e.board.name,r.nameValidatorErrors=(0,_.FU)(V(e.i18n),e.board.name)),e.board.description&&e.board.description!==t.previousDescription&&(r.previousDescription=e.board.description,r.descriptionValidatorErrors=(0,_.FU)($(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==t.previousPrivacy&&(r.previousPrivacy=e.board.privacy),r}getFormFooter(){let{submitText:e}=this.props,{submitError:t}=this.state;return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(n.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,x.jsx)(n.xu,{children:(0,x.jsx)(n.kC,{alignItems:"stretch",justifyContent:"start",children:(0,x.jsx)(n.xu,{height:48,children:(0,x.jsx)(n.zx,{color:"red",dataTestId:"board-form-submit-button",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&(0,x.jsx)(n.xu,{"aria-live":"polite",paddingX:1,tabIndex:"0",children:(0,x.jsx)(n.xv,{color:"error",children:t})})]})}submitDisabled(){let{descriptionValidatorErrors:e,name:t,nameValidatorErrors:r,submitting:i}=this.state;return!t||r.length>0||e.length>0||i}render(){let{board:e,board:{archived_by_me_at:t,cover_pin:r,id:a,is_collaborative:s},coverImageHeight:d,coverImageWidth:u,currentUserIsOwner:h,handleBoardLeave:p,isAdAccount:_,isAdAccountOwner:g,isDeletable:f,isDesktop:b,isEditable:y,isNameAndSecretView:v,onClose:S,onDeleteButtonClick:C,requestContext:E,title:T,useModalWithNoLayer:I,showSecretBoardCreateToggle:k,shouldShowAddCollaborators:N,setSelectedContacts:H,selectedContacts:$}=this.props,{allowHomefeedRecommendations:V,collab_board_email:W,collaboratorInvitesEnabled:K,description:q,descriptionValidatorErrors:Y,name:X,nameValidatorErrors:J,pin_count:Q,privacy:ee,showBoardCoverEdit:et,showCollaboratorsModal:er,showSecretConfirmation:ei}=this.state,en=y&&Q>0,ea=e.is_ads_only,eo=(0,x.jsxs)(O,{children:[en&&(0,x.jsx)(A,{coverPin:r,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,x.jsx)(B,{disabled:ea,name:X,nameValidatorErrors:J,onChange:this.handleChangeName}),(0,x.jsx)(z,{description:q,descriptionValidatorErrors:Y,onChange:this.handleChangeDescription}),h&&!!p&&(0,x.jsx)(D,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,x.jsx)(n.xu,{marginBottom:-7,children:(0,x.jsx)(n.xv,{size:"100",children:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,x.jsx)(L,{isProtectedToggler:!!_,isToggleDisable:!!_&&!g,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:ee}),!t&&(0,x.jsx)(M,{allowHomefeedRecommendations:V,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,x.jsx)(j,{hasCollabBoardEmail:W,isCollaborative:s,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,x.jsx)(R,{collaboratorInvitesEnabled:K,isCollaborative:s,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),f&&(0,x.jsxs)(n.xu,{marginTop:-6,paddingY:4,children:[(0,x.jsx)(n.xv,{size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')}),(0,x.jsxs)(n.iP,{onTap:C,children:[(0,x.jsx)(n.xu,{"data-test-id":"deleteBoardButton",marginBottom:1,marginTop:2,children:(0,x.jsx)(n.X6,{size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),(0,x.jsx)(n.xv,{color:"subtle",size:"300",children:(0,l.nk)(this.props.i18n._('You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }}  days to restore a deleted Board. After that, it will be permanently deleted.', 'boardForm.delete.helperText', 'Delete board warning text'),{MAX_AGE_RECENTLY_DELETED_BOARD:m.Xq})})]})]})]});h?v&&(eo=(0,x.jsxs)(O,{children:[(0,x.jsx)(B,{disabled:ea,name:X,nameValidatorErrors:J,onChange:this.handleChangeName}),!k&&(0,x.jsx)(L,{isProtectedToggler:!!_,isToggleDisable:!!_&&!g,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:ee}),N&&(0,x.jsx)(w,{selectedContacts:$,setSelectedContacts:H})]})):eo=(0,x.jsxs)(O,{children:[!!p&&(0,x.jsx)(D,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,x.jsx)(j,{hasCollabBoardEmail:W,isCollaborative:s,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!t&&ea&&(0,x.jsx)(M,{allowHomefeedRecommendations:V,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,x.jsx)(n.xv,{color:"subtle",size:"300",children:(0,l.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,x.jsx)(n.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:e.owner.full_name})})})]});let es=I?n.u_:o.ZP,el=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),ed=(0,x.jsxs)(n.xu,{paddingY:8,position:"relative",children:[(0,x.jsx)(n.X6,{align:"center",size:"500",children:el}),(0,x.jsx)(n.xu,{left:E.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!E.isRTL,top:!0,children:(0,x.jsx)(n.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]});return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(G,{condition:!!I,children:!et&&!er&&(0,x.jsx)(es,{accessibilityModalLabel:this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),footer:this.getFormFooter(),heading:T,onDismiss:S,size:"sm",children:(0,x.jsx)(n.xu,{"data-test-id":"board-form-container",marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,x.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,children:[!ea&&eo,ea&&(0,x.jsx)(Z,{board:e,collabBoardEmail:W,collaboratorInvitesEnabled:K,coverPin:r,currentUserIsOwner:h,description:q,descriptionValidatorErrors:Y,handleBoardLeave:p,handleChangeCollabBoardEmail:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),handleChangeCollaboratorInvitesEnabled:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),handleChangeDescription:this.handleChangeDescription,handleChangeName:this.handleChangeName,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal,handleShowCollaboratorsModal:this.handleShowCollaboratorsModal,isCollaborative:s,name:X,nameValidatorErrors:J,showCoverEdit:en})]})})})}),et&&b&&(0,x.jsx)(c.Z,{children:(0,x.jsx)(F,{boardId:a,boardName:X,coverPinId:r?.pin_id,frameHeight:d,frameWidth:u,heading:ed,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),ei&&(0,x.jsx)(P.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),er&&(0,x.jsx)(c.Z,{children:(0,x.jsx)(U,{board:e,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})})]})}}function K(e){let t=(0,s.ZP)(),r=(0,p.ZP)();return(0,x.jsx)(W,{...e,i18n:t,isDesktop:"desktop"===r,requestContext:(0,d.B)(),toastManagerContext:(0,h.F9)()})}N(W,"defaultProps",{isNameAndSecretView:!1})},421820:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var i=r(667294),n=r(616550),a=r(214877),o=r(149722),s=r(883119),l=r(140017),d=r(624797),c=r(212890),u=r(761203),h=r(113208),p=r(8874),_=r(636362),m=r(785893);function g({boardResource:{data:e,refresh:t}}){let r=(0,l.ZP)(),i=e?.id,a=(0,u.gC)()(i??"")||null,{search:o,state:g}=(0,n.TH)();if((0,p.Z)(),!a)return(0,m.jsx)(s.$j,{accessibilityLabel:r._('Loading Board page', 'ExperimentalBoardPageContainer.Spinner', 'Accessibility label on loading spinner'),show:!0});let f=g?.newBoard,b=(0,c.Uz)(e?.sensitivity),y=f&&!b&&e?.should_show_more_ideas?h.s.jumpstartBoard:null,v=(0,d.mB)(o);return(0,m.jsx)(_.Z,{board:a,initialModalType:y,refreshBoardData:t,showPulsar:!!v.showPulsar})}function f({boardResource:e}){let t=(0,o.Z)(),{username:r}=(0,n.UO)(),s=t.isAuth&&t.username===r,l=s?3069:3070,{logContextEvent:d}=(0,a.v)();return(0,i.useEffect)(()=>{e.data&&d({aux_data:{board_id:e.data.id,board_pin_count:e.data.pin_count},component:178,event_type:13,view_type:5,view_parameter:l})},[e.data,d,l]),(0,m.jsx)(g,{boardResource:e})}},373395:(e,t,r)=>{"use strict";r.d(t,{W:()=>B,Z:()=>Z});var i,n,a,o,s,l=r(667294),d=r(167912),c=r(214877),u=r(333739),h=r(807023),p=r(494125),_=r(883119),m=r(587703),g=r(207012),f=r(862249),b=r(212890),y=r(785893);let v=void 0!==i?i:i=r(438143);function x({actionKey:e,alignCenter:t}){let r=(0,g.Z)(v,e),i=(0,m.Z)(),{title:n,description:a,button:o}=r,s=o?.text,d=n?.text,c=a?.text,u=o?.link??"",h=u.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),p=s&&u.startsWith("http"),x=(0,f.Z)({url:u});return p?(0,y.jsxs)(l.Fragment,{children:[(0,y.jsx)(_.xu,{marginBottom:1,children:(0,y.jsx)(_.xv,{align:t?"center":"start",weight:"bold",children:""!==s?s:"Visit"})}),(0,y.jsx)(_.xu,{marginBottom:1,children:(0,y.jsx)(_.rU,{href:u,onClick:()=>{(0,b.AY)(i,u)},rel:p&&x?"nofollow":"none",children:(0,y.jsx)(_.xv,{align:t?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:h})})})]}):(0,y.jsxs)(l.Fragment,{children:[!!d&&(0,y.jsx)(_.xu,{marginBottom:1,children:(0,y.jsx)(_.xv,{align:t?"center":"start",weight:"bold",children:d})}),!!c&&(0,y.jsx)(_.xu,{marginBottom:1,children:(0,y.jsx)(_.xv,{align:t?"center":"start",children:c})})]})}let w=void 0!==n?n:n=r(997473);function P({text:e,textTags:t}){let r=[],i=0;for(let n=0;n<t.length;n+=1){let a=t[n];if(5===a.tagType&&a.link){let{offset:t,length:n,link:o}=a;if(null!=t&&null!=n&&null!=o){let a=e.substring(t,t+n),s=(0,y.jsx)(_.xv,{inline:!0,weight:"bold",children:(0,y.jsx)(_.rU,{display:"inlineBlock",href:o,target:"blank",underline:"hover",children:a},a)});r.push((0,y.jsx)("span",{children:e.substring(i,t)})),r.push(s),i=t+n}}}return(i>0&&r.push((0,y.jsx)("span",{children:e.substring(i)})),0===r.length)?[(0,y.jsx)("span",{children:e})]:r}function S({graphqlRef:e,text:t}){let r=(0,d.useFragment)(w,e);return(0,y.jsx)(P,{text:t,textTags:r})}function C({textTags:e,text:t}){let r=e.map(({length:e,link:t,offset:r,tag_type:i})=>({length:e,link:t,offset:r,tagType:i}));return(0,y.jsx)(P,{text:t,textTags:r})}function A({dataKey:e,text:t}){return"graphqlRef"===e.type?(0,y.jsx)(S,{graphqlRef:e.data,text:t}):(0,y.jsx)(C,{text:t,textTags:e.data})}let E=[4,14],j={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},T={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},I=void 0!==a?a:a=r(173477);function k({advisory:e,inModal:t,noticeKey:r}){let{data:i,childDataKey__DEPRECATED:n}=(0,h.Q)(I,r,{useLegacyAdapter:e=>({actions:e.actions?.map(e=>({actionId:e.id,$fragmentSpreads:u.qH})),description:e.description&&{text:e.description.text,textTags:e.description.text_tags?.map(()=>({$fragmentSpreads:u.qH}))},title:e.title})}),{title:a,description:o}=i,s="graphqlRef"===n.type?n.data.actions?.map(e=>({type:"graphqlRef",data:e})):n.data.actions?.map(e=>({type:"deprecated",data:e})),l=!!s?.length&&!!e&&E.includes(e),d=s?.length===1,c=o&&o.text||"";return(0,y.jsxs)(_.xu,{dangerouslySetInlineStyle:{__style:t?T:j},padding:6,rounding:2,children:[!!a&&!t&&(0,y.jsx)(_.xu,{display:"flex",marginBottom:2,children:(0,y.jsx)(_.X6,{size:"500",children:a})}),!!c&&(0,y.jsx)(_.xu,{"data-test-id":"search-advisory",marginBottom:4,children:(0,y.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,y.jsx)(_.xv,{align:t?"center":"start",overflow:"normal",children:(0,y.jsx)(A,{dataKey:"graphqlRef"===n.type?{type:"graphqlRef",data:n.data.description?.textTags??[]}:{type:"deprecated",data:n.data.description.text_tags??[]},text:c})})})}),l&&(0,y.jsx)(_.xu,{direction:t?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:s?.map(e=>y.jsx(_.xu,{column:t||d?12:6,paddingX:2,paddingY:1,children:y.jsx(x,{actionKey:e,alignCenter:t||d})},e.data.actionId??JSON.stringify(e.data)))})]})}let D=void 0!==o?o:o=r(798824);function R({noticeKey:e}){let{data:t,childDataKey__DEPRECATED:r}=(0,h.Q)(D,e,{useLegacyAdapter:e=>({actions:e.actions?.map(e=>({button:e.button&&{link:e.button.link,text:e.button.text},description:e.description&&{text:e.description.text},title:e.title&&{text:e.title.text}})),description:e.description&&{text:e.description.text,textTags:e.description.text_tags?.map(()=>({$fragmentSpreads:u.qH}))},footer:e.footer&&{link:e.footer.link,text:e.footer.text}})}),i=(0,m.Z)(),n={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,y.jsxs)(_.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,y.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:8,width:656,children:(0,y.jsxs)(_.xu,{height:"100%",padding:10,width:"100%",children:[(0,y.jsx)("span",{style:n,children:(0,y.jsx)(A,{dataKey:"graphqlRef"===r.type?{type:"graphqlRef",data:r.data.description?.textTags??[]}:{type:"deprecated",data:r.data.description.text_tags??[]},text:t.description?.text||""})}),(0,y.jsx)(_.xu,{marginTop:6,children:(t.actions??[]).map(e=>{let t=e.button?.link;return t&&t.startsWith("tel")?(0,y.jsxs)(_.xu,{children:[(0,y.jsx)("span",{style:{fontWeight:"600",...n},children:e.title?.text}),(0,y.jsx)("span",{style:n,children:e.description?.text})]}):(0,y.jsx)(_.rU,{href:t||"",onClick:()=>{(0,b.AY)(i,t||"")},children:(0,y.jsx)(_.xu,{display:"inlineBlock",children:(0,y.jsx)(_.xu,{alignItems:"center",color:"infoBase",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,y.jsx)(_.xv,{color:"inverse",weight:"bold",children:e.button?.text||""})})})})})})]})}),!!t.footer&&(0,y.jsx)(_.xu,{paddingY:2,width:540,children:(0,y.jsx)(_.rU,{display:"inlineBlock",href:t.footer.link??"",onClick:()=>{(0,b.AY)(i,t.footer?.link??"")},target:"blank",underline:"hover",children:(0,y.jsx)(_.xv,{align:"center",color:"subtle",size:"100",children:(0,y.jsx)("div",{dangerouslySetInnerHTML:{__html:t.footer.text??""}})})},t.footer.link)})]})}let z=void 0!==s?s:s=r(329638);function O({advisoryDetails:e,boardId:t,boardSectionId:r,query:i,sensitivity:n,viewParameter:a,viewType:o}){let{logContextEvent:s}=(0,c.v)();(0,p.Z)(()=>{o&&s({aux_data:{entered_query:i,advisory_details:e,advisory_level:n?.advisory,severity_level:n?.severity},component:13367,event_type:120,view_parameter:a,view_type:o}),t&&5===o&&s({aux_data:{board_id:t,board_section_id:r??0},component:178,event_type:15549,view_parameter:a,view_type:o})})}function B({boardId:e,boardSectionId:t,sensitivityKey:r,inModal:i,query:n,viewParameter:a,viewType:o}){let{data:s,childDataKey__DEPRECATED:d}=(0,h.Q)(z,r,{useLegacyAdapter:e=>({advisory:e.advisory,severity:e.severity,notices:e.notices?.map(e=>({style:e.style,$fragmentSpreads:u.qH}))})});O({advisoryDetails:r?.type==="deprecated"?r.data.advisory_details:void 0,boardId:e,boardSectionId:t,query:n,sensitivity:null!=s?{advisory:s.advisory,severity:s.severity}:void 0,viewParameter:a,viewType:o});let c=d?.type==="graphqlRef"?d.data.notices?.map(e=>({type:"graphqlRef",data:e})):d?.data.notices?.map(e=>({type:"deprecated",data:e}));return(0,y.jsx)(l.Fragment,{children:(c??[]).map(e=>2===e.data.style?(0,y.jsx)(R,{noticeKey:e}):(0,y.jsx)(k,{advisory:s?.advisory,inModal:i,noticeKey:e}))})}function Z({boardId:e,boardSectionId:t,notices:r,query:i,sensitivity:n,viewParameter:a,viewType:o,inModal:s}){return O({advisoryDetails:n?.advisory_details,boardId:e,boardSectionId:t,query:i,sensitivity:{advisory:n?.advisory,severity:n?.severity},viewParameter:a,viewType:o}),(0,y.jsx)(l.Fragment,{children:r?.map(e=>2===e.style?y.jsx(R,{noticeKey:{type:"deprecated",data:e}},e.id):y.jsx(k,{advisory:n?.advisory,inModal:s,noticeKey:{type:"deprecated",data:e}},e.id))})}},212890:(e,t,r)=>{"use strict";r.d(t,{AY:()=>o,IR:()=>n,St:()=>i,Uz:()=>a});let i={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},n={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function a(e){return!!e&&e.severity===n.ABUSIVE}function o(e,t){e({aux_data:{url:t},component:13367,element:11180,event_type:101,view_parameter:43,view_type:2})}},143953:(e,t,r)=>{"use strict";r.d(t,{OP:()=>u,ZP:()=>c,_8:()=>d});var i,n=r(422578),a=r(782005),o=r(766323),s=r(646473);let l=void 0!==i?i:i=r(42080);function d(e){let t=(0,n.useFragment)(l,e);return!!(t&&(t.notice||t.notices?.[0]&&null!==t.notices[0].title))}function c(e){if(null==e)return!1;let t=!!e.notices&&e.notices.length>0;return e.notices&&e.notices.length>0&&e.notices[0]?.title===null&&(t=!1),!!e.notice||t}function u(e){let{scope:t}=(0,o.b)(),{data:r,isLoaded:i}=(0,s.Z)(),n=d(e);if(t===a.lw.USERS)return n;if(!i||!r)return!1;let{sensitivity:l}=r;return c(l)}},161672:(e,t,r)=>{"use strict";let i;r.d(t,{i5:()=>v,sX:()=>P,aX:()=>x,Z5:()=>y,NG:()=>w,MT:()=>S,iu:()=>C});var n=r(667294),a=r(216167),o=r(859721),s=r(342513),l=r(638747),d=r(996523);let c=(e,t)=>e.data[t]&&e.data[t].messages||[];function u(e,t){let r=new Map;for(let i of e){if(!i)continue;let e=t(i);if(r.has(e)){let t=(0,d.Z)(r.get(e),i);r.set(e,t)}else r.set(e,i)}return[...r.values()]}function h(e){return[...e].sort((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at))}function p(e,t,r){return h(u(c(e,t).concat(r),e=>e.id))}let _={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function m(e=_,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){let{id:r}=t.payload;return{...e,data:{...e.data,[r]:{...e.data[r]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){let r={...e,data:{...e.data}},{id:i}=t.payload;return delete r.data[i],r}if("FETCH_COMPLETE"===t.type){let{options:r,resource:i,response:n}=t.payload,a=n.resource_response.data;if("ConversationMessagesResource"===i){let t=r?.conversation_id||"",i=p(e,t,a||[]),n=i[i.length-1],o={...e,data:{...e.data,[t]:{...e.data[t],id:t,messages:i,unread:0,last_message:n}}};return o}if("ConversationsResource"===i){let t={...e,data:{...e.data}};return(a||[]).forEach(e=>{let{id:r,created_at:i,name:n,board:a,emails:o,unread:s,users:l,last_message:d}=e,c=p(t,r,[d]);t.data[r]={...t.data[r],id:r,created_at:i,name:n,board:a,emails:o||[],unread:s||0,users:l||[],last_message:d,messages:c}}),t}if("ConversationResource"===i){let t=a||{},{id:r}=t,i={...e,data:{...e.data}};return r&&(i.data[r]={...i.data[r],...t}),i}if("NewsHubBadgeResource"===i&&a){let t=a.conversations_unseen_count||0;return{...e,unread:t}}}else if("MESSAGE_SEND_PENDING"===t.type){let{id:r,message:i}=t.payload;if(e.data[r])return{...e,data:{...e.data,[r]:{...e.data[r],id:r,messages:[...e.data[r].messages,i]}}}}else if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){let{id:r,tempMessage:i,newMessage:n}=t.payload;if(e.data[r]){let t=c(e,r).find(e=>e.id===i.id&&e.created_ms===i.created_ms);if(t){let t=h(u(c(e,r).filter(e=>e.id!==i.id).concat([n]),e=>e.id));return{...e,data:{...e.data,[r]:{...e.data[r],last_message:n,messages:t}}}}}}else if("MESSAGE_SEND_PENDING_FAILURE"===t.type){let{id:r,tempMessageId:i}=t.payload;if(e.data[r]){let t=c(e,r).filter(e=>e.id!==i);return{...e,data:{...e.data,[r]:{...e.data[r],messages:t}}}}}else if("OPEN_NEW_MESSAGE"===t.type){let{objectAttachment:r}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:r}}else if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};else if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};else if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};else if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};else if("CLEAR_MESSAGE_BADGE"===t.type){let{id:r}=t.payload;return{...e,data:{...e.data,[r]:{...e.data[r],unread:0}}}}else if("CONVERSATION_SAVE_POSITION"===t.type){let{id:r,position:i}=t.payload;return{...e,data:{...e.data,[r]:{...e.data[r],position:i}}}}else if("CONVERSATION_RESET_POSITION"===t.type){let{id:r}=t.payload;return{...e,data:{...e.data,[r]:{...e.data[r],position:null}}}}else if("SET_OBJECT_ATTACHMENT"===t.type){let{objectAttachment:r}=t.payload;return{...e,objectAttachment:r}}else if("REMOVE_OBJECT_ATTACHMENT"===t.type)return{...e,objectAttachment:null};return e}var g=r(785893);let f=(i=0,()=>i++),{Provider:b,useHook:y}=(0,s.Z)("Conversations");function v({children:e}){let[t,r]=(0,n.useReducer)(m,_),i=(0,n.useCallback)(e=>r({type:"FETCH_COMPLETE",payload:e}),[]);(0,l.Z8)("ConversationMessagesResource",i),(0,l.my)("ConversationMessagesResource",i),(0,l.Z8)("ConversationsResource",i),(0,l.Z8)("ConversationResource",i),(0,l.Z8)("NewsHubBadgeResource",i);let o=(0,n.useCallback)((e,t=!1,i="")=>r({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:i}}),[]),s=(0,n.useCallback)((e,t="",i=!1)=>r({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:i}}),[]),d=(0,n.useCallback)(e=>r({type:"CONVERSATION_CREATE",payload:e}),[]),c=(0,n.useCallback)(e=>r({type:"CONVERSATION_DELETE",payload:{id:e}}),[]),u=(0,n.useCallback)((e,t)=>r({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}}),[]),h=(0,n.useCallback)(e=>r({type:"CONVERSATION_RESET_POSITION",payload:{id:e}}),[]),p=(0,n.useCallback)((e,t,i)=>{a.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(e=>{let t=e&&e.resource_response.data;r({type:"CONVERSATION_OPEN",payload:{id:t.id}})}).catch(e=>{let t=e.message_detail||e.message||"";i(t)})},[]),f=(0,n.useCallback)(()=>{r({type:"CLOSE_DROPDOWN"})},[]),y=(0,n.useCallback)(()=>{r({type:"OPEN_DROPDOWN"})},[]),v=(0,n.useCallback)(e=>{r({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})},[]),x=(0,n.useCallback)((e,t)=>r({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}),[]),w=(0,n.useCallback)((e,t,i)=>r({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:i}}),[]),P=(0,n.useCallback)((e,t)=>r({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}}),[]),S=(0,n.useCallback)(e=>r({type:"UPDATE_NEWSHUB_COUNT",payload:e}),[]),C=(0,n.useCallback)(e=>r({type:"UPDATE_UNREAD_COUNT",payload:e}),[]),A=(0,n.useCallback)(e=>r({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}}),[]),E=(0,n.useCallback)(e=>r({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}}),[]),j=(0,n.useCallback)(()=>r({type:"REMOVE_OBJECT_ATTACHMENT"}),[]),T=(0,n.useMemo)(()=>({clearMessageBadge:A,conversationOpen:o,conversationClose:s,conversationCreate:d,conversationDelete:c,conversationGet:p,saveConversationPosition:u,resetConversationPosition:h,dropdownClose:f,dropdownOpen:y,newMessageOpen:v,pendingMessageSend:x,pendingMessageSuccess:w,pendingMessageFailure:P,updateNewsHubCount:S,updateUnreadCount:C,conversations:t,setObjectAttachment:E,removeObjectAttachment:j}),[A,o,s,d,c,p,u,h,f,y,v,x,w,P,S,C,t,E,j]);return(0,g.jsx)(b,{value:T,children:e})}function x(){let{conversationCreate:e}=y();return async t=>{let r;let i=a.Z.create("ConversationsResource",t);try{let t=await i.callCreate(),n=t.resource_response.data;n&&(e(n),r=n)}catch(e){throw Error(e.message)}return r}}function w(){let{conversations:e,conversationCreate:t,pendingMessageSend:r,pendingMessageSuccess:i,pendingMessageFailure:n}=y(),s=(0,o.Z)();return async(o,l,d,c)=>{let{text:u,pinId:h,boardId:p,userId:_,didItId:m}=l;async function g(){let e=a.Z.create("ConversationMessagesResource",{conversation_id:o,text:u,pin:h,board:p,user:_,user_did_it_data:m,source:d,client_tracking_params:s(h??"")}),t=`${f()}`,l={text:u,sender:c,created_at:new Date().toString(),created_ms:Date.now(),id:t,type:"tempMessage"};r(o,l);try{let t=await e.callCreate(),r=t.resource_response.data;r&&i(o,l,r)}catch(e){throw n(o,t),Error(e.message)}}if(e.data[o])await g();else{let e=a.Z.create("ConversationResource",{conversation_id:o});try{let r=await e.callGet(),i=r.resource_response.data;i&&(t(i),await g())}catch(e){throw Error(e.message)}}}}function P(e){let{conversations:t}=y();return t.data[e]}function S(e){let{conversations:t}=y();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function C(){let{conversations:{data:e}}=y(),t=Object.keys(e).map(t=>e[t]).filter(e=>e.users&&e.last_message);return Array.from(t).sort((e,t)=>new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at))}},213503:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S}),r(167912);var i,n=r(883119),a=r(587703),o=r(207012),s=r(140017),l=r(340523),d=r(48481),c=r(217058),u=r(623409),h=r(13848),p=r(554786),_=r(494125),m=r(149722),g=r(735728),f=r(358589),b=r(386008),y=r(155087),v=r(155117),x=r(785893);let w=({children:e,pulsar:t,testId:r})=>t.show?(0,x.jsx)(n.xu,{"data-test-id":r,position:"relative",children:(0,x.jsxs)(n.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,x.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,x.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,x.jsx)(n.o3,{})})]})}):(0,x.jsx)(n.xu,{"data-test-id":r,children:e}),P=void 0!==i?i:i=r(628596);function S({auxData:e,disabled:t,disableLog:r,followEventType:i,id:S,inline:C,invertColors:A,isFollowed:E,isIdeaPin:j,isLegoEnabled:T,isSecondaryButton:I,isUserFollowButton:k,isUserMe:D,onFollow:R,onUnfollow:z,pinKey:O,shouldUseLegoColors:B,showPulsar:Z,size:L,textType:M="FollowFollowing",unfollowEventType:N,viewParameter:F,viewType:U,clientTrackingParams:H}){let $;let V=(0,s.ZP)(),G=(0,p.HG)(),{showToast:W}=(0,h.F9)(),K=(0,u.Z)(),q=(0,a.Z)(),Y=(0,d.Z)(),{checkExperiment:X}=(0,l.F)(),J=(0,f.Z)(),Q=(0,m.Z)(),ee=Q&&Q.isAuth,{unauthFollowUserId:et,setUnauthFollowUserId:er}=(0,v.f)(),ei=(0,b.mN)()(S),en=ei&&{imageMediumUrl:ei.image_medium_url,username:ei.username},ea=(0,o.Z)(P,O),eo=ea?.linkDomain,es=ea?.nativeCreator,el=ea?.originPinner,ed=ea?.pinner;$=es||(eo?eo.officialUser:el||ed);let ec=en??$;(0,_.Z)(()=>{!G&&ee&&et&&S&&et===S&&R(S)});let eu=J({fn:()=>{ee?E?(z(S),r||q({event_type:N,view_type:U,view_parameter:F,object_id_str:S,aux_data:e,clientTrackingParams:H})):(R(S),k&&W(({hideToast:e})=>{let t=ec?.username?`/${ec.username}/`:"";return(0,x.jsx)(y.Z,{handleHide:e,href:t,imageUrl:ec?.imageMediumUrl||"",text:V._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow'),userId:S})}),r||q({event_type:i,view_type:U,view_parameter:F,object_id_str:S,aux_data:e,clientTrackingParams:H})):((0,c.NC)(E?"press_profile_unfollow":"press_profile_follow"),K({action:"click",item:E?"unfollow-button":"follow-button"}),Y({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:j?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:G&&X("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!G&&X("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),G||er(S??""),(0,c.NC)("clickthrough"))},modalHeader:(0,g.N4)({i18n:V,toFollow:!E})}),eh=!E&&!!Z,ep=()=>{if(D)return V._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===M)return E?V._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):V._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');let e="FollowUnfollow"===M?V._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):V._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return E?e:V._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,x.jsx)(w,{pulsar:eh?{show:!0,onClick:eu}:{show:!1},testId:D||E?"board-unfollow-button":"board-follow-button",children:(0,x.jsx)(n.zx,{accessibilityLabel:ep(),color:B||"AddRemove"===M||!T&&I||E?"gray":"red",disabled:D||t,fullWidth:C,onClick:eh?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),r||q({event_type:101,component:13672,element:11951,object_id_str:S,view_type:U,view_parameter:F,aux_data:e,clientTrackingParams:H}),eu()},selected:A?!E:B&&E||!!E&&I,size:L,text:ep()})})}},623501:(e,t,r)=>{"use strict";r.d(t,{HW:()=>o,YW:()=>u,i3:()=>h,o2:()=>c});var i=r(667294),n=r(342513),a=r(785893);let o=660,s={educationId:null,paddingRight:0,zIndex:o};function l(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:r}=t.payload;return{...e,educationId:r};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:i}=t.payload;return{...e,paddingRight:i};case"FOOTER_SET_Z_INDEX":let{zIndex:n}=t.payload;return{...e,zIndex:n};default:return e}}let{Provider:d,Consumer:c,useHook:u}=(0,n.Z)("footerContext");function h({children:e}){let[t,r]=(0,i.useReducer)(l,s),n=(0,i.useCallback)(e=>r({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),o=(0,i.useCallback)(e=>r({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),c=(0,i.useCallback)(e=>r({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),u=(0,i.useMemo)(()=>({...t,setEducationId:o,setPaddingRight:n,setZIndex:c}),[t,o,n,c]);return(0,a.jsx)(d,{value:u,children:e})}},136359:(e,t,r)=>{"use strict";r.d(t,{c:()=>n,t:()=>a});var i=r(164212);function n({children:e}){let{height:t}=(0,i.J)();return e(t)}function a(){let{height:e}=(0,i.J)();return e}},164212:(e,t,r)=>{"use strict";r.d(t,{J:()=>d,Z:()=>p});var i=r(667294),n=r(342513),a=r(794109),o=r(983983),s=r(785893);let{Provider:l,useHook:d}=(0,n.Z)("Header"),c={childList:!0,attributes:!0,subtree:!0},u={height:o.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function h(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw Error("action type not supported")}}function p({children:e}){let t=(0,i.useRef)(null),[{height:r,isInBiznuxFullscreen:n,repinPinId:d,repinStartAnimation:p,showAccountMenuFlyout:_},m]=(0,i.useReducer)(h,u);(0,i.useEffect)(()=>{let e=document.getElementById(o.WZ);return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(()=>{e&&m({type:"updateHeight",payload:e.clientHeight})}),t.current.observe(e,c)),()=>{t.current?.disconnect()}});let g=(0,i.useMemo)(()=>({height:r,isInBiznuxFullscreen:n,repinPinId:d,repinStartAnimation:p,showAccountMenuFlyout:_,updateHeaderState:m}),[m,r,n,d,p,_]);return(0,s.jsx)(l,{value:g,children:(0,s.jsx)(a.t,{children:e})})}},983983:(e,t,r)=>{"use strict";r.d(t,{L1:()=>a,Rz:()=>l,WZ:()=>o,cI:()=>n,fe:()=>s,hu:()=>i});let i=64,n=80,a=22,o="HeaderContent",s=671,l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},692440:(e,t,r)=>{"use strict";r.d(t,{H:()=>d,N:()=>l});var i=r(667294),n=r(342513),a=r(638747),o=r(785893);let{Provider:s,useHook:l}=(0,n.Z)("LastSavedTo");function d({children:e}){let[t,r]=(0,i.useState)();(0,a.Z8)("BoardPickerBoardsShortlistResource",e=>{if(!t){let{data:t}=e.response.resource_response;r(t)}});let n=(0,i.useCallback)(e=>{let i=t?t.filter(t=>t.id!==e.id):[];r([e,...i])},[t]),l=(0,i.useMemo)(()=>({lastSavedTo:t,saveToBoard:n}),[t,n]);return(0,o.jsx)(s,{value:l,children:e})}},69979:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(883119),n=r(232887);let a=new i.H3([n.Z]),o=a},180338:(e,t,r)=>{"use strict";r.d(t,{H:()=>n,W:()=>a});var i=r(342513);let{Provider:n,useMaybeHook:a}=(0,i.Z)("PinCreateDeleteContext")},676554:(e,t,r)=>{"use strict";r.d(t,{F4:()=>f,ZP:()=>A,hW:()=>g,jz:()=>b,q:()=>m,rX:()=>E}),r(167912);var i,n,a,o,s=r(240684),l=r(207012),d=r(554786),c=r(149722),u=r(19447),h=r(118923),p=r(832853),_=r(785893);let m=(0,s.ZP)({resolved:{},chunkName:()=>"AuthDesktopPinRep",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(93041),r.e(29494),r.e(72632),r.e(71945),r.e(2984)]).then(r.bind(r,912849)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return r(t)},resolve:()=>912849}),g=(0,s.ZP)({resolved:{},chunkName:()=>"DefaultPinRep",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(97270),r.e(93810),r.e(18738),r.e(9253),r.e(39921)]).then(r.bind(r,113936)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return r(t)},resolve:()=>113936}),f=(0,p.Z)(()=>Promise.all([r.e(93041),r.e(29494),r.e(72632),r.e(71945),r.e(2984)]).then(r.bind(r,912849)),void 0,"AuthDesktopPinRep"),b=(0,p.Z)(()=>Promise.all([r.e(97270),r.e(93810),r.e(18738),r.e(9253),r.e(39921)]).then(r.bind(r,113936)),void 0,"DefaultPinRep"),y=void 0!==i?i:i=r(910982),v=void 0!==n?n:n=r(770181),x=void 0!==a?a:a=r(903414),w=e=>{let t=(0,h.b)(),{pinKey:r,trackingParamsMap:i,...n}=e,a=(0,l.Z)(x,r);return t?(0,_.jsx)(f,{...n,pinKey:a,trackingParamsMap:i}):(0,_.jsx)(m,{...n,pinKey:a,trackingParamsMap:i})},P=e=>{let t=(0,h.b)(),{pinId:r,pin:i,...n}=e,a=(0,u.S6)(),o=r?a(r):null,s=o||i;return t?(0,_.jsx)(f,{...n,pinKey:{type:"deprecated",data:s},trackingParamsMap:s.tracking_params_map}):(0,_.jsx)(m,{...n,pinKey:{type:"deprecated",data:s},trackingParamsMap:s.tracking_params_map})},S=void 0!==o?o:o=r(700554),C=e=>{let{pinKey:t,...r}=e,i=(0,h.b)(),n=(0,l.Z)(S,e.pinKey);return i?(0,_.jsx)(b,{...r,duploQueryRef:n}):(0,_.jsx)(g,{...r,duploQueryRef:n})};function A(e){let t=(0,d.HG)(),r=(0,c.Z)(),i=r&&r.isAuth&&t,n=(0,l.Z)(y,e.duploQueryRef);if(i&&!e.duploQueryRef){let{disableReaction:t,disableRounding:r,disableAppUpsell:i,duploDedupeVisualAnnotations:n,duploDisablePinCardPadding:a,duploFeedItemProps:o,duploIsSquarePin:s,duploLazyLoadImage:l,duploOneTapSave:d,duploPinCardDetailsMargin:c,duploPriorityFetchImage:u,duploQueryRef:h,duploShouldAddNiiSearchParamToImageUrls:p,duploShouldAllowProductPriceIndicator:m,duploConversationPin:g,topLevelTrafficSource:f,topLevelTrafficSourceDepth:b,trafficSource:y,...v}=e;return(0,_.jsx)(P,{...v})}let{attributionOption:a,blockClickEvents:o,borderStyle:s,disableHover:u,imageHeightModifier:h,imageOnlyOption:p,onError:m,onLoad:g,pin:f,pinImageCrop:b,pinImageFit:v,resolution:x,rounding:w,saveButtonOptions:S,authDesktopSelectionState:A,authDesktopSurface:E,pinOwner:j,duploQueryRef:T,...I}=e;return(0,_.jsx)(C,{...I,pinKey:n})}function E(e){let t=(0,d.HG)(),r=(0,c.Z)(),i=r&&r.isAuth&&t,n=(0,l.Z)(y,e.duploQueryRef),a=(0,l.Z)(v,e.pinKey);if(i&&!e.duploQueryRef&&null!=a&&null!=e.pinKey){let{disableReaction:t,disableRounding:r,disableAppUpsell:i,duploDedupeVisualAnnotations:n,duploDisablePinCardPadding:o,duploFeedItemProps:s,duploIsSquarePin:l,duploLazyLoadImage:d,duploOneTapSave:c,duploPinCardDetailsMargin:u,duploPriorityFetchImage:h,duploQueryRef:p,duploShouldAddNiiSearchParamToImageUrls:m,duploShouldAllowProductPriceIndicator:g,duploConversationPin:f,topLevelTrafficSource:b,topLevelTrafficSourceDepth:y,trafficSource:v,pinKey:x,trackingParamsMap:P,...S}=e,{pin:C,pinId:A,...E}=S;return(0,_.jsx)(w,{...E,pinKey:a,trackingParamsMap:P})}let{attributionOption:o,blockClickEvents:s,borderStyle:u,disableHover:h,imageHeightModifier:p,imageOnlyOption:m,onError:g,onLoad:f,pin:b,pinImageCrop:x,pinImageFit:P,resolution:S,rounding:A,saveButtonOptions:E,authDesktopSelectionState:j,authDesktopSurface:T,pinOwner:I,duploQueryRef:k,trackingParamsMap:D,...R}=e;return(0,_.jsx)(C,{...R,pinKey:n})}},563322:(e,t,r)=>{"use strict";r.d(t,{x:()=>s,y:()=>l});var i=r(667294),n=r(342513),a=r(785893);let{Provider:o,useMaybeHook:s}=(0,n.Z)("ProfileViewContext");function l({children:e}){let[t,r]=(0,i.useState)(),[n,s]=(0,i.useState)(new Map),[l,d]=(0,i.useState)(),[c,u]=(0,i.useState)(),[h,p]=(0,i.useState)(0),_=(0,i.useCallback)((e,t)=>{s(new Map(n.set(e,t)))},[n]),m=(0,i.useMemo)(()=>({boardPinDensity:t,boardSortOrder:n,profileBoardView:l,profilePinDensity:c,profileFollowingSelectedIndex:h,setBoardPinDensity:r,updateBoardSortOrder:_,setProfileBoardView:d,setProfilePinDensity:u,setProfileFollowingSelectedIndex:p}),[t,n,l,c,h,_]);return(0,a.jsx)(o,{value:m,children:e})}},761203:(e,t,r)=>{"use strict";r.d(t,{bn:()=>s,fJ:()=>d,gC:()=>l});var i=r(702664),n=r(342513),a=r(785893);let{Provider:o,useHook:s}=(0,n.Z)("Boards");function l(){let e=s();return t=>e[t]}function d({children:e}){let t=(0,i.useSelector)(({boards:e})=>e,i.shallowEqual);return(0,a.jsx)(o,{value:t,children:e})}},19447:(e,t,r)=>{"use strict";r.d(t,{AF:()=>s,H0:()=>l,S6:()=>d,_S:()=>c});var i=r(702664),n=r(342513),a=r(785893);let{Provider:o,useHook:s,useMaybeHook:l}=(0,n.Z)("Pins");function d(){let e=s();return t=>e[t]}function c({children:e}){let t=(0,i.useSelector)(({pins:e})=>e,i.shallowEqual);return(0,a.jsx)(o,{value:t,children:e})}},386008:(e,t,r)=>{"use strict";r.d(t,{Tt:()=>u,cm:()=>c,kW:()=>l,kY:()=>h,mN:()=>d});var i=r(702664),n=r(342513),a=r(149722),o=r(785893);let{Provider:s,useHook:l}=(0,n.Z)("Users");function d(){let e=l();return t=>e[t]}function c(){let e=l();return(t,r=!1)=>{let i=Object.keys(e).find(r=>e[r].username===t);if(i||!r)return e[i??""]}}function u(){let{id:e}=(0,a.Z)(),t=l();return t[e??""]}function h({children:e}){let t=(0,i.useSelector)(({users:e})=>e,i.shallowEqual);return(0,o.jsx)(s,{value:t,children:e})}},24066:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var i=r(667294),n=r(702664),a=r(883119),o=r(481177),s=r(140017),l=r(827625),d=r(995917),c=r(416049),u=r(149722),h=r(785059),p=r(35222),_=r(199677),m=r(908057),g=r(673463),f=r(581349),b=r(327540),y=r(112544),v=r(785893);function x(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w({board:e,hovered:t,searchQuery:r}){let i=e.privacy===o.Z.BoardPrivacy.SECRET;return(0,v.jsxs)(a.xu,{color:t?"secondary":"default",display:"flex",padding:2,rounding:2,children:[(0,v.jsx)(a.xu,{flex:"grow",children:(0,v.jsx)(a.xv,{weight:"bold",children:(0,f.W)(r,e.name)})}),(0,v.jsxs)(a.kC,{alignItems:"stretch",direction:"row",flex:"none",justifyContent:"start",children:[i&&(0,v.jsx)(b.Z,{type:"secret"}),e.is_collaborative&&(0,v.jsx)(b.Z,{type:"group"})]})]})}class P extends i.Component{constructor(e){super(e),x(this,"getSections",()=>{if(!this.props.boardResource.data?.all_boards)return[];let{searchQuery:e}=this.state,{boardResource:{data:{all_boards:t}}}=this.props;return e.length>=c.Z?[{items:(0,g.j)(t,e)}]:[{items:t}]}),x(this,"createBtnDisabled",()=>{if(!this.props.boardResource.data?.all_boards)return!1;let{boardResource:{data:{all_boards:e}}}=this.props,{searchQuery:t}=this.state;return e.some(e=>e.name?.toLowerCase()===t.toLowerCase())}),x(this,"handleBoardCreate",()=>()=>{let{searchQuery:e}=this.state;if(!e)return;let{createBoard:t,invalidateBoardPickerBoardsResource:r,onBoardCreate:i}=this.props;if(r(),i){i(e);return}t({name:e,privacy:"public"}).then(e=>{let{onBoardChosen:t}=this.props;t(e)})}),x(this,"handleBoardSelected",e=>{this.props.onBoardChosen(e),this.setState({selectedBoard:e})}),x(this,"handleSearchQueryUpdate",e=>{this.setState({searchQuery:e})}),x(this,"renderRow",({item:e,hovered:t})=>{let{searchQuery:r}=this.state;return(0,v.jsx)(w,{board:e,hovered:t,searchQuery:r})}),this.state={searchQuery:"",selectedBoard:e.board}}render(){let{boardResource:e,board:t,isBoardlessPinsBoard:r,isQuickCreatesBoard:i,isStoryPin:n}=this.props,{searchQuery:o,selectedBoard:s}=this.state,l=this.props.i18n._('Select a board', 'Label for selecting a board in Edit Pin Modal', 'Label for selecting a board in Edit Pin Modal');return t?l=i?this.props.i18n._('Choose board', 'BoardPickerFlyout.displayBoardName.quickCreatesBoard', 'Title for board picker when current board is a quick creates board'):r?this.props.i18n._('Profile', 'BoardPickerFlyout.displayBoarName.boardlessPins', 'Title indicating the pin is saved to profile'):t.name:s&&(l=s.name),(0,v.jsxs)(a.xu,{children:[(0,v.jsx)(a.$j,{accessibilityLabel:this.props.i18n._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!e.isLoaded}),e.data&&(0,v.jsx)(m.Z,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:l||"",isStoryPin:n,onCreate:this.handleBoardCreate(),onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleBoardSelected,renderRow:this.renderRow,searchQuery:o,sections:this.getSections()})]})}}function S(e){let t=(0,y.Z)(),r=(0,s.ZP)(),i=(0,n.useDispatch)(),a=(0,u.Z)(),o=(0,n.useSelector)(({advertiser:e})=>e),c=a.isAuth&&o&&o.owner_user_id!==a.id,m=c?o.id:null,g=c?o.owner_user_id:null,f=(0,h.Z)(),b=(0,p.Z)(),x=(0,_.Ms)(a,f),w=x||g,S=(0,d.Z)({name:"BoardPickerBoardsResource",options:{pin_id:e.pinId,field_set_key:"board_picker",onlyFetchBoards:!0,username:w,...m&&g?{advertiser_id:m,filter:"protected",username:g}:{},orbac_subject_id:b},noCache:!0});return(0,v.jsx)(P,{...e,advertiser_id:m,boardResource:S,createBoard:e=>t({boardCreateOptions:e}),i18n:r,invalidateBoardPickerBoardsResource:()=>{i((0,l.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker",...x?{username:x}:{username:g}}))},username:g,viewer:a})}},908057:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var i=r(667294),n=r(883119),a=r(140017),o=r(340523),s=r(334688),l=r(218829),d=r(600959),c=r(923075),u=r(785893);function h(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p extends i.Component{constructor(...e){super(...e),h(this,"state",{itemSelected:!1,showFlyout:!1}),h(this,"setContainerRef",e=>{this.containerRef=e}),h(this,"handleCreate",()=>{this.hideFlyout();let{onCreate:e}=this.props;e&&e()}),h(this,"handleSelectItem",e=>{this.hideFlyout();let{onSelect:t,onCreate:r}=this.props;e?(this.setState(()=>({itemSelected:!0})),t(e)):r&&r()}),h(this,"handleDropdownTouch",()=>{this.setState(e=>({showFlyout:!e.showFlyout}))}),h(this,"handleHideFlyout",e=>{this.containerRef&&e.target instanceof HTMLElement&&!this.containerRef.contains(e.target)&&this.hideFlyout()}),h(this,"hideFlyout",()=>{let{hoverHandlers:{onMouseLeave:e}}=this.props;e(),this.setState({showFlyout:!1})})}componentDidMount(){document.addEventListener("click",this.handleHideFlyout,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleHideFlyout,{capture:!0})}render(){let{dropdownValue:e,fetchMore:t,hoverHandlers:{onMouseOver:r,onMouseLeave:i},idealDirection:a,isHovering:o,isStoryPin:s,onCreate:h,onSearchQueryUpdate:p,renderRow:_,searchQuery:m,sections:g,createBtnDisabled:f}=this.props,{itemSelected:b,showFlyout:y}=this.state;this.indexManager=new l.Z(g.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem);let v=!m.trim()||!!f;return(0,u.jsxs)(n.xu,{ref:this.setContainerRef,flex:s?"grow":void 0,children:[(0,u.jsx)(n.iP,{fullWidth:!!s,onMouseEnter:r,onMouseLeave:i,onTap:this.handleDropdownTouch,rounding:s?4:2,children:s?(0,u.jsxs)(n.xu,{alignItems:"center",borderStyle:"lg",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:s?4:3,rounding:s?4:2,children:[(0,u.jsx)(n.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",children:(0,u.jsx)(n.xv,{color:b?"default":"subtle",children:e})}),(0,u.jsx)(n.JO,{accessibilityLabel:this.props.i18n._('Icon for drop down', 'repinPicker.pickerFlyoutIcon.accessibilityLabel', 'Accessibility label for the arrow-down icon.'),color:"default",icon:"arrow-down",size:14})]}):(0,u.jsxs)(n.xu,{alignItems:"center",color:o?"lightWash":"secondary",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:s?4:3,rounding:s?4:2,children:[(0,u.jsx)(n.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",children:(0,u.jsx)(n.xv,{color:"default",weight:"bold",children:e})}),(0,u.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:"arrow-down",size:14})]})}),y&&(0,u.jsx)(n.xu,{position:"relative",children:(0,u.jsxs)(n.xu,{borderStyle:"sm",color:"default",direction:"column",display:"flex",left:"left"===a,overflow:"hidden",position:"absolute",right:"right"===a,rounding:s?4:2,width:s?"150%":"100%",zIndex:new n.Ry(2),children:[(0,u.jsx)(n.xu,{children:(0,u.jsxs)(n.xu,{display:"flex",marginEnd:-1,marginStart:-1,padding:2,children:[(0,u.jsx)(n.xu,{display:"flex",flex:"grow",paddingX:1,children:(0,u.jsx)(c.Z,{hideIcon:!0,indexManager:this.indexManager,onChange:p,value:m})}),h&&(0,u.jsx)(n.xu,{paddingX:1,children:(0,u.jsx)(n.zx,{dataTestId:"picker-flyout-create-button",disabled:v,onClick:this.handleCreate,text:this.props.i18n._('Create', 'board or section dropdown create button', 'board or section dropdown create button')})})]})}),(0,u.jsx)(d.Z,{fetchMore:t,indexManager:this.indexManager,maxHeight:240,onSelectItem:this.handleSelectItem,renderItem:_,sections:g})]})})]})}}function _(e){let t=(0,a.ZP)(),{checkExperiment:r}=(0,o.F)(),{isHovering:i,hoverHandlers:n}=(0,s.Z)();return(0,u.jsx)(p,{...e,checkExperiment:r,hoverHandlers:n,i18n:t,isHovering:i})}},23254:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v,x:()=>y});var i=r(667294),n=r(702664),a=r(883119),o=r(587703),s=r(140017),l=r(995917),d=r(416049),c=r(402287),u=r(908057),h=r(673463),p=r(581349),_=r(785893);function m(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let g="NO_SECTION_VALUE";function f({section:e,hovered:t,searchQuery:r}){return(0,_.jsxs)(a.xu,{children:[(0,_.jsx)(a.xu,{color:t?"secondary":"default",display:"flex",padding:2,rounding:2,children:(0,_.jsx)(a.xu,{flex:"grow",children:(0,_.jsx)(a.xv,{weight:"bold",children:(0,p.W)(r,e.title)})})}),e.id===g&&(0,_.jsx)(a.iz,{})]})}class b extends i.Component{constructor(...e){super(...e),m(this,"state",{searchQuery:""}),m(this,"getPickerSections",()=>{let{searchQuery:e}=this.state,{sectionsResource:t,mergingFromSectionId:r}=this.props,i=t&&t.data||[];return i=r?i.filter(e=>e.id!==r):[{id:g,title:this.props.i18n._('No section', 'default dropdown option for selecting a board section on pin edit', 'default dropdown option for selecting a board section on pin edit')},...i],e.length>=d.Z&&(i=(0,h.j)(i,e,"title")),[{items:i}]}),m(this,"createBtnDisabled",()=>{let{sectionsResource:e}=this.props,{searchQuery:t}=this.state;return!!e&&!!e.data&&e.data.some(e=>e.title?.toLowerCase()===t.toLocaleLowerCase())}),m(this,"handleSectionCreate",()=>{let{board:e,onSectionChange:t,sectionsResource:r,dispatch:i,onSectionCreate:n,logContextEvent:a}=this.props,{searchQuery:o}=this.state;if(n){n(o);return}i&&e.id&&i((0,c.vB)({boardId:e.id,name:o},this.props.i18n,void 0,a)).then(e=>{r&&r.refresh(),this.setState({searchQuery:""}),t(e)})}),m(this,"handleSectionSelected",e=>{let{onSectionChange:t}=this.props;t(e.id===g?null:e),this.setState({searchQuery:""})}),m(this,"handleSearchQueryUpdate",e=>{this.setState({searchQuery:e})}),m(this,"renderRow",({item:e,hovered:t})=>{let{searchQuery:r}=this.state;return(0,_.jsx)(f,{hovered:t,searchQuery:r,section:e})})}componentDidUpdate(e){let t=e.selectedSectionId,{selectedSectionId:r}=this.props;if(r!==t){let{sectionsResource:e}=this.props;e&&e.refresh()}}render(){let{idealDirection:e,isStoryPin:t,sectionsResource:r,selectedSectionId:i,mergingFromSectionId:n,selectedSectionName:o}=this.props,{searchQuery:s}=this.state,l=n?this.props.i18n._('Pick a section', 'default dropdown option for selecting a board section to merge to', 'default dropdown option for selecting a board section to merge to'):this.props.i18n._('No section', 'default dropdown option for selecting a board section on pin edit', 'default dropdown option for selecting a board section on pin edit'),d=l;if(i){let e;r&&r.data&&(e=r.data.find(e=>e.id===i)),d=e&&e.title||d}else o&&(d=o);return(0,_.jsxs)(a.xu,{children:[(0,_.jsx)(a.$j,{accessibilityLabel:this.props.i18n._('loading section picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!!r&&!r.isLoaded}),(!r||r&&r.isLoaded)&&(0,_.jsx)(u.Z,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:d,idealDirection:e,isStoryPin:t,onCreate:n?null:this.handleSectionCreate,onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleSectionSelected,renderRow:this.renderRow,searchQuery:s,sections:this.getPickerSections()})]})}}function y(e){let t=(0,s.ZP)();return(0,_.jsx)(b,{...e,dispatch:(0,n.useDispatch)(),i18n:t,logContextEvent:(0,o.Z)()})}function v(e){let t=(0,l.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id},noCache:!0});return(0,_.jsx)(y,{...e,sectionsResource:t})}},923075:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r(667294),n=r(883119),a=r(140017),o=r(317540),s=r(785893);function l(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends i.Component{constructor(...e){super(...e),l(this,"setInputRef",e=>{e&&(this._input=e)}),l(this,"handleKeyDown",e=>{let{disabled:t,indexManager:r}=this.props;if(!t)switch(e.which){case o.Z.ENTER:case o.Z.NUMPAD_ENTER:e.preventDefault(),r.select();break;case o.Z.UP:e.preventDefault(),r.prev();break;case o.Z.DOWN:e.preventDefault(),r.next()}})}componentDidMount(){this._input&&this._input.focus()}render(){let{onChange:e,value:t}=this.props;return(0,s.jsx)("div",{onKeyDown:this.handleKeyDown,role:"presentation",style:{width:"100%"},children:(0,s.jsx)(n.Um,{ref:this.setInputRef,accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),size:"lg",value:t})})}}let c=function(e){let t=(0,a.ZP)();return(0,s.jsx)(d,{...e,i18n:t})}},175597:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i=r(667294),n=r(883119),a=r(140017),o=r(218829),s=r(600959),l=r(923075),d=r(581349),c=r(503500),u=r(160390),h=r(785893);function p(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class _ extends i.Component{constructor(...e){super(...e),p(this,"state",{searchQuery:""}),p(this,"handleSelectItem",e=>{let{onCreate:t,onSelected:r}=this.props;if(!e&&t){let{searchQuery:e}=this.state;t(e)}else e&&r(e);(t||e)&&this.setState({searchQuery:""})}),p(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),p(this,"renderSectionHeader",e=>e.title?(0,h.jsx)(n.xu,{children:(0,h.jsx)(n.xu,{paddingX:3,paddingY:1,children:(0,h.jsx)(n.xv,{size:"200",children:e.title})})}):null),p(this,"renderRow",({item:e,hovered:t,sectionProps:r={}})=>{let{boardSavedTo:i,isSelectMode:n,disabledRowId:a}=this.props,{searchQuery:o}=this.state,{inSectionSelection:s=!1}=r,l=i&&i.board===e.id,c=l?i&&i.state:null,u="board_section"===e.type;return(0,h.jsx)(d.Z,{disabled:e.id===a&&s,isSection:u,isSelectMode:n,isWithinSectionPicker:s,item:e,saveState:c,searchQuery:o,selected:t})})}render(){let{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:r,getSections:i,isLoaded:a,onCreate:d,pinId:p}=this.props;if(!a)return(0,h.jsx)(n.xu,{paddingY:5,children:(0,h.jsx)(n.$j,{accessibilityLabel:this.props.i18n._('loading section picker', 'accessibility label for the loading spinner the repin picker', 'accessibility label for the loading spinner the repin picker'),show:!0})});{let{searchQuery:a}=this.state,_=i(a);return this.indexManager=new o.Z(_.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),(0,h.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{zIndex:0}},direction:"column",display:"flex",flex:"grow",height:"100%",minHeight:0,overflow:"auto",children:[!r&&(0,h.jsx)(n.xu,{children:(0,h.jsx)(n.xu,{marginBottom:4,marginTop:1,paddingX:3,children:(0,h.jsx)(l.Z,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:a})})}),(0,h.jsx)(s.Z,{disabled:!!e,grow:!r&&!a,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:_}),d&&(0,h.jsx)(n.xu,{borderStyle:_.length>1?"shadow":"none",children:(0,h.jsx)(u.Z,{buttonLabel:t,hasHoverState:!0,name:a,onClick:()=>d(a)})}),r&&d&&p&&(0,h.jsx)(c.Z,{onBoardSelected:d,pinId:p})]})}}}function m(e){let t=(0,a.ZP)();return(0,h.jsx)(_,{...e,i18n:t})}},673463:(e,t,r)=>{"use strict";r.d(t,{j:()=>o});let i={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"s",:"u",:"u",:"u",:"u"},n=e=>{if(!e)return"";let t="";for(let r=0;r<e.length;r+=1)t+=i[e.charAt(r)]||e.charAt(r);return t},a=(e,t)=>{let r=t.split(" "),i=e.split(" "),a=0;for(let e=0;e<i.length;e+=1){let t=n(i[e]);(t.includes(r[a])||i[e].includes(r[a]))&&(a+=1)}return a===r.length},o=(e,t,r="name")=>{let i=t.toLowerCase();return e.filter(e=>a(e[r].toLowerCase(),i))}},42173:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(667294),n=r(71328);function a(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let o=({scrollTop:e,clientHeight:t,scrollHeight:r},i)=>{let n=e+t,a=i?i(t):2*t;return n+a>r};class s extends i.PureComponent{constructor(...e){super(...e),a(this,"setContainerRef",e=>{this.containerRef=e}),a(this,"fetchMoreIfNecessary",(0,n.Z)(()=>{let{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&o(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){let{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},155117:(e,t,r)=>{"use strict";r.d(t,{f:()=>s,w:()=>l});var i=r(667294),n=r(342513),a=r(785893);let{Provider:o,useHook:s}=(0,n.Z)("Session");function l({children:e}){let[t,r]=(0,i.useState)(void 0),n=(0,i.useCallback)(()=>r(void 0),[]),s=(0,i.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:r,removeUnauthFollowUserId:n}),[t,n]);return(0,a.jsx)(o,{value:s,children:e})}},784300:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(667294),n=r(883119),a=r(572345),o=r(785893);let s=function({badgeSize:e,badgeSpacing:t,fullName:r,isVerifiedIdentity:s,isVerifiedMerchant:l,truncate:d=!1}){let c=r.split(" "),u=c.slice(0,c.length-1).join(" "),h=" ".concat(c[c.length-1]);return d?(0,o.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,o.jsx)(n.xv,{lineClamp:1,weight:"bold",children:r}),(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{top:t}},flex:"none",paddingX:1,position:"relative",children:(0,o.jsx)(a.Z,{isVerifiedIdentity:s,isVerifiedMerchant:l,size:e})})]}):(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)("span",{children:u}),(0,o.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[h,"\xa0",(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{top:t}},display:"inlineBlock",flex:"none",position:"relative",children:(0,o.jsx)(a.Z,{isVerifiedIdentity:s,isVerifiedMerchant:l,size:e})})]})]})}},801690:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(667294),n=r(525364),a=r(105737),o=r(766311),s=r(785893);class l extends i.Component{componentDidMount(){let{setCurrentPageData:e,viewData:t,viewParameter:r,viewType:i}=this.props;e({viewData:t,viewParameter:r,viewType:i})}componentDidUpdate(e){let{setCurrentPageData:t,viewData:r,viewParameter:i,viewType:n}=this.props;i===e.viewParameter&&n===e.viewType&&(0,a.ZP)(r,e.viewData)||t({viewData:r,viewParameter:i,viewType:n})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:t,component:r,objectIdStr:i,viewData:n,viewParameter:a,viewType:l,clientTrackingParams:d}=this.props;return(0,s.jsx)(o.Z,{auxData:e,clientTrackingParams:d,component:r,objectIdStr:i,viewData:n,viewParameter:a,viewType:l,children:t})}}function d(e){let{setViewContextData:t,clearViewContextData:r}=(0,n.sV)();return(0,s.jsx)(l,{...e,clearCurrentPageData:r,setCurrentPageData:t})}},766311:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(667294),n=r(587703),a=r(217058);let o=e=>Object.keys(e).reduce((t,r)=>(void 0===e[r]&&delete t[r],t),{...e}),s=({viewType:e,viewParameter:t,viewData:r,auxData:i,objectIdStr:n,component:s,clientTrackingParams:l,element:d},c)=>{let u=o({event_type:13,view_type:e,view_parameter:t,view_data:r,aux_data:i,object_id_str:n,component:s,clientTrackingParams:l,element:d});-1===Object.keys(u).indexOf("view_type")&&(0,a.My)("mweb.logging.null_view_type"),c(u)};function l(e){let{auxData:t,clientTrackingParams:r,children:a,component:o,element:l,objectIdStr:d,viewData:c,viewParameter:u,viewType:h}=e,p=(0,n.Z)(),_=JSON.stringify(t),m=JSON.stringify(c);return(0,i.useEffect)(()=>{s(e,p)},[p,_,r,o,l,d,m,u,h]),i.Children.only(a)}},400564:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(883119),n=r(785893);function a(e){let{accessibilityLabel:t,bgColor:r,icon:a,onClick:o,selected:s,size:l,tooltip:d}=e;return(0,n.jsx)(i.hU,{accessibilityLabel:t,bgColor:r??"transparent",icon:a,iconColor:"darkGray",onClick:o,selected:s,size:l??"lg",tooltip:d?{text:d}:void 0})}},452364:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(667294),n=r(883119),a=r(400564),o=r(785893);function s({bgColor:e,children:t,icon:r,label:s,size:l,id:d,tooltip:c}){let u=(0,i.useRef)(null),[h,p]=(0,i.useState)(!1),_=()=>p(!1);return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(n.xu,{ref:u,"data-test-id":d,children:(0,o.jsx)(a.Z,{accessibilityLabel:s,bgColor:e,icon:r,onClick:()=>p(!h),selected:h,size:l,tooltip:c})}),h&&(0,o.jsx)(n.Lt,{anchor:u.current,disableMobileUI:!0,id:"actionBarMenuButton",idealDirection:"down",onDismiss:_,zIndex:new n.Ry(1e3),children:t({handleClose:_})})]})}},168477:(e,t,r)=>{"use strict";r.d(t,{FC:()=>s,FP:()=>a,M0:()=>n,Xq:()=>l,s0:()=>i,z9:()=>o});let i=44,n=236,a=157,o=320,s=213,l=7},14774:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(883119),n=r(930837),a=r(140017),o=r(785893);function s({cancelButtonLabel:e,confirmButtonLabel:t,heading:r,message:s,onCancel:l,onConfirm:d}){let c=(0,a.ZP)(),u=r||c._('Are you sure?', ' - ', ' -- '),h=e||c._('Cancel', ' - ', ' -- ');return(0,o.jsx)(n.ZP,{accessibilityModalLabel:u,footer:(0,o.jsxs)(i.xu,{marginEnd:-1,marginStart:-1,children:[(0,o.jsx)(i.xu,{"data-test-id":"cancel-button",padding:1,children:(0,o.jsx)(i.zx,{fullWidth:!0,onClick:l,size:"lg",text:h})}),(0,o.jsx)(i.xu,{"data-test-id":"confirm-button",padding:1,children:(0,o.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:d,size:"lg",text:t})})]}),heading:u,onDismiss:l,role:"alertdialog",children:(0,o.jsx)(i.xu,{padding:4,children:(0,o.jsx)(i.xv,{children:s})})})}},976439:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var i=r(667294),n=r(883119),a=r(930837),o=r(140017),s=r(995917),l=r(702664),d=r(216167),c=r(636259),u=r(107366),h=r(454514),p=r(5859),_=r(13848),m=r(149722),g=r(785059),f=r(199677),b=r(844683),y=r(339001),v=r(168477),x=r(785893);function w(){let e=(0,o.ZP)();return(0,x.jsx)(n.xu,{color:"warningWeak",rounding:3,children:(0,x.jsx)(n.xu,{padding:4,children:(0,x.jsxs)(n.kC,{alignItems:"center",direction:"row",gap:3,children:[(0,x.jsx)(n.qb,{type:"warning"}),(0,x.jsx)(n.xv,{size:"200",children:e._('Note: If this board has Pins that are currently being Promoted (active ads), then those promoted Pins will not be distributed in this period. Additionally, when the board is permanently deleted, the Pins will be, too.', 'boardEdit.advertiserBoardDeleteWarning.text', 'text to warning advertisers when deleting a board')})]})})})}function P({board:e,onCancel:t,onConfirm:r}){let i=(0,o.ZP)(),{advertiser:a}=(0,p.B)(),s=(0,m.Z)(),l=!!s.isAuth&&s.id===a?.owner_user_id;return(0,x.jsx)(n.mh,{zIndex:b.b7,children:(0,x.jsx)(n.WB,{accessibilityModalLabel:i._('Delete board', 'boardEdit.boardDeleteConfirmation.accessibilityModalLabel', 'Accessibility modal label for board delete confirmation modal'),heading:i._('Delete this board?', 'boardEdit.boardDeleteConfirmation.heading', 'Heading for board delete confirmation modal'),onDismiss:t,primaryAction:{accessibilityLabel:i._('Confirm delete board', 'boardEdit.boardDeleteConfirmation.primaryAction.accessibilityLabel', 'Accessibility modal label for board delete confirmation modal primary action'),dataTestId:"confirm-button",label:i._('Delete', 'boardEdit.boardDeleteConfirmation.primaryAction.label', 'Label for board delete confirmation modal primary action'),onClick:r},secondaryAction:{accessibilityLabel:i._('Cancel board deletion', 'boardEdit.boardDeleteConfirmation.secondaryAction.accessibilityLabel', 'Accessibility modal label for board delete confirmation modal secondary action'),label:i._('Cancel', 'boardEdit.boardDeleteConfirmation.secondaryAction.label', 'Label for board delete confirmation modal secondary action'),onClick:t},children:(0,x.jsxs)(n.kC,{direction:"column",gap:4,children:[(0,x.jsx)(n.xv,{children:(0,y.nk)(i.ngettext('The board {{ boardName }} and {{ pinCount }} Pin will be removed from your profile. You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }} days to restore them in the {{ recentlyDeleted }} section. After that, they\'ll be permanently deleted.', 'The board {{ boardName }} and {{ pinCount }} Pins will be removed from your profile. You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }} days to restore them in the {{ recentlyDeleted }} section. After that, they\'ll be permanently deleted.', e.pin_count || 0, 'boardEdit.boardDeleteConfirmation.text', 'message informing user of board deletion. boardName:name of board. pinCount:number of Pins. MAX_AGE_RECENTLY_DELETED_BOARD:how old a board can be before it is deleted. recentlyDeleted:section of profile used to access on profile for recently deleted boards'),{boardName:(0,x.jsx)(n.xu,{display:"inlineBlock",children:(0,x.jsx)(n.xv,{weight:"bold",children:e.name})}),MAX_AGE_RECENTLY_DELETED_BOARD:v.Xq,pinCount:e.pin_count,recentlyDeleted:(0,x.jsx)(n.xv,{inline:!0,weight:"bold",children:i._('Recently deleted', 'boardEdit.boardDeleteConfirmation.recentlyDeletedText', 'Name for section on profile for recently deleted boards')})})}),l&&(0,x.jsx)(w,{})]})})})}var S=r(796122),C=r(821419),A=r(265330),E=r(386129),j=r(761203);function T(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class I extends i.Component{constructor(...e){super(...e),T(this,"state",{editMode:"main"}),T(this,"handleBoardLeave",()=>{let{board:e,onBoardLeave:t,onClose:r}=this.props;r(),t&&t(e.id)}),T(this,"returnToMainEditMode",()=>this.setState({editMode:"main"})),T(this,"handleDelete",async()=>{let{board:e,deleteBoard:t,onBoardDelete:r,onClose:i,toastManagerContext:n,viewer:a,orbacActingAs:o}=this.props;await t(e.id,(0,f.lJ)(a,o)),n.showToast(({hideToast:e})=>(0,x.jsx)(h.ZP,{onHide:e,text:this.props.i18n._('Board deleted!', 'User deleted their board', 'User deleted their board')})),this.returnToMainEditMode(),i(),r&&r(e)}),T(this,"handleShowDeleteModal",()=>{this.setState({editMode:"confirmDelete"})}),T(this,"handleSubmit",e=>{let{viewer:t,orbacActingAs:r,board:i,updateBoard:n,onBoardPrivacyChange:a,onBoardUpdate:o,onClose:s}=this.props,l=this.props.board.id;if((0,f.D3)(t,i.owner?.id||"",r)){let d={...e};return n(l,d,(0,f.lJ)(t,r)).then(()=>{i.privacy!==e.privacy&&a?a():o&&o(l,d),s()})}{let{allow_homefeed_recommendations:t,collab_board_email:r}=e;t!==i.allow_homefeed_recommendations&&n(l,{allow_homefeed_recommendations:t});let a=(0,u.Z)({url:`/v3/boards/${l}/settings/`,method:"POST",data:{collab_board_email:r}});return a.then(()=>s()).catch(e=>{throw e.message})}})}render(){let{board:e,categories:t,viewer:r,orbacActingAs:a,onCropChange:o,onClose:s,onToggleFlyout:l,requestContext:d}=this.props,{editMode:c}=this.state,u=this.props.i18n._('Edit your board', 'BoardEdit.Heading.Text', 'edit board heading'),h=(0,f.D3)(r,e.owner?.id||"",a),p=(0,x.jsxs)(n.kC,{alignContent:"center",children:[(0,x.jsx)(n.xu,{column:2,paddingY:8}),(0,x.jsx)(n.xu,{column:8,paddingY:8,position:"relative",children:(0,x.jsx)(n.X6,{align:"center",size:"500",children:u})}),(0,x.jsx)(n.xu,{column:2,left:d.isRTL,paddingY:8,position:"relative",right:!d.isRTL,top:!0,children:(0,x.jsx)(n.hU,{accessibilityLabel:this.props.i18n._('Close', 'BoardEdit.icon.cancel', 'Icon to close board edit modal'),icon:"cancel",iconColor:"darkGray",onClick:s,size:"md"})})]});return(0,x.jsxs)(i.Fragment,{children:["main"===c&&(0,x.jsx)(S.Z,{board:e,categories:t,currentUserIsOwner:h,handleBoardLeave:this.handleBoardLeave,isArchivable:!0,isDeletable:h,isEditable:h,onClose:s,onCropChange:o,onDeleteButtonClick:this.handleShowDeleteModal,onSubmit:this.handleSubmit,onToggleFlyout:l,submitText:this.props.i18n._('Done', 'BoardEdit.BoardEdit', 'Submit button text'),title:p}),"confirmDelete"===c&&(0,x.jsx)(P,{board:e,onCancel:this.returnToMainEditMode,onConfirm:()=>{this.handleDelete()}})]})}}function k(e){let t=(0,o.ZP)(),r=(0,l.useDispatch)(),n=function(){let e=(0,j.bn)(),t=(0,l.useDispatch)(),{refreshRecentlyDeletedBoards:r}=(0,c.Z)(),n=(0,i.useCallback)(async(i,n)=>{let a=e[i],{pin_count:o}=a,{id:s=""}=a.owner??{};t((0,C.eo)({boardId:i})),t((0,E.JS)({userId:s,increment:"number"==typeof o?-o:0})),await d.Z.create("BoardResource",{board_id:i,...n?{orbac_subject_id:n}:Object.freeze({})}).callDelete({showError:!0}),r()},[e,t,r]);return n}();return(0,x.jsx)(I,{...e,deleteBoard:n,i18n:t,orbacActingAs:(0,g.Z)(),requestContext:(0,p.B)(),toastManagerContext:(0,_.F9)(),updateBoard:(e,t,i)=>r((0,A.V)(e,t,i)),viewer:(0,m.Z)()})}function D({boardId:e,onBoardPrivacyChange:t,onBoardLeave:r,onBoardDelete:l,onBoardUpdate:d,onClose:c,onCropChange:u}){let h=(0,o.ZP)(),[p,_]=(0,i.useState)(!1),{data:m}=(0,s.Z)({name:"CategoriesResource",noCache:!0});(0,s.Z)({name:"BoardResource",options:{field_set_key:"edit",board_id:e},noCache:!0});let g=(0,j.gC)()(e);return g&&m?(0,x.jsx)(k,{board:g,categories:m,onBoardDelete:l,onBoardLeave:r,onBoardPrivacyChange:t,onBoardUpdate:d,onClose:()=>{p||c()},onCropChange:u,onToggleFlyout:()=>_(!p)}):(0,x.jsx)(a.ZP,{accessibilityModalLabel:h._('Board edit', 'BoardEdit.BoardEditModal', 'Accessibility label on modal'),onDismiss:c,size:"sm",children:(0,x.jsx)(n.xu,{padding:12,children:(0,x.jsx)(n.$j,{accessibilityLabel:h._('Board edit', 'BoardEdit.BoardEditModal', 'Accessibility label on loading spinner'),show:!0})})})}},86173:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(616550),n=r(96157);function a({hasPin:e,pinId:t,boardLayout:r,boardUrl:a}){let o=(0,i.TH)(),s=(0,i.UO)(),l=(0,i.k6)();return()=>{if(e&&(0,n.L6)(o)&&s.id===t){let e="quick_saves"===r||"quick_creates"===r?"/me/":a??"/";l.replace(e)}}}},34817:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s,e:()=>o});var i=r(883119),n=r(5859),a=r(785893);let o=new i.Ry(1);function s({children:e,isImagePinForUnauthOnTablet:t}){let{isAuthenticated:r}=(0,n.B)();return(0,a.jsxs)(i.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,zIndex:r?void 0:o,children:[(0,a.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},232887:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(883119),n=r(34817);let a=new i.H3([n.e]),o=a},237040:(e,t,r)=>{"use strict";r.d(t,{J1:()=>d,Uw:()=>l,Yg:()=>u,ib:()=>p,jT:()=>g,nF:()=>m,xX:()=>_});var i=r(340523),n=r(5859),a=r(554786),o=r(953565);let s=()=>{let{isAuthenticated:e,isBot:t}=(0,n.B)();return t?"bot":e?"auth":"unauth"},l=({isDesktop:e,viewerType:t})=>"bot"===t?"seo_graphql_pin_page":"auth"===t?e?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page":e?"unauth_dweb_graphql_pin_page":"unauth_mweb_graphql_pin_page",d=()=>{let e=(0,a.HG)(),t=s();return l({isDesktop:e,viewerType:t})},c=({checkExperiment:e,isAuthMweb:t})=>{let r=t&&e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0}).group;return r?e=>(0,o.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:r}}):null},u=()=>{let{isAuthenticated:e}=(0,n.B)(),t=(0,a.HG)(),{checkExperiment:r}=(0,i.F)();return c({checkExperiment:r,isAuthMweb:e&&!t})},h=0,p=({checkExperiment:e,isAuthMweb:t})=>{let r=c({checkExperiment:e,isAuthMweb:t});r&&(h+=1)<10&&r(`repin_${h}`)};function _(e,t,r){let i=l({isDesktop:t,viewerType:r});switch(i){case"auth_dweb_graphql_pin_page":return e(i),{isGraphQLEnabledForRelatedPins:!1,isGraphQLEnabledInGeneral:!1,experimentName:i};case"seo_graphql_pin_page":case"unauth_dweb_graphql_pin_page":case"unauth_mweb_graphql_pin_page":return e(i),{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,experimentName:i};case"auth_mweb_graphql_pin_page":{let{anyEnabled:t,group:r}=e(i);if(t)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,experimentName:i};if(r.includes("only_related_pins"))return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,experimentName:i};return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,experimentName:i}}default:throw Error("Unexpected case")}}function m(){let{checkExperiment:e}=(0,i.F)(),t=(0,a.HG)(),r=s();return _(e,t,r)}function g(){let e=m();return"auth_mweb_graphql_pin_page"===e.experimentName?e.isGraphQLEnabledInGeneral&&e.isGraphQLEnabledForRelatedPins?"enabled":e.isGraphQLEnabledForRelatedPins?"only_related_pins":"disabled":"auth_dweb_graphql_pin_page"===e.experimentName?"":"enabled"}},282405:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(883119),n=r(140017),a=r(785893);let o=()=>{let e=(0,n.ZP)();return(0,a.jsxs)(i.kC,{alignItems:"center",direction:"row",gap:1,children:[(0,a.jsx)(i.JO,{accessibilityLabel:e._('Pinterest logo', 'board.editorialBoardTag.pinterestLogo', 'Accessibility label for Pinterest icon on editorial boards'),color:"error",icon:"pinterest"}),(0,a.jsx)(i.xv,{color:"error",size:"300",weight:"bold",children:e._('Featured creator', 'board.editorialBoardTag.featuredCreatorText', 'Featured creator tag for editorial boards')})]})}},267508:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(883119),n=r(860910),a=r(327540),o=r(785893);let s=({collaborator_count:e,useLegoLayout:t,type:r})=>t?(0,o.jsx)(i.xu,{marginEnd:e?2:0,children:(0,o.jsx)(a.Z,{type:r})}):(0,o.jsx)(a.Z,{type:r}),l=({board:e,showCollaborativeIcon:t,showPrivateIcon:r,showProtectedIcon:l,showSectionsIcon:d,useLegoLayout:c})=>{let u=e?.collaborating_users?.length||0;return t||r||l||d?(0,o.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8}},"data-test-id":"board-picker-row-icon-list-box",direction:"row",display:"flex",marginEnd:c?0:5,children:[r&&(0,o.jsx)(s,{collaborator_count:u,type:"secret",useLegoLayout:c}),l&&(0,o.jsx)(s,{collaborator_count:u,type:"protected",useLegoLayout:c}),t&&(c?(0,o.jsx)(n.Z,{board:e,isCompact:!0,ownerOnly:!1}):(0,o.jsx)(a.Z,{type:"group"})),d&&(0,o.jsx)(a.Z,{type:"sections"})]}):null}},319510:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(883119),n=r(785893);let a=({image_url:e,naturalHeight:t,naturalWidth:r})=>(0,n.jsx)(i.xu,{"aria-hidden":"true",height:48,marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,children:(0,n.jsx)(i.zd,{height:48,rounding:2,wash:!0,width:48,children:(0,n.jsx)(i.Ee,{alt:"",naturalHeight:t,naturalWidth:r,src:e})})})},437147:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(883119),n=r(951258),a=r(785893);function o(e){let{children:t,currentCarouselIndex:r,onDeleteSavedState:o,onEditSubmit:s,onToggleModal:l,pinId:d,variant:c,viewParameter:u,shouldUseLegoStyles:h}=e;return(0,a.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",maxHeight:"100%",paddingX:"closeup"!==c||h?void 0:2,width:"closeup"===c?"100%":void 0,children:[t&&(0,a.jsx)(i.xu,{"data-test-id":"saved-info",flex:"grow",paddingX:1,children:t}),(0,a.jsx)(i.xu,{flex:"none",marginStart:"auto",paddingX:1,children:(0,a.jsx)(n.default,{carouselSlotCurrentIndex:r,component:0,onDelete:o,onSubmit:s,onToggleModal:l,pinId:d,shouldUseLegoStyles:h,style:"pin"===c?{bgColor:"white",iconColor:"darkGray",size:"sm"}:{bgColor:"transparent",iconColor:"darkGray",size:"sm"},useLegoStyles:"pin"===c,viewParameter:u})})]})}},218829:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});let i={row:0,section:0},n={row:-1,section:-1},a=()=>void 0;class o{constructor(e){this.index={...i},this.sections=e,this.updateCallback=a,this.selectItem=a}getIndex(){return this.index}isAtStart(){let{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){let{row:e,section:t}=this.index,r=this.sections[t]||[];return this.sections.length===t+1&&r.length===e+1}next(){if(this.isAtEnd())return;let{row:e,section:t}=this.index;e===n.row&&t===n.section?this.index={...i}:this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;let{row:e,section:t}=this.index;if(e===n.row&&t===n.section)this.index={...i};else if(e>0)this.index.row-=1;else{let e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){let{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index={...n},this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},600959:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(667294),n=r(883119),a=r(42173),o=r(785893);function s(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l extends i.Component{constructor(e){super(e),s(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),s(this,"handleIndexUpdate",e=>{let{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),s(this,"handleSelectItem",e=>()=>{let{disabled:t,onSelectItem:r}=this.props;t||r(e)}),s(this,"handleMouseEnter",e=>()=>{let{disabled:t,indexManager:r}=this.props;t||r.updateIndex(e)}),s(this,"handleMouseLeave",()=>{let{disabled:e,indexManager:t}=this.props;e||t.setInactive()}),s(this,"renderItems",(e,t)=>{let{renderItem:r}=this.props,{selectedIndex:i}=this.state,{row:a,section:s}=i||{},{customProps:l={},items:d,renderItem:c}=e,{isDisabled:u}=l,h=t===s,p=c||r;return p&&d.map((e,r)=>{let i=u?.(e)??!1,s=h&&r===a;return(0,o.jsx)(n.xu,{ref:!i&&s?this.setSelectedItemRef:null,"data-test-id":"board-selection",children:i?p({item:e,hovered:s,sectionProps:l}):(0,o.jsx)(n.iP,{fullWidth:!1,onMouseEnter:this.handleMouseEnter({section:t,row:r}),onMouseLeave:this.handleMouseLeave,onTap:this.handleSelectItem(e),rounding:2,children:p({item:e,hovered:s,sectionProps:l})})},r)})}),s(this,"renderSections",()=>{let{renderSectionHeader:e,sections:t}=this.props;return t.map((t,r)=>(0,o.jsxs)(n.xu,{children:[e&&e(t,r),this.renderItems(t,r)]},r))});let{indexManager:t}=this.props;this.state={selectedIndex:t.getIndex(),selectionMovedByKeyboard:!1},t.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){let{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){let e=this.selectedItemRef;if(!(e instanceof HTMLElement))return;let r=e.getBoundingClientRect(),i=r.top,n=r.bottom,a=t.getBoundingClientRect(),o=a.top,s=a.bottom;n>=s?e.scrollIntoView(!1):i<=o&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){let{grow:e=!1,maxHeight:t,fetchMore:r}=this.props;return(0,o.jsx)(a.Z,{fetchMore:r,children:({setRef:r,onScroll:i})=>(0,o.jsx)(n.xu,{ref:e=>{this.containerRef=e,r(e)},flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:i,overflow:"auto",children:this.renderSections()})})}}},317985:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(883119),n=r(785893);let a={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function o(){return(0,n.jsx)(i.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",rounding:8,width:"100%",children:(0,n.jsx)(i.xu,{dangerouslySetInlineStyle:a,"data-test-id":"submit-button-spinner",display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function s({disabled:e,name:t,onClick:r,size:a,submitting:s,text:l}){return(0,n.jsxs)(i.xu,{"data-test-id":"submit-button",display:"flex",position:"relative",children:[s&&(0,n.jsx)(o,{}),(0,n.jsx)(i.zx,{color:"red",disabled:e||s,name:t,onClick:r,size:a,text:l,type:"submit"})]})}},526776:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i=r(667294),n=r(702664),a=r(883119),o=r(205841),s=r(140017),l=r(339001),d=r(340523),c=r(213503),u=r(811216),h=r(70982),p=r(784300),_=r(785893);function m({isSelf:e,showVerified:t=!1,user:r={},onFollowChange:m}){let[g,f]=(0,i.useState)(r.explicitly_followed_by_me||!1),[b,y]=(0,i.useState)(!1),v=(0,n.useDispatch)(),x=(0,s.ZP)(),{checkExperiment:w}=(0,d.F)(),P=()=>{y(!1),v((0,h.fv)(r.id)),f(!1),m&&m(r,!1)},{verified_identity:S,full_name:C,is_verified_merchant:A,is_private_profile:E,explicitly_followed_by_me:j,username:T}=r,I=S?.verified,k=r.image_medium_url||r.image_small_url;return(0,_.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingY:1,children:[b&&(0,_.jsx)(u.Z,{firstName:C??"",handleUnfollowUser:P,onDismiss:()=>{y(!1)}}),(0,_.jsx)(a.xu,{flex:"grow",paddingX:1,children:(0,_.jsx)(a.Tg,{href:`/${T}/`,children:(0,_.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,_.jsx)(a.xu,{width:50,children:(0,_.jsx)(o.qE,{name:(0,l.nk)(x._('Avatar for {{ fullName }}', 'avatar.name', 'avatar for user'),{fullName:C}).join(" "),size:"fit",src:k??""})}),(0,_.jsx)(a.xv,{weight:"bold",children:t&&(A||I)?(0,_.jsx)(p.Z,{badgeSize:"sm",badgeSpacing:2,fullName:C??"",isVerifiedIdentity:I,isVerifiedMerchant:A}):C}),E&&w("web_update_u16_private_profile").anyEnabled&&(0,_.jsx)(a.xu,{children:(0,_.jsx)(a.JO,{accessibilityLabel:x._('private icon', 'privateProfileHeaderAuthDesktop.privateIcon', 'private icon'),color:"dark",icon:"lock",inline:!0})})]})})}),(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},paddingX:1,children:(!E||j)&&(0,_.jsx)(c.Z,{followEventType:45,id:r.id,isFollowed:g,isUserMe:!!e,onFollow:e=>{v((0,h.ZN)(e)),f(!0),m&&m(r,!0)},onUnfollow:()=>{E&&w("web_update_u16_private_profile").anyEnabled?y(!0):P()},pinKey:null,textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})]})}},572345:(e,t,r)=>{"use strict";r.d(t,{O:()=>d,Z:()=>c});var i=r(667294),n=r(883119),a=r(140017),o=r(702497),s=r(785893);let l={xs:12,sm:16,md:20,lg:24};function d({children:e}){let t=(0,a.ZP)();return(0,s.jsx)(n.u,{link:(0,s.jsx)(n.rU,{href:o.vBy,target:"blank",children:(0,s.jsx)(n.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function c({iconOnly:e,isVerifiedIdentity:t,isVerifiedMerchant:r,showText:o,size:c}){let u=(0,a.ZP)(),h=(0,s.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[(0,s.jsx)(n.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[c]}),o&&(0,s.jsx)(n.xu,{marginStart:2,children:(0,s.jsx)(n.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,s.jsxs)(i.Fragment,{children:[r&&!e&&(0,s.jsx)(d,{children:h}),r&&e&&h,t&&!r&&(0,s.jsx)(n.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:l[c]})]})}},818385:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var i=r(667294),n=r(883119),a=r(205841),o=r(140017),s=r(184390),l=r(666472),d=r(340523),c=r(314018),u=r(575742),h=r(427514),p=r(149722),_=r(67664),m=r(739711),g=r(785893);function f({bubble:e,contextLogData:t,disableTabIndex:r,handleReport:f,height:b,imgSignature:y,isHovered:v,onClick:x,onMouseEnter:w,onMouseLeave:P,referringSource:S,searchBoxRenderStopwatch:C,showFlag:A,slotIndex:E,storyId:j,viewParameter:T,viewType:I,width:k}){let D=(0,o.ZP)(),R=(0,p.Z)(),{id:z,action:O,aux_fields:B,cover_images:Z,dominant_colors:L,identifier_icon_type:M,title:N,story_category:F,curator:U}=e,{checkExperiment:H}=(0,d.F)(),{isAuth:$}=R,V="",G="";if($&&5===I){V=H("blp_explore_bubble_image_size").group;let e=V.split("_");e.length>1&&V.startsWith("enabled")&&(G=e[1])}let W=$&&H("web_deprecated_impression_tracker_standalone_discover_impression_auth").anyEnabled,K=Z&&Z[0]&&(V.startsWith("enabled")&&G?Z[0][G]:Z[0]["280x280"]||Z[0]["236x"]),q=(0,h.Z)(N&&N.format||"",N&&N.args||{}),Y=L&&L.length?L[0]:"gray",X=O?.url||(0,c.Z)({storyCategory:F,query:q,referringSource:S,bubbleId:z,storyId:j,title:N.format,pinId:B?.image_pin_id});return W?(0,g.jsx)(l.F,{contextLogData:{story_id:j,...t},impressionAuxFields:{storyCategory:F,story_id:j},impressionType:"Article",loggingId:z,pinData:null,slotIndex:E,viewParameter:T,viewType:I,children:({impressionTrackerRef:e})=>(0,g.jsx)(n.xu,{ref:e,children:(0,g.jsx)(_.Z,{backgroundColor:Y,coverImage:K,disableTabIndex:r,height:b,id:z,isHovered:v,onClick:x,onMouseEnter:w,onMouseLeave:P,searchBoxRenderStopwatch:C,url:X,width:k,children:({isHovered:e})=>(0,g.jsxs)(i.Fragment,{children:[U&&26!==F&&(0,g.jsx)(n.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,g.jsx)(a.qE,{name:U.full_name,outline:!0,size:"xs",src:U.image_small_url})}),M&&M!==u.J&&(0,g.jsx)(n.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,g.jsx)(n.JO,{accessibilityLabel:D._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:(0,u.Z)(M),size:12})}),(0,g.jsx)(n.xu,{alignItems:26===F?"end":"center","data-test-id":"discover-bubble",display:"flex",height:b,justifyContent:"center",padding:3,position:"absolute",top:!0,width:k||"100%",children:(0,g.jsxs)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[b>200?(0,g.jsx)(n.X6,{align:"center",color:"light",size:"500",children:q}):(0,g.jsx)(n.xv,{align:"center",color:"light",weight:"bold",children:q}),U&&26===F&&(0,g.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,g.jsx)(n.xu,{marginEnd:2,children:(0,g.jsx)(a.qE,{name:U.full_name,outline:!0,size:"xs",src:U.image_small_url})}),(0,g.jsx)(n.xv,{color:"light",size:"100",children:U.full_name})]})]})}),R.isAuth&&R.isEmployee&&A?(0,g.jsx)(n.xu,{bottom:!0,marginBottom:1,position:"absolute",right:!0,children:(0,g.jsx)(m.Z,{handleReport:f,imgSignature:y||"",isVisible:e})}):null]})})})}):(0,g.jsx)(s.Z,{contextLogData:{story_id:j,...t},impressionAuxFields:{storyCategory:F,storyIdStr:j},impressionType:"Article",loggingId:z,pinData:null,slotIndex:E,viewParameter:T,viewType:I,children:(0,g.jsx)(_.Z,{backgroundColor:Y,coverImage:K,disableTabIndex:r,height:b,id:z,isHovered:v,onClick:x,onMouseEnter:w,onMouseLeave:P,searchBoxRenderStopwatch:C,url:X,width:k,children:({isHovered:e})=>(0,g.jsxs)(i.Fragment,{children:[U&&26!==F&&(0,g.jsx)(n.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,g.jsx)(a.qE,{name:U.full_name,outline:!0,size:"xs",src:U.image_small_url})}),M&&M!==u.J&&(0,g.jsx)(n.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,g.jsx)(n.JO,{accessibilityLabel:D._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:(0,u.Z)(M),size:12})}),(0,g.jsx)(n.xu,{alignItems:26===F?"end":"center","data-test-id":"discover-bubble",display:"flex",height:b,justifyContent:"center",padding:3,position:"absolute",top:!0,width:k||"100%",children:(0,g.jsxs)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[b>200?(0,g.jsx)(n.X6,{align:"center",color:"light",size:"500",children:q}):(0,g.jsx)(n.xv,{align:"center",color:"light",weight:"bold",children:q}),U&&26===F&&(0,g.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,g.jsx)(n.xu,{marginEnd:2,children:(0,g.jsx)(a.qE,{name:U.full_name,outline:!0,size:"xs",src:U.image_small_url})}),(0,g.jsx)(n.xv,{color:"light",size:"100",children:U.full_name})]})]})}),R.isAuth&&R.isEmployee&&A?(0,g.jsx)(n.xu,{bottom:!0,marginBottom:1,position:"absolute",right:!0,children:(0,g.jsx)(m.Z,{handleReport:f,imgSignature:y||"",isVisible:e})}):null]})})})}},67664:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,Z:()=>s});var i=r(667294),n=r(883119),a=r(785893);let o={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s({backgroundColor:e,children:t,coverImage:r,disableTabIndex:s,height:l,id:d,isHovered:c,onClick:u,onMouseDown:h,onMouseEnter:p,onMouseLeave:_,searchBoxRenderStopwatch:m,url:g,width:f}){let[b,y]=(0,i.useState)(!1),v=()=>{p?p():y(!0)},x=()=>{_?_():y(!1)},w=c||b,P=w?o.hoverOverlay:o.bubbleOverlay;return(0,a.jsx)(n.Tg,{href:g,onBlur:x,onFocus:v,onMouseDown:h,onMouseEnter:v,onMouseLeave:x,onTap:()=>{u?.(d)},rounding:4,tabIndex:s?-1:void 0,children:(0,a.jsx)(n.zd,{height:l,rounding:4,width:f||"100%",children:r?.url?(0,a.jsxs)(n.Ee,{alt:"",color:e,fit:"cover",naturalHeight:r.height??1,naturalWidth:r.width??1,onLoad:()=>{m?.stop()},role:"presentation",src:r.url,children:[(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:P},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:w}):t]}):(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},282008:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i=r(883119),n=r(214877),a=r(213377),o=r(184390),s=r(666472),l=r(340523),d=r(5859),c=r(984571),u=r(575742),h=r(818385),p=r(785893);let _=a.yF;function m({contextLogData:e,bubbles:t,id:r,referringSource:a,slotIndex:m,storyType:g,title:f,titleIcon:b,viewType:y,viewParameter:v}){let{logContextEvent:x}=(0,n.v)(),{isAuthenticated:w}=(0,d.B)(),{checkExperiment:P}=(0,l.F)(),S=w&&P("web_deprecated_impression_tracker_standalone_discover_impression_auth").anyEnabled,C=t.map(({type:e,id:t})=>e+":"+t).join("|"),A={story_type:g,...e,content_ids:C};return S?(0,p.jsx)(s.F,{componentType:200,contextLogData:A,impressionType:"Story",loggingId:r,objectIdStr:r,slotIndex:m,viewParameter:v,viewType:y,children:({impressionTrackerRef:e})=>(0,p.jsxs)(i.xu,{ref:e,children:[f&&(0,p.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:["number"==typeof b&&b!==u.J&&(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,p.jsx)(i.JO,{accessibilityLabel:"",color:"default",icon:(0,u.Z)(b),size:14})}),(0,p.jsx)(i.xv,{weight:"bold",children:(0,c.Z)(f)})]}),t.map((e,t)=>(0,p.jsx)(i.xu,{flex:"none",paddingY:1,children:(0,p.jsx)(h.Z,{bubble:e,contextLogData:A,height:103,onClick:e=>{x({event_type:101,object_id_str:e,view_type:y,view_parameter:v,component:200,aux_data:A})},referringSource:a,slotIndex:t,storyId:r,viewParameter:v,viewType:y,width:_})},`bubble-${e.id}`))]})}):(0,p.jsx)(o.Z,{componentType:200,contextLogData:A,impressionType:"Story",loggingId:r,objectIdStr:r,pinData:null,slotIndex:m,viewParameter:v,viewType:y,children:(0,p.jsxs)(i.xu,{children:[f&&(0,p.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:["number"==typeof b&&b!==u.J&&(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,p.jsx)(i.JO,{accessibilityLabel:"",color:"default",icon:(0,u.Z)(b),size:14})}),(0,p.jsx)(i.xv,{weight:"bold",children:(0,c.Z)(f)})]}),t.map((e,t)=>(0,p.jsx)(i.xu,{flex:"none",paddingY:1,children:(0,p.jsx)(h.Z,{bubble:e,contextLogData:A,height:103,onClick:e=>{x({event_type:101,object_id_str:e,view_type:y,view_parameter:v,component:200,aux_data:A})},referringSource:a,slotIndex:t,storyId:r,viewParameter:v,viewType:y,width:_})},`bubble-${e.id}`))]})})}},739711:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var i=r(667294),n=r(883119),a=r(107366),o=r(930837),s=r(454514),l=r(140017),d=r(13848);let c={transparent:{backgroundColor:"transparent"},transparentHovered:{backgroundColor:"rgba(216, 216, 216, 0.37)"},pog:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},buttonFocus:{outline:"0"}};var u=r(785893);function h(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p extends i.Component{constructor(...e){super(...e),h(this,"state",{hovered:!1}),h(this,"handleMouseEnter",()=>this.setState({hovered:!0})),h(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){let{backgroundHaloSize:e,onClick:t,color:r="subtle"}=this.props,i=Object.freeze({height:e,width:e}),a={border:0,display:"block",background:"transparent",cursor:"pointer",...c.buttonFocus},o={...c.pog,...c.transparent,...this.state.hovered?c.transparentHovered:{}},s={...i,...o};return(0,u.jsx)("button",{onClick:e=>t&&t({event:e}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:a,type:"button",children:(0,u.jsx)("div",{style:s,children:(0,u.jsx)(n.xu,{rounding:"circle",children:(0,u.jsx)(n.JO,{accessibilityLabel:"",color:r,icon:"flag",size:e/2})})})})}}var _=r(825784);function m(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends i.PureComponent{constructor(...e){super(...e),m(this,"state",{showModal:!1,reportType:null}),m(this,"handleDismiss",()=>this.setState({showModal:!1})),m(this,"handleClick",()=>{let{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()}),m(this,"reportSuggestionImage",async()=>{let{imgSignature:e,reportImage:t}=this.props;this.setState({showModal:!1});let r=await (0,a.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:e}}),{id:i,node_id:n}=r.resource_response.data;t({id:i,nodeId:n})}),m(this,"reportSuggestionText",()=>{let{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast(({hideToast:e})=>(0,u.jsx)(s.ZP,{onHide:e,text:this.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')})),this.handleDismiss())}),m(this,"showModal",({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})})}render(){let{showModal:e}=this.state;return(0,u.jsxs)(i.Fragment,{children:[this.props.isVisible&&(0,u.jsx)(p,{backgroundHaloSize:24,onClick:this.showModal}),e&&(0,u.jsx)(o.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,u.jsxs)(n.xu,{children:[(0,u.jsx)(n.xu,{padding:5,children:(0,u.jsx)(n.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,u.jsxs)(n.FX,{id:"reporting-flag-options-group",legend:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion'),legendDisplay:"hidden",children:[(0,u.jsxs)(n.xu,{direction:"column",display:"flex",marginBottom:4,paddingX:5,role:"list",children:[(0,u.jsxs)(n.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,u.jsx)(n.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,u.jsx)(n.xu,{flex:"grow",children:(0,u.jsx)(n.__,{htmlFor:"textType",children:(0,u.jsx)(n.xu,{paddingX:2,children:(0,u.jsx)(n.xv,{children:"Report search text"})})})})]}),(0,u.jsxs)(n.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,u.jsx)(n.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,u.jsx)(n.xu,{flex:"grow",children:(0,u.jsx)(n.__,{htmlFor:"imageType",children:(0,u.jsx)(n.xu,{paddingX:2,children:(0,u.jsx)(n.xv,{children:"Report search image"})})})})]})]}),(0,u.jsx)(n.iz,{}),(0,u.jsxs)(n.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,u.jsx)(n.xu,{margin:2,children:(0,u.jsx)(n.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,u.jsx)(n.xu,{margin:2,children:(0,u.jsx)(n.zx,{color:"red",disabled:!this.state.reportType,fullWidth:!0,onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion')})})]})]})]})})]})}}function f(e){let t=(0,l.ZP)(),{reportImage:r}=(0,_.f)();return(0,u.jsx)(g,{...e,i18n:t,reportImage:r,toastManagerContext:(0,d.F9)()})}},766323:(e,t,r)=>{"use strict";r.d(t,{b:()=>h,v:()=>p});var i=r(667294),n=r(616550),a=r(342513),o=r(340523),s=r(782005),l=r(624797),d=r(554786),c=r(785893);let{Provider:u,useHook:h}=(0,a.Z)("Search"),p=({children:e,value:t})=>{let r=function(){let{checkExperiment:e}=(0,o.F)(),{search:t}=(0,n.TH)(),{scope:r}=(0,n.UO)(),i=(0,d.HG)(),{auto_correction_disabled:a="",b_id:c,brands:u,category:h,colors:p,commerce_only:_="",cover_pin_sig:m,deb_d:g,domains:f,filters:b,guided_search_query:y,interest_id:v,price_max:x,price_min:w,q:P,query_pin_sigs:S,rs:C,tab:A,user:E}=(0,l.mB)(t);return e("web_hundred_percent_product_load",{dangerouslySkipActivation:!0}).anyEnabled&&(r="true"===_.toLowerCase()?s.lw.PINS_BUYABLE:r),{autoCorrectionDisabled:"true"===a.toLowerCase(),brands:u,bubbleId:c,category:h,colors:p,commerceOnly:"true"===_.toLowerCase(),coverPinSig:m,currentlyAppliedFiltersParamTerm:b,debD:g,domains:f,guidedSearchQuery:y,interestId:v,personalizationPinSig:S,placementId:(0,s.Hd)(r,i),priceMax:x,priceMin:w,query:P,rs:C,scope:r,tab:A||"",user:E}}(),a=(0,i.useMemo)(()=>({...r,...t}),[r,t]);return(0,c.jsx)(u,{value:a,children:e})}},509603:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r(401429),n=r(36938),a=r(340523),o=r(85237),s=r(785893);let l=[503259,500410,500688],d=({placementId:e})=>{let t=(0,o.Z)();return(0,s.jsx)(i.Z,{eligibleIds:l,placementId:e,children:({complete:e,dismiss:r})=>(t("control",e,r),null)})},c=({placementId:e})=>{let{checkExperiment:t}=(0,a.F)(),{anyEnabled:r}=t(n.C7);return r?null:(0,s.jsx)(d,{placementId:e})}},115429:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i=r(667294),n=r(13848),a=r(214877),o=r(401429),s=r(454514),l=r(785893);let d=e=>{let{logContextEvent:t}=(0,a.v)();return(0,l.jsx)(o.Z,{eligibleIds:e.eligibleIds,eligibleTypes:[10],placementId:e.placementId,children:({complete:r,dismiss:i,experience:{display_data:n}})=>{let a=n.link||e.linkUrl,o=()=>{e.shouldLogClicks&&t({event_type:101,object_id_str:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})};return(0,l.jsx)(s.ZP,{duration:n.duration,href:a,onClick:()=>{r(),e.onClick&&e.onClick(),e.shouldLogClicks&&o()},onHide:()=>{e.onHide(),e.completionOnDismissal?r():i()},text:n.text||""})}})};function c(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends i.Component{constructor(...e){super(...e),c(this,"componentDidMount",()=>{let{delay:e=2e3}=this.props;this.experienceToastsTimeout=window.setTimeout(()=>this.triggerEducationToasts(),e)})}componentWillUnmount(){window.clearTimeout(this.experienceToastsTimeout)}triggerEducationToasts(){let{toastManagerContext:e,completionOnDismissal:t,placementId:r,experienceIds:i}=this.props;e.showOneToast(({hideToast:e})=>(0,l.jsx)(d,{completionOnDismissal:t,experienceIds:i,onHide:e,placementId:r,shouldLogClicks:!1}))}render(){return null}}function h(e){return(0,l.jsx)(u,{...e,toastManagerContext:(0,n.F9)()})}c(u,"defaultProps",{completionOnDismissal:!1})},734513:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o,b:()=>s});var i=r(667294);let n=(0,i.createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}});var a=r(785893);function o({children:e}){let[t,r]=(0,i.useState)(null),[o,s]=(0,i.useState)(null),[l,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),h=(0,i.useMemo)(()=>({inboxButton:t,setInboxButton:r,profileInboxButton:o,groupBoardMessageButton:c,setProfileInboxButton:s,isUnblockToast:l,setIsUnblockToast:d,setGroupBoardMessageButton:u}),[t,o,l,c]);return(0,a.jsx)(n.Provider,{value:h,children:e})}function s(){let e=(0,i.useContext)(n);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},166770:(e,t,r)=>{"use strict";r.d(t,{H:()=>a,o:()=>n});var i=r(342513);let{Provider:n,useHook:a}=(0,i.Z)("LimitedLogin")},735728:(e,t,r)=>{"use strict";r.d(t,{N4:()=>a,Wh:()=>i,hr:()=>n});let i=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),n=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),a=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},358589:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(140017),n=r(554786),a=r(166770),o=r(735728);let s=()=>{let e=(0,i.ZP)(),t=(0,n.HG)(),{viewer:r,loginForMore:s,limitedLoginModalSubheader:l,limitedLoginModalNextLocation:d}=(0,a.H)(),c="LIMITED_LOGIN"===r.type;return c?({modalHeader:r,nextLocation:i})=>n=>{let a=null;n&&(n.nativeEvent&&n.nativeEvent instanceof Event?a=n:n.event&&(a=n.event)),a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()),s?.setVisible(!0),l?.setText(r||(t?o.hr(e):o.Wh(e))),i&&d?.setRoute(i)}:({fn:e})=>e}},94882:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(184200),n=r(381),a=r(161187),o=r(623891),s=r(766323);function l(){let{brands:e,colors:t,domains:r,priceMax:l,priceMin:d}=(0,s.b)(),c=(0,n.M)(),{productFilters:u}=(0,i.b)(),h=Number((0,o.Z)().filter_location);if(1===h){let{filterState:e}=c||{},t=e?(0,a.Ax)(e.appliedFilters,e.models):null;return t}if(0===h){let i=(0,a.vJ)({brandsParam:e,colorsParam:t,domainsParam:r,priceMaxParam:l,priceMinParam:d,unifiedFilterModels:u});return i}return null}},646473:(e,t,r)=>{"use strict";r.d(t,{Z:()=>x,d:()=>v});var i=r(667294),n=r(616550),a=r(61932),o=r(207229),s=r(213377),l=r(340523),d=r(5859),c=r(995917),u=r(660980),h=r(203381),p=r(414630),_=r(782005),m=r(554786),g=r(760101),f=r(766323),b=r(136359),y=r(94882);let v=e=>e?{page_size:"14"}:{page_size:"25"};function x(){let e;let{autoCorrectionDisabled:t,bubbleId:r,category:x,currentlyAppliedFiltersParamTerm:w,domains:P,guidedSearchQuery:S,inGlobalSearch:C,personalizationPinSig:A,priceMax:E,priceMin:j,query:T,rs:I,scope:k,user:D}=(0,f.b)(),{checkExperiment:R}=(0,l.F)(),{isAuthenticated:z}=(0,d.B)(),{search:O}=(0,n.TH)(),B=(0,b.t)(),Z=(0,m.HG)(),L=!z||!Z,M=(0,g.Z)(),N=(0,y.Z)(),{width:F=0,height:U=0}=(0,o.Z)()??{},{group:H="",anyEnabled:$}=Z&&k===_.lw.PINS?R("dweb_search_first_page_size_optimization"):{},V=(0,i.useMemo)(()=>{if($&&0!==F&&0!==U){let e=Math.floor(F/(s.yF+s.oX)),t=Number(H.split("_")[1]),r=a.Lu+a.uS,i=Math.ceil((U-B-r)/t);return e*i}},[$,H,B,U,F]),G=L;L&&(G=!!z&&!R("unify_search_resource_auth_mweb").anyEnabled);let W=null;if(!Z&&M&&(W=v(z)),C)e=(0,p.Ht)({autoCorrectionDisabled:t,filters:w,selectedPinImgSig:A,query:T,scope:k});else{let i={autoCorrectionDisabled:t,bubbleId:r,filters:w,guidedSearchQuery:S,selectedPinImgSig:A,query:T,rs:I,scope:k,user:D};N&&(i.appliedFilters=N),i.appliedProductFilters=(0,u.Z)({category:x,domains:P,maxPrice:E,minPrice:j}),L&&(i.domains=P,i.priceMin=parseInt(j,10)??void 0,i.priceMax=parseInt(E,10)??void 0,i.pageSize=W?.page_size,i.topPinId=(0,h.Z)(O,k)),V&&(i.firstPageSize=V.toString()),e=(0,p.Ht)(i)}let K=k===_.lw.USERS&&!L||G;return(0,c.Z)(K?null:e)}},554053:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var i=r(667294),n=r(883119),a=r(140017),o=r(5859),s=r(14583),l=r(970415),d=r(785893);function c({height:e,onCtaDidLoad:t,width:c}){let u=(0,a.ZP)(),[h,p]=(0,i.useState)(null),{locale:_}=(0,o.B)(),m=(0,l.default)(_),g=e=>{let t=(0,i.lazy)(()=>r(746377)(`./${e}`));p(t)};(0,i.useEffect)(()=>{m&&"none"!==m&&g(m)},[m]),(0,i.useEffect)(()=>{h&&t()},[h]);let f=u._('Open Pinterest app, then go to the search tab, then tap the camera icon located in the search bar to scan the Pincode', 'PincodeCTA.instruction', 'Text informing users how to use Pincodes \u2014 may be displayed or used as accessibility label'),b=(0,d.jsx)(n.xv,{align:"center",children:f});return"none"===m?b:h?(0,d.jsx)(s.Z,{fallback:b,children:(0,d.jsx)(h,{height:e,title:f,width:c})}):(0,d.jsx)(n.$j,{accessibilityLabel:u._('Loading Pincode Call to Action', 'PincodeCTA.loading', 'Accessibility label for loading spinner for the Pincode call-to-action'),show:!0})}},970415:(e,t,r)=>{"use strict";function i(e){switch(e.toUpperCase()){case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"EL-GR":return"GR";case"EN-GB":return"ENUK";case"EN-US":return"ENUS";case"ES-ES":return"ESES";case"ES-MX":case"ES-419":return"ESMX";case"ES-AR":return"ESAR";case"FI-FI":return"FI";case"FR":return"FR";case"HI-IN":return"HI";case"HU-HU":return"HU";case"ID-ID":return"ID";case"IT":return"IT";case"JA":return"JP";case"KO-KR":return"KR";case"MS-MY":return"MS";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"RU-RU":return"RU";case"SK-SK":return"SK";case"SV-SE":return"SV";case"TH-TH":return"TH";case"TL-PH":return"TL";case"TR":return"TR";case"UK-UA":return"UA";case"VI-VN":return"VT";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"none"}}r.r(t),r.d(t,{default:()=>i})},364778:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>A});var i,n,a=r(667294),o=r(883119),s=r(214877),l=r(140017);function d(e){return new Promise((t,r)=>{let i=new XMLHttpRequest;i.ontimeout=r,i.onreadystatechange=()=>{if(4!==i.readyState)return;if(200!==i.status){r();return}let e=new FileReader;e.onloadend=()=>{let{result:i}=e;"string"==typeof i?t(i.split(/,/)[1]):r()},e.readAsDataURL(i.response)},i.open("GET",e,!0),i.timeout=3e4,i.responseType="blob",i.send()})}function c(e,t){return new Promise((r,i)=>{let n=document.createElement("div");n.innerHTML=e.innerHTML,(function e(t,r){if(!(t instanceof Element))return Promise.resolve(t);if(t instanceof window.SVGImageElement)return function(e,t){let r=e.href.baseVal;if(r.startsWith("data:"))return Promise.resolve();let i=t?t(r):r;return Promise.resolve(i).then(d).then(e=>`data:${function(e){let t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(i)};base64,${e}`).then(t=>new Promise((r,i)=>{e.onerror=i,e.href.baseVal=t,window.requestAnimationFrame(r)}))}(t,r);let i=Array.from(t.childNodes);return Promise.all(i.map(t=>e(t,r)))})(n,t).then(()=>{let t=new Image;t.onload=()=>{window.requestAnimationFrame(()=>r(t))},t.onerror=i;let a=n&&n.querySelector("svg");a&&(/^[0-9]+$/.test(a.getAttribute("width")||"")||a.setAttribute("width",`${e.scrollWidth}`),/^[0-9]+$/.test(a.getAttribute("height")||"")||a.setAttribute("height",`${e.scrollHeight}`));let o=n.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(o.trim())}`})})}var u=r(554053),h=r(785893);function p({getThumbnailImageSrcSet:e,images:t,onTouch:r}){let i=(0,l.ZP)();return(0,h.jsx)(o.xu,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0,children:["logo"].concat(t).map((t,n)=>(0,h.jsx)(o.xu,{padding:1,children:(0,h.jsx)(o.st,{children:(0,h.jsx)(o.iP,{fullWidth:!1,onTap:()=>r("logo"===t?"logo":n-1),rounding:2,children:(0,h.jsx)(o.zd,{height:85,rounding:"circle",width:85,children:"logo"===t?(0,h.jsx)(o.JO,{accessibilityLabel:"Pinterest logo",color:"brandPrimary",icon:"pinterest",size:85}):(0,h.jsx)(o.Ee,{alt:i._('Pincode Hero Image', 'accessibility label for the Pincode hero image', 'accessibility label for the Pincode hero image'),color:t.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url??"",srcSet:e&&e(t.url??"")})})})})},"logo"===t?t:t.url))})}var _=r(995917),m=r(40432);let g=m.x_d,f=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`
  <svg xmlns="http://www.w3.org/2000/svg" width="${i||222}" height="${i||222}" x="${n||0}" y="${n||0}" viewBox="0 0 222 222">
    <path d="M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z" fill="${g}" fill-rule="evenodd" />
  </svg>`.trim())}`;function b(e,t,r){return`
    <image id="image"
      x="${100+("right"===t?300:0)}"
      y="${100+("bottom"===r?300:0)}"
      width="${600/("row"===t?1:2)}"
      height="${600/("column"===r?1:2)}"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xlink:href="${e}"
      preserveAspectRatio="xMidYMid slice"
    />`}class y extends a.Component{constructor(...e){var t,r,i;super(...e),t="handleFetchChange",r=()=>{let{pincodeImageResource:e,onFetchingChange:t}=this.props;t(e.isFetching)},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}componentDidMount(){let{pincodeImageResource:e}=this.props;e.isFetching||this.handleFetchChange()}componentDidUpdate(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}render(){let{className:e,imageUrls:t,size:r,pincodeImageResource:{data:i,isLoaded:n}}=this.props;return(0,h.jsxs)(o.kC,{alignItems:"center",height:r,justifyContent:"center",width:r,children:[n&&!!i&&(0,h.jsx)("div",{className:e,dangerouslySetInnerHTML:{__html:function(e,t){let r=function(e){switch(e.length){case 0:case 1:return;case 2:return[b(e[0],"left","column"),b(e[1],"right","column")].join("");case 3:return[b(e[0],"left","column"),b(e[1],"right","top"),b(e[2],"right","bottom")].join("");default:return[b(e[0],"left","top"),b(e[1],"right","top"),b(e[2],"left","bottom"),b(e[3],"right","bottom")].join("")}}(t);return r?e.replace(/<image[^>]*>/,r):e}(i,t)},style:{width:r,height:r}}),(0,h.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('Loading Pincode Image', 'accessibility label for loading the Pincode image', 'accessibility label for loading the Pincode image'),show:!i})]})}}function v(e){let t=(0,l.ZP)(),r=(0,_.Z)({name:"ApiResource",options:{url:"/v3/pincode/image/",data:{object_id:e.id,hero_image_url:e.imageUrls[0]||f}}});return(0,h.jsx)(y,{...e,i18n:t,pincodeImageResource:r})}function x(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let w="pincodeMain",P="pincodeCTA",S=(e,t)=>{let r=document.createElement("canvas");r.width=3544,r.height=3544;let i=Math.round(.1*r.width),n=Math.round(.05*r.width),a=r.width-2*i,o=r.width-2*n,s=r.height-a,[l,d]=t.width/t.height>o/s?[o,o/t.width*t.height]:[s/t.height*t.width,s],c=r.getContext("2d");return c.fillStyle="#fff",c.fillRect(0,0,r.width,r.height),c.drawImage(e,i,0,a,a),c.drawImage(t,(r.width-l)/2,a+(r.height-a-d)/2,l,d),r};class C extends a.PureComponent{constructor(...e){super(...e),x(this,"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),x(this,"getCustomHeroImages",()=>{let{images:e,customizable:t}=this.props,{pickedImageIndex:r}=this.state;if(!t)return e;let i="logo"!==r&&e[r];return i?[i]:[]}),x(this,"normalizeUrl",e=>{let{getMainImageURL:t}=this.props;return(t||(e=>e))(e).replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/")}),x(this,"handleFetchChange",e=>{this.setState({isFetchingPincodeImage:e})}),x(this,"handleCancelButtonClick",()=>this.setState({isPickingHeroImage:!1})),x(this,"handleEditButtonClick",()=>this.setState({isPickingHeroImage:!0})),x(this,"handleSelectImage",e=>this.setState({isPickingHeroImage:!1,pickedImageIndex:e})),x(this,"downloadPincodeImage",()=>{let{previewNode:e}=this,{ctaIsLoaded:t,isFetchingPincodeImage:r,isDownloading:i}=this.state;if(!e||!t||r||i)return;let n=e.querySelector(`.${w}`),a=e.querySelector(`.${P}`);if(!n||!a)return;let{getDownloadImageURL:o,id:s,logContextEvent:l}=this.props;l({event_type:7078,component:13141,object_id_str:s}),this.setState({isDownloading:!0}),Promise.all([c(n,o),c(a)]).then(e=>{let[t,r]=e;return S(t,r)}).then(e=>{var t;return t=`pincode_${this.props.id}.png`,new Promise((r,i)=>{new Promise((t,r)=>{if(e.toBlob){e.toBlob(t);return}let i="";try{i=e.toDataURL("image/png")}catch(e){r()}let n=window.atob(i.split(",")[1]),{length:a}=n,o=new Uint8Array(a);for(let e=0;e<a;e+=1)o[e]=n.charCodeAt(e);t(new window.Blob([o],{type:"image/png"}))}).then(e=>window.URL.createObjectURL(e)).then(e=>{let i=document.createElement("a");i.download=t,i.href=e,i.style.display="none",window.document.body.appendChild(i),window.requestAnimationFrame(()=>{let t=()=>{window.requestAnimationFrame(()=>{window.URL.revokeObjectURL(e),i.removeAttribute("href"),i.removeEventListener("click",t),window.document.body.removeChild(i),r()})};i.addEventListener("click",t),i.click()})}).catch(i)})}).then(()=>{this.setState({isDownloading:!1})}).catch(()=>{this.setState({errorFlyoutIsOpen:!0})})})}render(){let{id:e,isLoadingImages:t,images:r,getThumbnailImageSrcSet:i,customizable:n}=this.props,{ctaIsLoaded:a,errorFlyoutIsOpen:s,isFetchingPincodeImage:l,isDownloading:d,isPickingHeroImage:c}=this.state;return c?(0,h.jsx)(o.xu,{color:"default",padding:4,rounding:2,width:350,children:(0,h.jsxs)(o.xu,{children:[(0,h.jsx)(o.xu,{paddingY:1,children:(0,h.jsx)(o.X6,{lineClamp:1,size:"500",children:this.props.i18n._('Change Image', 'Title of the Pincode hero image picker modal', 'Title of the Pincode hero image picker modal')})}),(0,h.jsx)(o.iz,{}),(0,h.jsx)(p,{getThumbnailImageSrcSet:i,images:r,onTouch:this.handleSelectImage}),(0,h.jsx)(o.xu,{padding:1,children:(0,h.jsx)(o.zx,{fullWidth:!0,onClick:this.handleCancelButtonClick,text:this.props.i18n._('Cancel', 'Button to dismiss Pincode hero image picker', 'Button to dismiss Pincode hero image picker')})})]})}):(0,h.jsx)(o.xu,{color:"default",marginBottom:4,paddingX:4,rounding:2,width:350,children:(0,h.jsxs)(o.xu,{children:[(0,h.jsx)(o.xu,{ref:e=>{this.previewNode=e},children:(0,h.jsxs)(o.xu,{alignItems:"center",color:"default",direction:"column",display:"flex",height:320,justifyContent:"center",width:"100%",children:[t?(0,h.jsx)(o.kC,{alignItems:"center",height:230,justifyContent:"center",width:"100%",children:(0,h.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('Loading', 'accessibility label for loading spinner', 'accessibility label for loading spinner'),show:!0})}):(0,h.jsx)(v,{className:w,id:e,imageUrls:this.getCustomHeroImages().map(e=>this.normalizeUrl(e.url??"")),onFetchingChange:this.handleFetchChange,size:230}),(0,h.jsx)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:7,marginTop:2,children:(0,h.jsx)("div",{className:P,children:(0,h.jsx)(u.default,{height:78,onCtaDidLoad:()=>this.setState({ctaIsLoaded:!0}),width:300})})})]})}),(0,h.jsxs)(o.xu,{marginTop:2,padding:1,children:[n&&r.length>0&&(0,h.jsx)(o.xu,{paddingY:1,children:(0,h.jsx)(o.zx,{fullWidth:!0,onClick:this.handleEditButtonClick,text:this.props.i18n._('Change Image', 'Button to pick Pincode hero image', 'Button to pick Pincode hero image')})}),a&&(0,h.jsxs)(o.xu,{paddingY:1,children:[(0,h.jsx)(o.xu,{ref:e=>{this.downloadButton=e},children:(0,h.jsx)(o.zx,{color:"red",disabled:t||l||d,fullWidth:!0,onClick:this.downloadPincodeImage,text:this.props.i18n._('Download Pincode', 'Button to download the Pincode image', 'Button to download the Pincode image')})}),s&&(0,h.jsx)(o.J2,{anchor:this.downloadButton,idealDirection:"down",onDismiss:()=>this.setState({errorFlyoutIsOpen:!1}),shouldFocus:!1,size:"sm",children:(0,h.jsx)(o.xu,{padding:3,children:(0,h.jsx)(o.qb,{title:this.props.i18n._('Oops! Your browser does not support downloading Pincodes.', 'Error message shown when user attempts to download Pincode on a browser not supported', 'Error message shown when user attempts to download Pincode on a browser not supported'),type:"problem"})})})]})]})]})})}}function A(e){let{logContextEvent:t}=(0,s.v)(),r=(0,l.ZP)();return(0,h.jsx)(C,{...e,i18n:r,logContextEvent:t})}},219728:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(667294),n=r(883119),a=r(214877),o=r(930837),s=r(140017),l=r(785893);function d({children:e,objectId:t,onHide:r}){let{logContextEvent:d}=(0,a.v)(),c=(0,s.ZP)(),u={component:13141,object_id_str:t};return(0,i.useEffect)(()=>{d({event_type:6359})},[t]),(0,l.jsx)(o.ZP,{accessibilityModalLabel:c._('Pincode', 'pincode.pincodemodal.label', 'Accessible label for a modal showing the pincode modal'),heading:c._('Pincode', 'pincode.pincodemodal.heading', 'Heading for a modal showing the pincode.'),onDismiss:()=>{r(),d({event_type:6358,...u})},size:"sm",children:(0,l.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",children:e})})}},860910:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(883119),n=r(140017),a=r(339001),o=r(149722),s=r(785893);function l(e){let t=e?.imageMediumUrl??e?.image_medium_url??"";return{name:e?.fullName??e?.full_name??"",src:"https://s.pinimg.com/images/user/default_75.png"===t?void 0:t}}function d({board:e,forceViewer:t,isCompact:r,ownerOnly:d}){let c=(0,n.ZP)(),u=(0,o.Z)(),h=d?[l(e?.owner)]:(function(e,t,r){let{collaborated_by_me:i,collaborating_users:n,owner:a}=e??{},o=n??[],s=[a];if(i||r){let e=o.findIndex(e=>t.isAuth&&e.id===t.id);if(-1!==e){let t=o.splice(e,1)[0];s.push(t)}else s.push(t)}let l=[...o].sort((e,t)=>(e.full_name??"")>(t.full_name??"")?1:(t.full_name??"")>(e.full_name??"")?-1:0);return[...s,...l]})(e,u,t).map(l),p=h.slice(0,3).map(e=>e.name),_="";switch(h.length){case 3:_=(0,a.Wc)(`${c._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${p[0]??""}`,second:`${p[1]??""}`,last:`${p[2]??""}`});break;case 2:_=(0,a.Wc)(`${c._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${p[0]??""}`,second:`${p[1]??""}`});break;default:_=p.join(", ")}let m=h.length>3?(0,a.Wc)(`, ${c.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', h.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars')}`,{userNames:_,leftCount:`${h.length-3}`}):(0,a.Wc)(`, ${c._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:_});return(0,s.jsx)(i.HE,{accessibilityLabel:m,collaborators:h,size:r?"xs":"sm"})}},772575:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(883119),n=r(930837),a=r(140017),o=r(5859),s=r(916964),l=r(785893);function d(e){let t=(0,a.ZP)(),{onSectionCreate:r,onClose:d,selectedBoard:c,useLayer:u=!0}=e,{isRTL:h}=(0,o.B)(),p=u?n.ZP:i.u_,_=(0,l.jsx)(i.xu,{paddingX:4,paddingY:6,position:"relative",children:(0,l.jsxs)(i.kC,{alignItems:"center",justifyContent:"center",children:[(0,l.jsx)(i.xu,{maxWidth:400,children:(0,l.jsx)(i.X6,{align:"center",size:"500",children:t._('Add section', 'Modal header for adding a section', 'Modal header for adding a section')})}),(0,l.jsx)(i.xu,{left:h,paddingX:6,paddingY:5,position:"absolute",right:!h,top:!0,children:(0,l.jsx)(i.hU,{accessibilityLabel:t._('Close', 'CreateSection.Modal.Icon', 'Icon to close section create modal'),icon:"cancel",iconColor:"darkGray",onClick:d,size:"lg"})})]})});return(0,l.jsx)(p,{accessibilityModalLabel:t._('Add a section to the board', 'modal to add a section to a board', 'modal to add a section to a board'),heading:_,onDismiss:d,size:"sm",children:(0,l.jsx)(i.xu,{color:"default",display:"flex",rounding:2,children:(0,l.jsx)(s.Z,{board:c,completeCreateSectionAction:r,onClearModal:d,positionRelative:!0,showTitle:!1})})})}},281871:(e,t,r)=>{"use strict";function i(e,t,r){return{privacy_filter:t?"secret":"public",sort:r||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}r.d(t,{Z:()=>i})},945488:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=(e,t)=>`${e}:${t||""}`},885837:(e,t,r)=>{"use strict";r.d(t,{O:()=>s,Q:()=>l});var i=r(827625),n=r(945488),a=r(64819);let o=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:r,username:i,privacyFilter:n="all"},a)=>({privacy_filter:n,sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:r?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...a?{orbac_subject_id:a}:Object.freeze({})})},l=e=>o.reduce((t,r)=>{let o=[(0,a.N8)("profileBoards",(0,n.Z)(e,r))];return[!0,!1].forEach(t=>{[!0,!1].forEach(n=>{o.push((0,i.jB)(s.name,s.options({username:e,boardOrder:r,mixPublicSecret:t,filterStories:n})))})}),t.concat(o)},[])},588380:(e,t,r)=>{"use strict";r.d(t,{Fj:()=>l,JI:()=>d,aG:()=>s});var i=r(667294),n=r(785893);let a=(0,i.createContext)(),o=(0,i.createContext)();function s({children:e}){let[t,r]=(0,i.useState)(!1);return(0,n.jsx)(a.Provider,{value:t,children:(0,n.jsx)(o.Provider,{value:r,children:e})})}function l(){let e=(0,i.useContext)(a);if(void 0===e)throw Error("useCountState must be used within a ShowBoardlessPinsContextProvider");return e}function d(){let e=(0,i.useContext)(o);if(void 0===e)throw Error("useCountUpdater must be used within a ShowBoardlessPinsContextProvider");return e}},811216:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(883119),n=r(930837),a=r(140017),o=r(339001),s=r(554786),l=r(785893);function d({onDismiss:e,firstName:t,handleUnfollowUser:r}){let d=(0,a.ZP)(),c=(0,s.HG)(),u=(0,o.nk)(d._('Unfollow {{ firstName }}?', 'unfollowUser.modal.header', 'header text asking if we should unfollow the user. firstName: name of the user to unfollow'),{firstName:t}).join(""),h=d._('You will no longer be able to view their profile, Pins, boards, followers or following lists. They will not be notified.', 'unFollowUser.modal.description', 'explanation of what removing another user means'),p=d._('Cancel', 'unfollowUser.modal.cancel', 'Cancel unfollowing a user'),_=d._('Unfollow', 'unfollowUser.modal.button.unfollow', 'Button to confirm removing a user');return c?(0,l.jsx)(n.ZP,{accessibilityModalLabel:u,footer:(0,l.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,l.jsx)(i.xu,{padding:1,children:(0,l.jsx)(i.zx,{fullWidth:!0,onClick:e,size:"lg",text:p})}),(0,l.jsx)(i.xu,{padding:1,children:(0,l.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:r,size:"lg",text:_})})]}),heading:u,onDismiss:e,role:"alertdialog",size:"md",children:(0,l.jsx)(i.xu,{"data-test-id":"unfollow-text",marginEnd:6,marginStart:6,children:(0,l.jsx)(i.xv,{children:h})})}):(0,l.jsxs)(n.ZP,{accessibilityModalLabel:u,mobileHideCloseIcon:!0,onDismiss:e,type:"unFollow_button",children:[(0,l.jsx)(i.xu,{alignItems:"center",display:"flex",paddingX:3,paddingY:5,children:(0,l.jsx)(i.X6,{accessibilityLevel:1,size:"500",children:u})}),(0,l.jsx)(i.xu,{marginBottom:4,marginEnd:4,marginStart:4,children:(0,l.jsx)(i.xv,{children:h})}),(0,l.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,children:[(0,l.jsx)(i.xu,{padding:1,children:(0,l.jsx)(i.zx,{fullWidth:!0,onClick:e,size:"md",text:p})}),(0,l.jsx)(i.xu,{padding:1,children:(0,l.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:r,size:"md",text:_})})]})]})}},402287:(e,t,r)=>{"use strict";r.d(t,{$n:()=>y,A4:()=>P,CE:()=>_,ET:()=>T,F$:()=>b,Kw:()=>E,Nv:()=>A,PA:()=>w,X_:()=>j,d9:()=>v,e1:()=>p,o4:()=>C,vB:()=>g});var i=r(782677),n=r(216167),a=r(107366),o=r(227258),s=r(827625),l=r(821419),d=r(64819),c=r(430408),u=r(539426),h=r(937310);function p(e){return t=>{let{boardId:r,sectionIdBefore:i,sectionIdAfter:n,sourceSectionId:o,targetSectionId:s}=e;t((0,d._f)({feedType:h.Z.BOARD_SECTIONS,feedId:r,itemType:"boardsection",sourceItemId:o,targetItemId:s}));let l=Object.freeze({});return i&&(l={...l,section_before:i}),n&&(l={...l,section_after:n}),(0,a.Z)({url:`/v3/board/sections/${o}/reorder/`,method:"POST",data:l})}}function _(e,t){return r=>r((0,o.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}function m(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function g({boardId:e,sourceBoardId:t="",sourceSectionId:r="",name:i,nameSource:a,pinImport:o,initialPinIds:u=[]},p,_,g){let f=0;"RECOMMENDATION"===a?f=1:"EDITED_RECOMMENDATION"===a&&(f=2);let b={board_id:e,initial_pins:o&&!o.all?o.pinIds:u,name:i,name_source:f,..._?{orbac_subject_id:_}:Object.freeze({})};return i=>n.Z.create("BoardSectionResource",b).callCreate({showError:!1}).then(({resource_response:{data:n}})=>{g({event_type:7100,object_id_str:n.id}),i(m(e,n)),i((0,d.vX)({feedId:e,feedType:h.Z.BOARD_SECTIONS,itemIds:[n.id],itemType:"boardsection"})),i((0,l.Tq)(e,"pin_count")),i((0,s.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:_}));let{all:a,pinIds:u}=o||{all:!1,pinIds:[]};return a?new Promise((a,o)=>i((0,c.Z)({inverseSelection:!0,selectedPinIds:u,source:{boardId:t||e,sectionId:r||null},target:{boardId:e,sectionId:n.id}},p)).then(()=>a(n)).catch(o)):(u.length>0&&i((0,d.N8)(h.Z.BOARDFEED,e)),n)})}function f(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function b(e,t,r){return i=>n.Z.create("BoardSectionEditResource",{section_id:t,...r?{orbac_subject_id:r}:Object.freeze({})}).callDelete({showError:!1}).then(()=>Promise.all([i(f(e,t)),i((0,d.EX)({feedId:e,feedType:h.Z.BOARD_SECTIONS,itemIds:[t],itemType:"boardsection"})),i((0,l.Tq)(e,"pin_count")),i((0,s.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:r}))]))}function y(e,t,r,i){return a=>n.Z.create("BoardSectionEditResource",{section_id:t,title:r,...i?{orbac_subject_id:i}:Object.freeze({})}).callCreate({showError:!1}).then(t=>{let r=t.resource_response.data;return a(t=>{let i=r.board;i&&i.id!==e?(t(f(e,r.id??"")),t((0,d.EX)({feedId:e,feedType:h.Z.BOARD_SECTIONS,itemIds:[r.id??""],itemType:"boardsection"})),t((0,l.Tq)(e,"pin_count")),t(m(i.id??"",r)),t((0,d.vX)({feedId:i.id??"",feedType:h.Z.BOARD_SECTIONS,itemIds:[r.id??""],itemType:"boardsection"})),t((0,l.Tq)(e,"pin_count"))):t({type:"SECTION_UPDATED",payload:{boardId:e,section:r}})}),a((0,s.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:i})),r})}function v(e,t,r){return i=>(0,a.Z)({url:`/v3/board/sections/${t}/merge/${r}/`,method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then(n=>Promise.all([i(f(e,t)),i((0,s.jB)("BoardSectionsRepinResource",{board_id:e})),i(_(r)),i((0,d.N8)(h.Z.BOARD_SECTION_PINS,r))]).then(()=>n))}let x=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t}),w=(e,t)=>r=>n.Z.create("BoardSectionEditResource",{...t,section_id:e}).callCreate().then(i=>(r(x(e,t)),i.resource_response.data)),P=e=>t=>n.Z.create("BoardSectionResource",{section_id:e}).callGet().then(r=>{let i=r.resource_response.data||{id:"",title:""};return t(x(e,i)),r}),S=(e,t,r,i)=>({type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:t,boardId:r,pinCount:i}}),C=(e,t,r,i)=>a=>{let o=n.Z.create("BoardSectionEditResource",{section_id:t}).callDelete();return a(S(e,t,r,i)),o},A=(e,t,r,a)=>o=>{let l={board_id:e,initial_pins:t,name:r},c="BoardSectionResource";return n.Z.create(c,l).callCreate().then(r=>{let n=r.resource_response.data,p=(0,i.Fv)(n,u.Z[c]);return a({event_type:7100,object_id_str:n.id}),o((0,s.XM)(c,l,r,p)),o(m(e,n)),o((0,d.vX)({feedId:e,feedType:h.Z.BOARD_SECTIONS,itemIds:[n.id],itemType:"boardsection"})),t.length&&o({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:n.id},pinIds:t}}),r})},E=e=>t=>{let{source:r,target:a,pinIds:o}=e;if(t({type:"PINS_MOVE",payload:e}),r.boardlessPins||a.boardId!==r.boardId){let e={board_id:a.boardId,pin_ids:o,section_id:a.sectionId};return n.Z.create("BulkEditResource",e).callUpdate()}if(a.sectionId){let e={section_id:a.sectionId,pins:o},r="BoardSectionEditResource";return n.Z.create(r,e).callUpdate().then(n=>{let a=(0,i.Fv)(n.resource_response.data,u.Z[r]);return t((0,s.XM)(r,e,n,a)),n})}let l={section_id:r.sectionId,pins:o};return n.Z.create("BoardSectionPinsResource",l).callDelete()},j=e=>t=>{t({type:"PINS_MOVE_ALL",payload:e});let{source:r,target:i,excludePinIds:a}=e,o={board_id:r.boardId,new_board_id:i.boardId,pin_ids:a,old_section_id:r.sectionId,new_section_id:i.sectionId};return n.Z.create("BulkEditSelectAllResource",o).callUpdate()},T=(e,t,r,i,n)=>a=>a(A(e,[],t,n)).then(t=>{let n=t.resource_response.data.id;return a(j({source:{boardId:e,sectionId:i},target:{boardId:e,sectionId:n},excludePinIds:r}))})},821419:(e,t,r)=>{"use strict";r.d(t,{Br:()=>p,Cr:()=>A,K8:()=>y,L1:()=>O,Tq:()=>f,YQ:()=>z,YV:()=>C,ZP:()=>E,aX:()=>j,eo:()=>m,fJ:()=>Z,md:()=>_,oG:()=>g,oL:()=>T,of:()=>v,xH:()=>b,xQ:()=>x,xR:()=>R,xk:()=>P,yT:()=>h,zS:()=>B});var i=r(216167),n=r(481177),a=r(107366),o=r(227258),s=r(827625),l=r(281871),d=r(885837),c=r(64819),u=r(937310);function h(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function p(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function _(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function m({viewingUserId:e,viewingUsername:t,boardId:r,boardPinCount:i}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:r,boardPinCount:i}}}let g=(e,t)=>r=>r((0,o.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function f(e,t,r){return(0,o.U)("BoardResource",{options:{board_id:e,field_set_key:t,...r?{orbac_subject_id:r}:{}}})}function b(e,t,r){return i=>(0,a.Z)({url:`/v3/boards/${e}/merge/${t}/`,method:"POST",data:r?{orbac_subject_id:r}:{}}).then(()=>Promise.all([i(m({boardId:e})),i(f(t,"pin_count")),i((0,c.N8)(u.Z.BOARD_SECTIONS,t))]))}function y(e){return t=>{e&&(0,d.Q)(e).forEach(e=>{t(e)})}}let v=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),x=e=>g(e,"pin_count");function w(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function P(e,t){return r=>(r(w(e)),i.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function S(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function C(e,t){return r=>(r(S(e)),i.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}let A=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),E=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function j(e,t,r){let a={name:e,privacy:n.Z.BoardPrivacy.PUBLIC,username:t,...r?{orbac_subject_id:r}:Object.freeze({})};return e=>i.Z.create("BoardResource",a).callCreate().then(r=>{let i=r.resource_response.data;return e(t&&(0,s.jB)("BoardsResource",(0,l.Z)(t,!1))),i})}function T(e={},t,r){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:r}}let I=(e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),k=(e,t,r)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:r}}),D=(e,t,r,i)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:r,collaboratingUsers:i}}),R=(e,t,r)=>async n=>{n(I(e,t));let a=await i.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();return a.resource_response.error||r({event_type:29,object_id_str:e}),a},z=(e,t,r,n,a,o)=>async s=>{let l="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";s(k(e,n?.id??"",r));try{let r=await i.Z.create(l,{board_id:e,field_set_key:"boardEdit",invited_user_id:n?.id??"",...o?{orbac_subject_id:o}:{}}).callDelete();r.resource_response.error||a({event_type:"accepted"===t?25:29,object_id_str:e})}catch(i){s(D(e,r,t,[n]))}},O=(e,t,r,n)=>a=>{let o=i.Z.create("BoardResource",{board_id:r}).callDelete();return a(m({viewingUserId:e,viewingUsername:t,boardId:r,boardPinCount:n})),o},B=(e,t)=>r=>i.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then(i=>(r((0,c.Qv)("archived-boards",[{id:e,type:"board"}])),r(w(e,t)),i)),Z=(e,t)=>r=>i.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then(i=>(r((0,c.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),r(S(e)),i))},823813:(e,t,r)=>{"use strict";r.d(t,{A8:()=>v,CQ:()=>A,Cf:()=>b,DK:()=>m,GJ:()=>C,RZ:()=>x,SD:()=>w,aN:()=>E,h6:()=>f,tV:()=>S,xx:()=>y,yC:()=>j,zC:()=>g});var i,n,a,o,s,l,d,c=r(702664),u=r(167912),h=r(216167),p=r(214877),_=r(107366);let m=()=>{let e=void 0!==i?i:i=r(322940),[t]=(0,u.useMutation)(e),{logContextEvent:n}=(0,p.v)();return async(e,r,i)=>{let a={boardId:e,collaboratorIds:r,message:i||""};return await new Promise((r,i)=>{t({variables:{...a},onCompleted:(t,a)=>{a&&i(a[0]),n({event_type:28,object_id_str:e}),r()},onError:e=>i(e)})})}},g=()=>{let e=void 0!==n?n:n=r(147127),[t]=(0,u.useMutation)(e),{logContextEvent:i}=(0,p.v)();return async(e,r,n)=>{let a={boardId:e,emails:r,message:n||""};return await new Promise((r,n)=>{t({variables:{...a},onCompleted:(t,a)=>{a&&n(a[0]),i({event_type:28,object_id_str:e}),r()},onError:e=>n(e)})})}},f=()=>{let e=void 0!==a?a:a=r(727615),[t]=(0,u.useMutation)(e),{logContextEvent:i}=(0,p.v)();return async(e,r)=>{let n={boardId:e,userId:r};return await new Promise((r,a)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&a(n[0]),i({event_type:32,object_id_str:e}),r(t)},onError:e=>a(e)})})}};function b(e,t){return async r=>{await (0,_.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"POST",data:{collaborator:t}}),r({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:t}})}}function y(e,t){return async r=>{await (0,_.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"DELETE",data:{collaborator:t}}),r({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}})}}let v=(e,t)=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:t}}),x=()=>{let e=void 0!==o?o:o=r(352018),[t]=(0,u.useMutation)(e),{logContextEvent:i}=(0,p.v)();return async e=>{let r={boardId:e};return await new Promise((n,a)=>{t({variables:{...r},onCompleted:(t,r)=>{r&&a(r[0]),i({event_type:32,object_id_str:e}),n(t)},onError:e=>a(e)})})}},w=(e,t,r)=>async i=>{i(v(e,t));let n=await h.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t.id}).callUpdate();n.resource_response.error||r({event_type:32,object_id_str:e})};function P(e,t){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:t}}}let S=()=>{let e=void 0!==s?s:s=r(698840),[t]=(0,u.useMutation)(e),i=(0,c.useDispatch)();return async e=>{let r={boardId:e};return await new Promise((n,a)=>{t({variables:{...r},onCompleted:(t,r)=>{r&&(i(P(e,!1)),a(r[0])),i(P(e,!0)),n(t)},onError:t=>{i(P(e,!1)),a(t)}})})}};function C(e,t){return r=>{(0,_.Z)({url:`/v3/boards/${e}/collaborators/request/${t}/`,method:"DELETE",data:{board:e,user:t}}).catch(()=>{r(P(e,!0))}),r(P(e,!1))}}let A=()=>{let e=void 0!==l?l:l=r(565067),[t]=(0,u.useMutation)(e),{logContextEvent:i}=(0,p.v)();return async(e,r,n)=>{let a={boardId:e,userId:r,ban:!!n&&n};return await new Promise((r,n)=>{t({variables:{...a},onCompleted:(t,a)=>{a&&n(a[0]),i({event_type:29,object_id_str:e}),r(t)},onError:e=>n(e)})})}},E=()=>{let e=void 0!==d?d:d=r(721383),[t]=(0,u.useMutation)(e),{logContextEvent:i}=(0,p.v)();return async(e,r)=>{let n={board:e,collaboratorIds:[r]};return await new Promise((r,a)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&a(n[0]),i({event_type:29,object_id_str:e}),r(t)},onError:e=>a(e)})})}},j=()=>{let e=A(),t=E();return(r,i,n)=>async()=>{let{invited_user:i,status:a,board:{id:o}}=r;i&&("accepted"===a?await t(o,i.id):await e(o,i.id,n))}}},265330:(e,t,r)=>{"use strict";r.d(t,{V:()=>o,u:()=>a});var i=r(216167),n=r(821419);let a=e=>t=>i.Z.create("BoardResource",{board_id:e}).callGet().then(e=>{let r=e&&e.resource_response&&e.resource_response.data;return r&&t((0,n.yT)(r)),e});function o(e,t,r){return(a,o)=>{let{boards:s}=o(),l=s[e],d=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},c={allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description,...t.name&&{name:t.name},privacy:t.privacy,sensitivity:t.sensitivity||null,...r?{orbac_subject_id:r}:Object.freeze({}),...d};return a((0,n.yT)({...c,id:e})),i.Z.create("BoardResource",{...c,board_id:e}).callUpdate().then(e=>{let r=e&&e.resource_response&&e.resource_response.data||t;return null!=t.allow_homefeed_recommendations&&(r.allow_homefeed_recommendations=t.allow_homefeed_recommendations),a((0,n.yT)(r)),e}).catch(e=>{throw l&&a((0,n.yT)(l)),e})}}},321083:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a,f:()=>o});var i=r(107366),n=r(821419);function a(e,t){return async r=>{r((0,n.md)(e,!0));try{await (0,i.Z)({url:`/v3/boards/${e}/follow/`,method:"PUT"}),t({event_type:26,object_id_str:e})}catch(t){r((0,n.md)(e,!1))}}}function o(e,t){return async r=>{r((0,n.md)(e,!1));try{await (0,i.Z)({url:`/v3/boards/${e}/follow/`,method:"DELETE"}),t({event_type:27,object_id_str:e})}catch(t){r((0,n.md)(e,!0))}}}},64819:(e,t,r)=>{"use strict";function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function n(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}r.d(t,{EX:()=>o,N8:()=>n,Qv:()=>a,_f:()=>i,vX:()=>s});let a=(e,t,r=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:r,items:t}});function o(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function s(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},430408:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p,S:()=>h});var i=r(216167),n=r(821419),a=r(402287),o=r(64819),s=r(937310),l=r(622888);let d=e=>t=>{l.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))},c=e=>(0,o.N8)(e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,e.sectionId||e.boardId);function u(e,t){let{source:r,target:i}=e;i.boardId!==r.boardId?(t((0,n.Tq)(r.boardId,"pin_count")),t((0,n.Tq)(i.boardId,"pin_count"))):r.sectionId&&i.sectionId||t((0,n.Tq)(i.boardId,"pin_count")),r.sectionId&&t((0,a.CE)(r.sectionId)),i.sectionId&&t((0,a.CE)(i.sectionId))}function h(e){return t=>{let{selectedPinIds:r,source:i,target:n}=e;t((0,o.EX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:r,itemType:"pin"})),t((0,o.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:r,itemType:"pin"})),u(e,t)}}function p(e,t){return r=>(function(e,t,r){let{inverseSelection:n,selectedPinIds:a,source:l,target:u,orbacSubjectId:h}=e;if(l.boardId===u.boardId&&(l.sectionId||null)===(u.sectionId||null))return Promise.reject();if(n){let e={board_id:l.boardId,new_board_id:u.boardId,old_section_id:l.sectionId||void 0,new_section_id:u.sectionId||void 0,pin_ids:a,orbac_subject_id:h};return i.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(c(l)),t(c(u))])).catch(d(r))}{let e=(e,r)=>{t((0,o.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:a,itemType:"pin"})),t((0,o.vX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:a,itemType:"pin"}))};e(l,u);let n=()=>e(u,l);if(u.boardId===l.boardId){if(u.sectionId){let e={section_id:u.sectionId,pins:a,orbac_subject_id:h};return i.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),d(r)(e)})}{let e={section_id:l.sectionId,pins:a,orbac_subject_id:h};return i.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{n(),d(r)(e)})}}{let e={board_id:u.boardId,section_id:u.sectionId||void 0,pin_ids:a,orbac_subject_id:h};return i.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),d(r)(e)})}}})(e,r,t).then(()=>u(e,r))}},767518:(e,t,r)=>{"use strict";function i(e){return{type:"PIN_BETTER_SAVE",payload:e}}function n(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function a(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function o(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}r.d(t,{ND:()=>o,Vp:()=>a,a1:()=>i,jg:()=>n})},927177:(e,t,r)=>{"use strict";function i(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function n(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}r.d(t,{L:()=>n,m:()=>i})},70982:(e,t,r)=>{"use strict";r.d(t,{KF:()=>c,ZN:()=>s,fv:()=>d,kE:()=>h,yA:()=>l});var i=r(216167),n=r(107366),a=r(386129);function o(e,t,r,n){return i.Z.create("UserFollowResource",{user_id:e,invite_code:n||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:r})}function s(e,t=null,r,i){return n=>{o(e,t,r,i).callCreate().catch(()=>n((0,a.P_)(e,!1))),n((0,a.P_)(e,!0))}}function l(e,t=null,r,i){return async n=>{n((0,a.P_)(e,!0)),await o(e,t,r,i).callCreate().catch(t=>{throw n((0,a.P_)(e,!1)),t})}}function d(e,t=null,r){return i=>{o(e,t,r).callDelete().catch(()=>i((0,a.P_)(e,!0))),i((0,a.P_)(e,!1))}}function c(e,t=null,r){return async i=>{i((0,a.P_)(e,!1)),await o(e,t,r).callDelete().catch(t=>{throw i((0,a.P_)(e,!0)),t})}}let u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),h=e=>t=>{e.length>0&&((0,n.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>t(u(e,!1))),t(u(e,!0)))}},386129:(e,t,r)=>{"use strict";r.d(t,{Ge:()=>d,JS:()=>o,OF:()=>v,P_:()=>s,Q_:()=>h,b8:()=>p,eR:()=>y,h2:()=>c,h6:()=>u});var i=r(216167),n=r(107366),a=r(666698);function o(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let s=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),l=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),d=({id:e,orbacSubjectId:t,blockSource:r,blockContext:n,logContextEvent:a})=>async o=>{o(l(e,!0));let s=await i.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:r,block_context:n}).callCreate().catch(()=>o(l(e,!1)));return a({event_type:54,object_id_str:e}),s},c=(e,t)=>async r=>{r(l(e,!1));let n=await i.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>r(l(e,!0)));return t({event_type:55,object_id_str:e}),n};function u(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let h=(e,t)=>()=>{let r=i.Z.create("UserStateResource",{state:e,value:t});return r.callCreate()},p=(e,t,r)=>(i,o)=>{(0,n.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{r({event_type:48,object_id_str:o().session.userId}),e(),(0,a.Dm)()},t)},_=e=>e>=200&&e<400,m=(e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"",g=async(e,t,r)=>{let n=await i.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(n.resource_response.data[e]){let i=n.resource_response.data[e],{status:a,signature:o}=i;if("processing"===a||"registered"===a)setTimeout(async()=>{g(e,t,r)},5e3);else if("succeeded"===a){let e=m(o);t(e)}else r()}else r()},f=(e,t,r,n,a)=>{let o=new FormData;return o.append("img",e),i.Z.create("VIPResource",{type:t}).callCreate().then(t=>{if(t.resource_response.data){let{upload_id:i,upload_url:o,upload_parameters:s}=t.resource_response.data,l=new XMLHttpRequest;l.open("POST",o,!0),l.onload=()=>{_(l.status)?(r(100),g(i,n,a)):a()},l.upload.onprogress=e=>{let t=Math.round(100*e.loaded/e.total);r(t)};let d=new FormData;for(let e in s)d.append(e,s[e]);d.append("file",e),l.send(d)}},()=>{a()})},b=e=>new Promise((t,r)=>{f(e,"pinimage",()=>{},e=>{t(e)},e=>{r(e)})}),y=e=>new Promise((t,r)=>{"string"==typeof e?e.startsWith("data")&&b(function(e,t=512){let r=e.split(";"),i=r[0].split(":")[1],n=r[1].split(",")[1],a=atob(n),o=[];for(let e=0;e<a.length;e+=t){let r=a.slice(e,e+t),i=Array(r.length);for(let e=0;e<r.length;e+=1)i[e]=r.charCodeAt(e);let n=new Uint8Array(i);o.push(n)}let s=new Blob(o,{type:i});return s}(e)).then(e=>t(e)):r("Invalid Image")}),v=e=>()=>(0,n.Z)({url:"/v3/register/exists/",data:{email:e}})},937310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},94816:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h,o:()=>u});var i=r(667294),n=r(883119),a=r(587703),o=r(515278),s=r(213377),l=r(140017),d=r(149722),c=r(785893);let u="AddPinRep";function h({ctaText:e,handleClick:t,height:r,iconSize:u,textSize:h,component:p}){let _=(0,a.Z)(),m=(0,l.ZP)(),g=(0,d.Z)(),f=(0,o.Z)();return(0,i.useEffect)(()=>{_({event_type:120,component:p??0,element:10643})},[_,p]),(0,c.jsx)(n.xu,{children:(0,c.jsx)(n.Tg,{href:"/pin-builder/",onTap:()=>{if(f){f();return}g.isPartner&&_({event_type:101,component:0,element:10643}),t&&t()},children:(0,c.jsxs)(n.st,{children:[(0,c.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",fit:!0,height:r||s.yF,justifyContent:"center",rounding:2,width:r||void 0,children:(0,c.jsx)(n.xu,{color:"default",height:u||40,rounding:"circle",width:u||40,children:(0,c.jsx)(n.JO,{accessibilityLabel:"",color:"error",icon:"add-circle",inline:!0,size:u||40})})}),(0,c.jsx)(n.xu,{padding:2,children:(0,c.jsx)(n.xv,{color:"subtle",size:h||"300",weight:"bold",children:e||m._('Create Pin', 'label to open create pin modal', 'label to open create pin modal')})})]})})})}},506248:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(667294),n=r(510989),a=r(608516),o=r(785893);let s=(0,i.lazy)(()=>Promise.all([r.e(35911),r.e(16178)]).then(r.bind(r,384131)));function l(e){return(0,o.jsx)(n.Z,{name:"SafeSuspense_EditPinModalLoader_EditPinModal",children:(0,o.jsx)(a.Z,{children:(0,o.jsx)(s,{...e})})})}},174595:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(702664),n=r(214877),a=r(515278);let o=({pinId:e,carouselSlotCurrentIndexProp:t,component:r,setShowEditModal:o})=>{let s;let{logContextEvent:l}=(0,n.v)(),d=(0,a.Z)(),c=(0,i.useSelector)(({pins:e})=>e),{carousel_data:u}=c&&e&&c[e]||{},{index:h}=u||{};return void 0!==t&&(s=h||t||0),{onClick:({event:e})=>{if(d){d();return}e.stopPropagation(),l({event_type:101,element:3,...r?{component:r}:Object.freeze({})}),o(!0)},carouselSlotCurrentIndex:s}}},299351:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(702664),n=r(282008),a=r(94816),o=r(883119),s=r(785893);function l({story:e}){let{action:{text:t,url:r},custom_properties:{image:i,image_alt:n}}=e;return(0,s.jsxs)(o.xu,{position:"relative",children:[(0,s.jsx)(o.zd,{height:285,rounding:4,width:228,children:(0,s.jsx)(o.Ee,{alt:n,color:"black",fit:"cover",naturalHeight:2688,naturalWidth:2e3,src:i})}),(0,s.jsx)(o.xu,{bottom:!0,display:"flex",justifyContent:"center",padding:4,position:"absolute",width:228,children:(0,s.jsx)(o.ZP,{color:"white",fullWidth:!0,href:r,text:t})})]})}function d(e){let t=(0,i.useSelector)(t=>t.desktopStories[e.storyId]);if(!t)return null;switch(t.story_type){case"BUBBLE_ONE_COL":return(0,s.jsx)(n.Z,{bubbles:t.objects,id:e.storyId,referringSource:t.referring_source,slotIndex:e.slot,storyType:t.story_type,title:t.title,viewParameter:e.viewParameter,viewType:e.viewType});case"feed_card_default":case"feed_card_video":return(0,s.jsx)(l,{story:t});case"add_pin":return(0,s.jsx)(a.Z,{});default:return null}}},641285:(e,t,r)=>{"use strict";r.d(t,{Z:()=>D});var i,n=r(667294),a=r(702664);r(167912);var o=r(616550),s=r(216167),l=r(798580),d=r(515278),c=r(622888),u=r(190971),h=r(207012),p=r(901855),_=r(140017),m=r(339001),g=r(498301),f=r(825765),b=r(149722),y=r(86173),v=r(692440),x=r(180338),w=r(821419),P=r(402287),S=r(64819),C=r(767518),A=r(386129),E=r(937310),j=r(785893);function T(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let I=void 0!==i?i:i=r(924633);class k extends n.PureComponent{constructor(...e){super(...e),T(this,"state",{step:"unsaved"}),T(this,"deletePin",e=>s.Z.create("PinResource",{id:e,client_tracking_params:this.clientTrackingParams}).callDelete()),T(this,"repin",()=>{let{pin:e,target:{board:t,boardSection:r},eventContext:i}=this.props,{clientTrackingParams:n}=this,a=!e?.entityId&&e?.imageUrl?(0,g.Z)(e.imageUrl??"",e.link):"",o=r&&r.id,l={board_id:t.id||"",clientTrackingParams:n,description:e?.description||"",image_base64:e?.imageBase64??"",link:e?.link,image_url:a,is_buyable_pin:!1,is_removable:!!e?.promotedIsRemovable,media_upload_id:e?.mediaUploadId??"",pin_id:e?.entityId||"",section:o,title:e?.title||"",eventContext:i};return s.Z.create("RepinResource",l).callCreate({showError:!1})}),T(this,"handleSave",()=>{let{requireAuth:e,onSave:t,makeCancelablePromise:r,mountAfterActionPlacement:i}=this.props,{step:n}=this.state;if(e){e();return}if("unsaving"===n){this.setState({step:"saving"});return}this.setState({step:"saving"});let a=this.repin().then(({resource_response:{data:e}})=>{this.shouldCompleteSave(e),i("Save",{pin_id:this.props.pin?.entityId,is_promoted:this.props.pin?.isPromoted})});r(a).then(t).catch(({isCanceled:e})=>{if(!e){let{target:{board:e,boardSection:t}}=this.props;c.Z.showError(t?(0,m.nk)(this.props.i18n._('Failed to save the Pin to {{sectionName}}', 'Error message when failed to save to a section within a board', 'Error message when failed to save to a section within a board'),{sectionName:t.title}).join(""):(0,m.nk)(this.props.i18n._('Failed to save the Pin to {{boardName}}', 'Error message when failed to save to a board', 'Error message when failed to save to a board'),{boardName:e.name}).join(""))}})}),T(this,"shouldCompleteSave",e=>{let{saveToBoard:t,pin:r,dispatch:i,target:{board:n,boardSection:a}}=this.props,{step:o}=this.state,s=a&&a.id,l={pinId:r?.entityId||"",boardId:n.id,sectionId:s,title:r?.title||""};if("saving"===o){this.props.onPinCreate&&this.props.onPinCreate({boardId:e.board.id,pinId:e.id}),t(n),i((0,S.vX)({feedId:s||n.id,feedType:s?E.Z.BOARD_SECTION_PINS:E.Z.BOARDFEED,itemIds:[r?.entityId??""],itemType:"pin"}));let{imageUrl:o,imageSpec_236x:d}=r??{},c=o||d&&d.url||"";return(a||!n.image_cover_url)&&(n.image_cover_url=c,i((0,w.yT)(n))),i((0,C.a1)({...l,localPinId:e.id,nodeId:r?.__id})),i((0,w.Br)({boardId:n.id,sectionId:a?a.id:void 0,increment:1})),i((0,A.JS)({userId:e.pinner.id,increment:1})),this.setState({step:"saved"}),e}"unsaving"===o&&this.handleUnsave(e.id)}),T(this,"handleUnsave",e=>{let{step:t}=this.state,{savedInfo:r}=this.props.pin??{};if("unsaved"===t)return;if("saving"===t){this.setState({step:"unsaving"});return}let i=r&&r.localPinId||e;i&&(this.setState({step:"unsaving"}),this.deletePin(i).then(()=>this.shouldCompleteUnsave()))}),T(this,"shouldCompleteUnsave",()=>{let{pin:e,target:{board:t,boardSection:r},dispatch:i,onDelete:n,viewerId:a}=this.props,{step:o}=this.state;if("unsaving"===o){if(e?.savedInfo){let o=r?.id;i((0,C.jg)({pinId:e.entityId,nodeId:e.__id})),i((0,w.Br)({boardId:t.id,sectionId:o,increment:-1})),i((0,A.JS)({userId:a,increment:-1})),i((0,w.xQ)(t.id)),i((0,S.EX)({feedId:o||t.id,feedType:o?E.Z.BOARD_SECTION_PINS:E.Z.BOARDFEED,itemIds:[e.entityId??""],itemType:"pin"})),o&&i((0,P.CE)(o)),n&&n()}this.setState({step:"unsaved"})}"saving"===o&&this.handleSave()})}get clientTrackingParams(){let{location:e,pin:t,previousHistory:r,trackingParamsMap:i}=this.props;return(0,l.Z)({boardUrl:t?.board?.url,location:e,pinId:t?.entityId,pinnerUserName:t?.pinner?.username,previousHistory:r,storyPinDataId:t?.storyPinDataId,trackingParams:t?.trackingParams,trackingParamsMap:i})||`${t?.trackingParams||""}-0`}render(){let{children:e}=this.props,{step:t}=this.state,{savedInfo:r}=this.props.pin??{};return e({save:this.handleSave,saved:"saved"===t||"saving"===t||!!(r&&r.localPinId),savedInfo:r,unsave:this.handleUnsave})}}function D({pinKey:e,...t}){let{previous:r}=(0,p.Hv)(),{saveToBoard:i}=(0,v.N)(),n=(0,a.useDispatch)(),s=x.W()?.onPinCreate,l=(0,_.ZP)(),c=(0,f.Z)(),m=(0,o.TH)(),g=(0,d.Z)(),w=(0,b.Z)(),P=(0,h.Z)(I,e),S=(0,y.Z)({hasPin:!!P,pinId:P?.entityId,boardLayout:P?.board?.layout,boardUrl:P?.board?.url}),C=(0,u.c)();return(0,j.jsx)(k,{...t,dispatch:n,i18n:l,location:m,makeCancelablePromise:c,mountAfterActionPlacement:C,onDelete:()=>{S(),t.onDelete?.()},onPinCreate:s,pin:P,previousHistory:r,requireAuth:g,saveToBoard:i,viewerId:w.isAuth?w.id:""})}},272232:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i,n=r(667294);r(167912);var a=r(693967),o=r.n(a),s=r(883119),l=r(207012),d=r(140017),c=r(437147),u=r(785893);let h={sm:32,md:40,lg:48},p=void 0!==i?i:i=r(321046),_=(0,n.memo)((0,n.forwardRef)(({disabled:e=!1,iconOnly:t,isCloseupPin:r,onBoardUpdated:i,onClick:n,onSavedClick:a,onToggleModal:_,onUnsaved:m,renderSavedStatus:g,saveButtonType:f="classic",saved:b,size:y="md",variant:v="classic",viewParameter:x,pinKey:w},P)=>{let S=(0,d.ZP)(),C=(0,l.Z)(p,w);if(b&&"controlled"===f)return(0,u.jsx)(s.zx,{disabled:!0,fullWidth:!0,size:"sm",text:S._('Saved', ' - ', ' -- ')});let{carouselData:A,savedInfo:E}=C||{};return!r&&E&&g&&m&&i&&"classic"===f?(0,u.jsx)(c.Z,{currentCarouselIndex:A&&A.index,onDeleteSavedState:m,onEditSubmit:i,onToggleModal:_,pinId:E.localPinId,variant:"pin",viewParameter:x,children:g()}):b&&"classic"===f&&r?(0,u.jsx)(s.zx,{accessibilityLabel:S._('Saved button', 'saveButton.saved.label', 'Saved state label on save button'),color:"white",fullWidth:!0,onClick:a,size:"md",text:S._('Saved!', 'saveButton.saved', 'Saved state text on save button')}):t?(0,u.jsx)(s.xu,{ref:P,"data-test-id":"SaveButton",children:(0,u.jsx)(s.hU,{accessibilityLabel:S._('Save', 'Accessibility label for the save button', 'Accessibility label for the save button'),bgColor:"white",icon:"pin",iconColor:"darkGray",onClick:({event:e})=>n(e),size:"md"})}):(0,u.jsx)(s.xu,{display:r?void 0:"flex",justifyContent:"end",children:(0,u.jsx)("div",{ref:P,className:o()("SaveButton",e?"SaveButton--disabled":"SaveButton--enabled",{"SaveButton--lego":"lego"===v}),"data-test-id":"SaveButton",onClick:e?void 0:n,onKeyPress:e?void 0:e=>{(32===e.charCode||13===e.charCode)&&(e.preventDefault(),n(e))},role:"button",tabIndex:"0",children:(0,u.jsx)("div",{className:o()("SaveButton__background",e?"SaveButton__background--disabled":"SaveButton__background--enabled",{"SaveButton__background--lego":"lego"===v}),children:(0,u.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},display:"flex",minHeight:h[y],children:(0,u.jsx)(s.xv,{color:e?"subtle":"inverse",size:"lego"===v?"100":"200",weight:"bold",children:(0,u.jsx)("span",{className:o()("SaveButton__label",{"SaveButton__label--lego":"lego"===v}),children:S._('Save', 'Pin save button label', 'Pin save button label')})})})})})})})),m=_},349920:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u,c:()=>d});var i=r(667294),n=r(883119),a=r(140017),o=r(339001),s=r(5859),l=r(785893);let d=48,c=(0,i.forwardRef)((e,t)=>{let{addButtonRef:r,collaboratorCount:i,nonDisplayedCollaboratorCount:c,displayedCollaborators:u,onClick:h,showAddButton:p,avatarSize:_}=e,m=(0,a.ZP)(),{isRTL:g}=(0,s.B)(),f=u.map(e=>e.name),b="",y=c?"default":f.length;switch(y){case 3:b=(0,o.Wc)(m._('{{ first }}, {{ second }}, and {{ last }}', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames'),{first:`${f[0]}`,second:`${f[1]}`,last:`${f[2]}`});break;case 2:b=(0,o.Wc)(m._('{{ first }} and {{ second }}', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.'),{first:`${f[0]}`,second:`${f[1]}`});break;default:b=f.join(", ")}let v=c?(0,o.Wc)(m.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', c, 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.aboveTwoCollaborators', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:b,leftCount:`${c}`}):(0,o.Wc)(m._('Collaborators: {{ userNames }}.', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.notAboveTwoCollaborators', 'Accessibility label that lists the names of collaborators'),{userNames:b}),x=u.length>1?[...u,...Array(c).fill({name:"",src:""})]:u,w=(u.length>1||0===i)&&p,P=m._('Invite collaborators.', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.inviteCollaborators', 'It informs the users that they can invite other collaborators.');return(0,l.jsxs)(n.xu,{"data-test-id":"user-rep-avatar",position:"relative",rounding:"pill",children:[w?(0,l.jsx)(n.xu,{ref:r,height:"sm"===_?32:d,left:g,position:"absolute",right:!g,rounding:"circle",top:!0,width:"sm"===_?32:d}):null,(0,l.jsx)(n.HE,{ref:t,accessibilityLabel:w?`${v} ${P}`:`${v}`,addCollaborators:w,collaborators:x,onClick:h,role:"button",size:_||"md"})]})});c.displayName="BoardAvatarGroup";let u=c},608823:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(883119),n=r(140017),a=r(337882),o=r(847754),s=r(259078),l=r(785893);function d({avatarSize:e,board:t,displayedCollaboratorsMaxCount:r,handleTapOnInviteAvatarGroup:d,label:c}){let u=(0,n.ZP)(),h=(0,o.Z)({boardId:t.id??"",ownerName:t.owner?.full_name??"",ownerUsername:t.owner?.username??"",ownerImgSrc:t.owner?.image_medium_url||t.owner?.image_small_url||""}),{displayedCollaborators:p,nonDisplayedCollaboratorCount:_}=(0,s.Z)({boardCollaboratorCount:t.collaborator_count,collaborators:h});return(0,l.jsx)(i.kC,{children:(0,l.jsx)(i.iP,{onMouseDown:d,onTap:d,children:(0,l.jsxs)(i.kC,{children:[(0,l.jsx)(a.Z,{avatarSize:e,board:t,displayedCollaborators:r?p.slice(0,r):p,handleShowCollabAndPermissionsModal:()=>{},nonDisplayedCollaboratorCount:r?0:_,showPersonAddIconForInvite:!0}),(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{border:"1px solid white"}},marginStart:"sm"===e?-2:-4,position:"relative",rounding:"circle",children:(0,l.jsx)(i.hU,{accessibilityLabel:u._('Board Invite Icon', 'BoardToolHeader.InviteFriends.Icon.Accessibilitylabel', 'icon showing that user can invite their friends to the board'),bgColor:"lightGray",icon:"person-add",size:e||void 0})}),c&&(0,l.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginStart:"sm"===e?1:2,children:(0,l.jsx)(i.xv,{lineClamp:1,weight:"bold",children:c})})]})})})}},337882:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var i=r(667294),n=r(616550),a=r(883119),o=r(551539),s=r(214877),l=r(510989),d=r(619370),c=r(71024),u=r(340523),h=r(608516),p=r(149722),_=r(785059),m=r(199677),g=r(349920),f=r(374030),b=r(785893);let y=(0,i.lazy)(()=>Promise.all([r.e(65292),r.e(33588)]).then(r.bind(r,107353)));function v({avatarSize:e,board:t,displayedCollaborators:r,nonDisplayedCollaboratorCount:v,handleShowCollabAndPermissionsModal:x,showPersonAddIconForInvite:w}){let P;let[S,C]=(0,i.useState)(!1),A=(0,p.Z)(),E=(0,i.useRef)(),j=(0,i.useRef)(),T=(0,n.k6)(),I=(0,_.Z)(),{logContextEvent:k}=(0,s.v)(),{anyEnabled:D}=(0,u.F)().checkExperiment("web_m10n_business_access_orbac_ga"),R=D?(0,m.KY)(A,t,I):(0,o.Z)(A,t.owner?.id),z=(R||t.collaborator_invites_enabled&&t.collaborated_by_me)&&!w,O=(P=()=>T.push(r[0].href??"/"),r[0].is_ads_only_profile&&r[0].ads_only_profile_site&&(P=()=>{k({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorAvatarGroup"}}),window.open(r[0].ads_only_profile_site,"_blank")}),r.length>1&&(P=()=>C(!S)),(R||t.collaborated_by_me)&&(P=x),P),B=[501003];R&&t.is_collaborative&&B.push(502335);let Z=r.map(({name:e,src:t})=>e&&t?{name:e,src:t.endsWith("/default_75.png")?"":t}:{name:e,src:t});return(0,b.jsxs)(i.Fragment,{children:[(0,b.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[!t.collaborator_count||t.collaborator_count<=101?(0,b.jsx)(g.Z,{ref:E,addButtonRef:j,avatarSize:e,collaboratorCount:t.collaborator_count||0,displayedCollaborators:Z,nonDisplayedCollaboratorCount:v,onClick:O,showAddButton:z??!1}):(0,b.jsx)(f.Z,{addButtonRef:j,displayedCollaborators:Z,nonDisplayedCollaboratorCount:v,onClick:O,pileRef:E,showAddButton:z??!1}),(0,b.jsx)(c.Z,{anchors:{3002:j.current},placementId:18,positionRelativeToAnchor:!1}),(0,b.jsx)(d.default,{anchor:j.current,customWrapper:({children:e})=>(0,b.jsx)(a.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:new a.Ry(2),children:e}),experienceIds:B,idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})]}),S&&(0,b.jsx)(l.Z,{name:"SafeSuspense_CollaboratorAvatarGroup_BoardCollabFlyout",children:(0,b.jsx)(h.Z,{children:(0,b.jsx)(y,{anchor:E.current,board:t,onDismiss:()=>{C(!1),E.current&&E.current.focus()}})})})]})}},374030:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(667294),n=r(883119),a=r(140017),o=r(72461),s=r(339001),l=r(5859),d=r(349920),c=r(785893);function u({addButtonRef:e,nonDisplayedCollaboratorCount:t,displayedCollaborators:r,onClick:u,pileRef:h,showAddButton:p}){let[_,m]=(0,i.useState)(!1),g=(0,a.ZP)(),f=(0,o.Z)(),{locale:b}=(0,l.B)(),y=g._('Invite collaborators.', 'DeprecatedBoardCollaboratorFacepile.accessibilityLabel.inviteCollaborators', 'It informs the users that they can invite other collaborators.'),v=(0,s.Wc)(g.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', t, 'DeprecatedBoardCollaboratorFacepile.accessibilityLabel', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:r.map(e=>e.name).join(", "),leftCount:`${t}`}),x=({children:e,hovered:t})=>(0,c.jsxs)(n.xu,{position:"relative",children:[(0,c.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:t?{zIndex:1,backgroundColor:"rgba(0,0,0,0.06)"}:{}},left:!0,position:"absolute",right:!0,rounding:"pill",top:!0}),e]}),w=r.map(({name:e,src:t},r)=>(0,c.jsx)(n.xu,{"aria-hidden":"true",marginStart:0!==r?-4:void 0,children:(0,c.jsx)(x,{hovered:_&&!!u,children:(0,c.jsx)(n.xu,{color:"default",height:d.c,rounding:"circle",width:d.c,children:(0,c.jsx)(n.qE,{name:e,outline:!0,src:t})})})},`face-${r}`));return w.length>1&&t&&w.push((0,c.jsx)(n.xu,{"aria-hidden":"true",zIndex:new n.Ry(1),children:(0,c.jsx)(n.xu,{marginStart:-4,children:(0,c.jsx)(x,{hovered:_&&!!u,children:(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 1px #fff"}},rounding:"circle",children:(0,c.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",height:d.c,justifyContent:"center",position:"relative",rounding:"circle",width:d.c,children:(0,c.jsx)(n.xv,{size:"300",weight:"bold",children:f(b,t,{shortform:!0})})})})})})},"additionalCount")),w.length>1&&p&&w.push((0,c.jsx)(n.xu,{ref:e,"aria-hidden":"true",zIndex:new n.Ry(1),children:(0,c.jsx)(n.xu,{marginStart:-4,children:(0,c.jsx)(x,{hovered:_,children:(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 1px #fff"}},rounding:"circle",children:(0,c.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",height:d.c,justifyContent:"center",rounding:"circle",width:d.c,children:(0,c.jsx)(n.JO,{accessibilityLabel:"Add",color:"default",icon:"add",size:20})})})})})},"addIcon")),(0,c.jsx)(n.kC,{alignItems:"center",children:(0,c.jsx)(n.iP,{ref:h,accessibilityLabel:p?`${v} ${y}`:`${v}`,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),onTap:u,rounding:"pill",children:(0,c.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:w})})})}},847754:(e,t,r)=>{"use strict";r.d(t,{I:()=>l,Z:()=>s});var i=r(340523),n=r(995917),a=r(35222);let o=({boardId:e,ownerUsername:t,ownerName:r,ownerImgSrc:o})=>{let{anyEnabled:s}=(0,i.F)().checkExperiment("web_m10n_business_access_orbac_ga"),l=(0,a.Z)(),{data:d,isLoaded:c}=(0,n.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...s&&l?{orbac_subject_id:l}:{}}}),u=[{name:r,src:o,href:`/${t}/`,isDim:!1}];return c&&d&&d.length>0&&d.forEach(e=>{u.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),u},s=o;function l({children:e,...t}){let r=o(t);return e(r)}},569619:(e,t,r)=>{"use strict";r.d(t,{Z:()=>ed});var i=r(667294),n=r(883119),a=r(214877),o=r(515278),s=r(554786),l=r(149722),d=r(563322),c=r(761203),u=r(140017),h=r(524383),p=r(915986),_=r(995917),m=r(785893);function g({selected:e}){let t=(0,u.ZP)();return(0,m.jsx)(n.JO,{accessibilityLabel:t._('Dense', 'Label for selecting the dense pin density view', 'Label for selecting the dense pin density view'),color:e?"default":"subtle",icon:"view-type-dense",size:24})}function f({selected:e}){let t=(0,u.ZP)();return(0,m.jsx)(n.JO,{accessibilityLabel:t._('Regular', 'Label for selecting the regular pin density view', 'Label for selecting the regular pin density view'),color:e?"default":"subtle",icon:"view-type-default",size:24})}var b=r(54966),y=r(881157);class v extends i.Component{constructor(...e){var t,r,i;super(...e),t="handleItemChange",r=({activeIndex:e})=>{let{viewType:t,component:r,pinView:i,logContextEvent:n}=this.props,a=0===e?"regular":"dense";(0,b.Z)({boardDensity:a,component:r,viewType:t},n),(0,y.Z)({density:a,surface:i}),"board"===i?this.props.updateBoardPinDensity?.(a):this.props.updateProfilePinDensity?.(a)},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}componentDidUpdate(){let{metadata:e,pinView:t,updatedBoardPinDensity:r,updateBoardPinDensity:i,updateProfilePinDensity:n}=this.props;if(e&&e.data&&""===r){let{profile_pin_rep_view_type:r,board_pin_rep_view_type:a}=e.data;"board"===t&&(r?i?.(r):i?.("regular")),"profile"===t&&(a?n?.(a):n?.("regular"))}}render(){let{metadata:e,updatedBoardPinDensity:t}=this.props;return e&&e.data?(0,m.jsx)("div",{className:"OwnBoardSelector",children:(0,m.jsx)(n.sY,{items:[(0,m.jsx)(f,{selected:"regular"===t}),(0,m.jsx)(g,{selected:"dense"===t})],onChange:this.handleItemChange,responsive:!0,selectedItemIndex:"dense"===t?1:0})}):null}}function x(e){let t=(0,d.x)(),{logContextEvent:r}=(0,a.v)(),i=(0,l.Z)(),n=(0,_.Z)({name:"UserMetadataResource",options:{user:{id:i.isAuth?i.username:""}},noCache:!0}),o=("board"===e.pinView?t?.boardPinDensity:t?.profilePinDensity)??"";return(0,m.jsx)(v,{...e,logContextEvent:r,metadata:n,updateBoardPinDensity:t?.setBoardPinDensity,updatedBoardPinDensity:o,updateProfilePinDensity:t?.setProfilePinDensity})}function w({board:e,currentView:t,inBoardOrganizationMode:r,onContentViewChange:a,onOrganizeClick:o,pinCount:s,showSortOptions:d}){let c=(0,u.ZP)(),_=(0,l.Z)();return(0,m.jsxs)(n.xu,{alignItems:"center",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,m.jsx)(n.xu,{flex:"grow",paddingX:1,children:(0,m.jsx)(n.X6,{children:c._('Pins', 'Heading for Pins outside of board sections on board page', 'Heading for Pins outside of board sections on board page')})}),d&&(0,h.tk)(s)&&(0,m.jsx)(n.xu,{paddingX:2,children:(0,m.jsx)(h.ZP,{board:e,currentView:t,onChange:a,viewer:_})}),s>=p.Ev&&(0,m.jsxs)(i.Fragment,{children:[s>=p.IK&&(0,m.jsx)(x,{component:13183,pinView:"board",viewType:5}),!r&&(0,m.jsx)(n.xu,{paddingX:2,children:(0,m.jsx)(n.zx,{fullWidth:!0,onClick:o,text:c._('Organize', 'The board organization button', 'The board organization button')})})]})]})}var P=r(702664),S=r(67030),C=r(466385),A=r(785059),E=r(199677),j=r(402287),T=r(937310),I=r(718545),k=r(853703),D=r(776569),R=r(507584),z=r(477458);let O=({children:e,shouldNavigate:t,to:r})=>t?(0,m.jsx)(n.Tg,{href:r,children:e}):e;var B=r(427514);let Z=e=>{let t=(0,u.ZP)(),{numberOfSelectedPins:r}=e;return(0,m.jsx)(n.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(n.xu,{color:"default",padding:3,rounding:"pill",children:(0,m.jsx)(n.xv,{weight:"bold",children:(0,B.Z)(t.ngettext('Move {{ count }} Pin here', 'Move {{ count }} Pins here', r, 'Call to action overlay on a section to move selected Pins', 'Call to action overlay on a section to move selected Pins'),{count:r})})})})},L={compact:157,wide:141},M={compact:118,wide:106};function N(e){return"dense"===e?2:3}function F(e){let t="dense"===e?M.compact:M.wide;return(t+1)*N(e)-1}function U({ariaLabel:e,isHovered:t,mode:r,pins:i}){let a=N(r),o="dense"===r,s=o?L.compact:L.wide,l=o?M.compact:M.wide,d=F(r),c=Array.from(Array(a),(e,t)=>{let r=t===a-1,o=i[t],{description:d,image_large_url:c,image_large_size_pixels:u,image_medium_url:h,image_medium_size_pixels:p}=o||{},_=d?d.trim():"";return(0,m.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:r?void 0:1}},"data-test-id":_?"pin-with-alt-text":"pin-missing-alt-text",children:(0,m.jsx)(n.zd,{height:s,rounding:0,wash:!0,width:l,children:u&&(0,m.jsx)(n.Ee,{alt:d??"",color:"transparent",fit:"cover",naturalHeight:(p?p.height:u.height)??1,naturalWidth:(p?p.width:u.width)??1,src:h??c??""})})},t)});return(0,m.jsx)(n.zd,{rounding:4,width:d,children:(0,m.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,m.jsx)(n.xu,{"aria-label":e,"aria-required":"true",bottom:!0,dangerouslySetInlineStyle:{__style:t?{zIndex:1,backgroundColor:"rgba(0,0,0,0.06)"}:{}},left:!0,position:"absolute",right:!0,top:!0}),c]})})}var H=r(5859),$=r(748599);function V({children:e,mode:t}){return"dense"===t?(0,m.jsx)(n.xv,{weight:"bold",children:e}):(0,m.jsx)(n.X6,{accessibilityLevel:2,lineClamp:1,size:"400",children:e})}function G({children:e,displayEditIcon:t,mode:r,mouseCursor:i,onEditClick:a,onTouch:o,pinCount:s,title:l}){let d=(0,u.ZP)(),{isRTL:c}=(0,H.B)(),h=(0,m.jsxs)(n.xu,{children:[(0,m.jsxs)(n.xu,{position:"relative",children:[e,t&&(0,m.jsx)(n.xu,{bottom:!0,left:c,position:"absolute",right:!c,children:(0,m.jsx)(n.xu,{padding:2,children:(0,m.jsx)(n.hU,{accessibilityHaspopup:!0,accessibilityLabel:d._('Edit', 'BoardSectionCard.SectionRep.EditIcon', 'accessibility label for the board section name edit button'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:a,size:"sm"})})})]}),(0,m.jsx)(n.kC,{alignItems:"start",justifyContent:"between",width:F(r),children:(0,m.jsxs)(n.xu,{flex:"grow",padding:2,children:[(0,m.jsx)(V,{mode:r,children:l}),(0,m.jsx)(n.xu,{marginTop:1,children:(0,m.jsx)($.i,{count:s,size:"100"})})]})})]});return o?(0,m.jsx)(n.iP,{fullWidth:!1,mouseCursor:i,onTap:o,rounding:4,children:h}):h}let W=e=>{let t;let{board:r,boardSection:a,canEdit:o,focused:s,hovered:c,inOrganizationMode:u,isDragging:h,isMergeTarget:p,onBlur:_,oneTapMovePinsHandler:g,onFocus:f,onMouseEnter:b,onMouseLeave:y,onShowEditSectionModal:v}=e,x=(0,l.Z)(),w=(0,A.Z)(),P=(0,E.lJ)(x,w),C=P&&(0,S.Z)(r.privacy)?`?orbac_subject_id=${P}`:"",{slug:j,title:T,preview_pins:I=[]}=a,k=d.x()?.boardPinDensity??"",D=g&&g.numberOfSelectedPins;D&&g&&(t=()=>{g.moveToSection(a)});let R="pointer";h?R="grabbing":!D&&u&&(R="grab");let z=g&&g.numberOfSelectedPins>0&&!!D&&c&&!h&&(0,m.jsx)(Z,{numberOfSelectedPins:g.numberOfSelectedPins});return(0,m.jsx)(n.xu,{alignItems:"center",color:"default","data-test-id":`section-${a.title??""}`,direction:"row",display:"flex",onBlur:_,onFocus:f,onMouseEnter:b,onMouseLeave:y,position:"relative",rounding:2,children:(0,m.jsx)(O,{shouldNavigate:!u,to:`${r.url??""}${j??""}/${C}`,children:(0,m.jsx)(G,{displayEditIcon:!!o&&!h&&(c||s),mode:k,mouseCursor:R,onEditClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),v(a)},onTouch:t,pinCount:a.pin_count??0,title:T??"",children:(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(U,{ariaLabel:`section-${a.title??""}`,isHovered:c||p||s,mode:k,pins:I??[]}),z]})})})})};function K(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class q extends i.Component{constructor(...e){super(...e),K(this,"state",{dragDrop:null,sectionIds:this.props.sections.map(e=>e.id??"")}),K(this,"cancelHoverTimeout",()=>{let{dragHoverTimeout:e}=this;e&&clearTimeout(e.timeoutId),this.dragHoverTimeout=null}),K(this,"dragHoverTimeout",null),K(this,"isDragging",()=>!!this.state.dragDrop),K(this,"handleSectionDragBegin",e=>{this.setState({dragDrop:{previewIndex:e,sourceIndex:e,target:null}})}),K(this,"handleSectionDragHover",(e,t)=>{let{dragDrop:r}=this.state,i=this.props.allowReordering;if(!t||!r)return;let{previewIndex:n}=r,a=(0,k.TI)({hoverRelativePosition:t,centerEnabled:e!==n&&i}),o={itemIndex:e,regionWithinItem:a};if(this.dragHoverTimeout&&(0,k.Lz)(o,this.dragHoverTimeout.hoverLocation))return;this.cancelHoverTimeout();let s="center"===a?"merge":"reorder",l={action:s,index:(0,k.X3)({hoverLocation:o,sourceIndex:n})};if(l.index===n){r.target&&r.target.index!==l.index&&this.setState({dragDrop:{...r,target:l}});return}this.dragHoverTimeout={hoverLocation:o,timeoutId:setTimeout(()=>{this.dragHoverTimeout=null,"reorder"===s?this.setState(({dragDrop:e,sectionIds:t})=>({dragDrop:{...e,target:l,previewIndex:l.index},sectionIds:(0,C.Z)(t,n,l.index)})):this.setState(({dragDrop:e})=>({dragDrop:{...e,target:l}}))},"reorder"===s?200:20)}}),K(this,"handleSectionDragEnd",e=>{let{sections:t,onShowMergeSectionsConfirmationModal:r,onSectionReorder:i}=this.props,{dragDrop:n,sectionIds:a}=this.state,o=n&&n.target;if(this.cancelHoverTimeout(),!e||!n||!o||o.index===n.sourceIndex){this.setState({dragDrop:null,sectionIds:t.map(e=>e.id??"")});return}let{previewIndex:s,sourceIndex:l}=n,{action:d,index:c}=o;if(this.setState({dragDrop:null}),"merge"===d){let e=e=>{let r=a[e];return r&&t.find(({id:e})=>e===r)},i=e(s),n=e(c);i&&n&&r(i,n)}else i(l,c)}),K(this,"renderSection",(e,t)=>{let{allowReordering:r,board:i,canEdit:a,oneTapMovePinsHandler:o,onShowEditSectionModal:s,organizeMode:l}=this.props,{dragDrop:d}=this.state,c=d&&d.target;return(0,m.jsx)(n.xu,{padding:2,children:(0,m.jsx)(z.q,{children:({focused:n,hovered:d,onBlur:u,onFocus:h,onMouseEnter:p,onMouseLeave:_})=>(0,m.jsx)(W,{allowReordering:r,board:i,boardSection:e,canEdit:a,focused:n,hovered:d,inOrganizationMode:l,isDragging:this.isDragging(),isMergeTarget:!!c&&"merge"===c.action&&t===c.index,onBlur:e=>{let{currentTarget:t}=e;setTimeout(()=>{t.contains(document.activeElement)||u()},0)},oneTapMovePinsHandler:o,onFocus:h,onMouseEnter:p,onMouseLeave:_,onShowEditSectionModal:s})})})})}componentDidUpdate(e){let{sections:t}=e,{sections:r}=this.props,i=e=>e.map(({id:e})=>e).join(",");if(t.length!==r.length&&i(t)!==i(r)){this.cancelHoverTimeout();let e=r.map(e=>e.id??"");this.setState({dragDrop:null,sectionIds:e})}}componentWillUnmount(){this.cancelHoverTimeout()}render(){let{allowReordering:e,connectDropTarget:t,isDragWithinBounds:r,sections:i}=this.props,{sectionIds:a}=this.state,o=this.isDragging(),s=i.reduce((e,t)=>t.id?{...e,[t.id]:t}:e,{}),l=(0,m.jsx)(n.xu,{display:"flex",justifyContent:"center",marginEnd:6,marginStart:6,wrap:!0,children:a.map(e=>s[e]).filter(e=>!!e).map((t,i)=>(0,m.jsx)(n.xu,{children:e?(0,m.jsx)(I.Z,{index:i,onDragBegin:this.handleSectionDragBegin,onDragEnd:this.handleSectionDragEnd,onDragHover:this.handleSectionDragHover,type:I.y.Section,children:(0,m.jsx)("div",{style:{opacity:o&&!r?.5:1},children:this.renderSection(t,i)})}):(0,m.jsx)(n.xu,{children:this.renderSection(t,i)})},t.id))});return(0,m.jsxs)(n.xu,{width:"100%",children:[e&&t?t((0,m.jsx)("div",{children:l})):l,o&&(0,m.jsx)(D.Z,{})]})}}let Y=(0,R.Z)(I.y.Section)(q);function X(e){let t=(0,u.ZP)(),{allowReordering:r,fetchMore:i,isAtEnd:a,isFetching:o}=e;return(0,m.jsxs)(n.xu,{width:"100%",children:[(0,m.jsx)(n.gr,{fetchMore:i,isAtEnd:a,isFetching:o}),r?(0,m.jsx)(Y,{...e}):(0,m.jsx)(q,{...e}),o&&!a&&(0,m.jsx)(n.xu,{paddingY:6,position:"relative",children:(0,m.jsx)(n.$j,{accessibilityLabel:t._('Loading sections', 'loading state for board sections', 'loading state for board sections'),show:!0})})]})}class J extends i.Component{constructor(...e){var t,r,i;super(...e),t="handleSectionReorder",r=(e,t)=>{var r,i;let{board:n,dispatch:a,enableReordering:o,sections:s,viewParameter:l}=this.props;if(!o)return;let d=s[e].id,c=s[t].id,u=(0,C.Z)(s,e,t).map(e=>e.id),h=u.indexOf(d),p={boardId:n.id,sourceSectionId:d,targetSectionId:c,...(r=h+1)>=0&&r<u.length?{sectionIdAfter:u[h+1]}:{},...(i=h-1)>=0&&i<u.length?{sectionIdBefore:u[h-1]}:{}},_={object_id_str:d,view_type:5,view_parameter:l};a((0,j.e1)(p)).then(()=>this.props.logContextEvent({event_type:7133,..._}))},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}componentDidMount(){let{sectionsInvalidated:e,onLoadedAll:t,sectionsResource:{isFetching:r,refresh:i,isAtEnd:n}}=this.props;e&&!r&&i(),n&&t()}componentDidUpdate(e){!this.props.sectionsInvalidated||e.sectionsInvalidated||this.props.isFetching||this.props.refreshData(),!e.sectionsResource.isAtEnd&&this.props.sectionsResource.isAtEnd&&this.props.onLoadedAll()}render(){let{board:e,enableReordering:t,inBoardOrganizationMode:r,oneTapMovePinsHandler:i,onShowEditSectionModal:a,onShowMergeSectionsConfirmationModal:o,sections:s,sectionsResource:l,viewer:d,orbacActingAs:c}=this.props,{isLoaded:u,isFetching:h,fetchMore:p,isAtEnd:_}=l;if(!u)return this.props.i18n._('Board sections loading spinner', 'BoardPage.BoardSections.loadingSpinner', 'Accessibility label for the spinner on board sections'),(0,m.jsx)(n.$j,{accessibilityLabel:this.props.i18n._('Board sections loading spinner', ' - ', ' -- '),show:!0});let g=(e.access||[]).includes("write")||(0,E.D3)(d,e.owner?.id||"",c);return(0,m.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",children:(0,m.jsx)(X,{allowReordering:t,board:e,canEdit:g,fetchMore:p,isAtEnd:_,isFetching:h,oneTapMovePinsHandler:i,onSectionReorder:this.handleSectionReorder,onShowEditSectionModal:a,onShowMergeSectionsConfirmationModal:o,organizeMode:r,sections:s})})}}function Q(e){let{logContextEvent:t}=(0,a.v)(),r=(0,u.ZP)(),i=(0,l.Z)(),n=(0,A.Z)(),o=(0,E.lJ)(i,n),{board:s}=e,d=(0,_.Z)({name:"BoardSectionsResource",options:{board_id:e.board.id,redux_normalize_feed:!0,...(0,S.Z)(s.privacy)&&o?{orbac_subject_id:o}:{}}}),c=(0,P.useSelector)(t=>t.feeds[`${T.Z.BOARD_SECTIONS}:${e.board.id}`]),h=(0,P.useSelector)(e=>(c||[]).reduce((t,r)=>"boardsection"===r.type&&e.boardsections[r.id]?t.concat([e.boardsections[r.id]]):t,[])),p=(0,P.useDispatch)();return(0,m.jsx)(J,{...e,dispatch:p,i18n:r,logContextEvent:t,orbacActingAs:n,sections:h,sectionsInvalidated:null===c,sectionsResource:d,viewer:i})}var ee=r(693138),et=r(747794),er=r(730006),ei=r(313669),en=r(163215);function ea(e){let t=(0,l.Z)(),r=(0,A.Z)(),i=(0,E.lJ)(t,r),n=(0,_.Z)({name:"BoardFeedResource",options:(0,er.q)(e.board,e.viewer,e.currentView,e.currentFilter,i)}),a=(0,P.useSelector)(({feeds:t,desktopStories:r})=>(0,en.Z)(t[`${T.Z.BOARDFEED}:${e.board.id}`],r));return(0,m.jsx)(ei.Z,{...e,...a,resource:n})}ea.displayName="BoardSectionlessPinGrid";var eo=r(276552),es=r(653585),el=r(915625);function ed({actions:e,board:t,bulkEditSelectedPins:r,currentFilter:u,currentView:h,displayActionBar:_,enableReordering:g,inBoardOrganizationMode:f,inSectionOrganizationMode:b,inSelectAll:y,isOwnBoard:v,isPinGridSorted:x,onBulkEditPinClick:P,onContentViewChange:S,oneTapMovePinsHandler:C,onShowEditSectionModal:A,onShowMergeSectionsConfirmationModal:E,refreshFilteredFeed:j,viewParameter:T}){let I=(0,c.gC)()(t.id),k=(I?I.section_count:t.section_count)||0,D=d.x()?.boardPinDensity,{logContextEvent:R}=(0,a.v)(),[z,O]=(0,i.useState)(0===k),B=(0,o.Z)(),Z=(0,eo.Z)(t.url),L=(0,l.Z)(),M=(0,s.ZP)(),{is_collaborative:N,pin_count:F}=t,U=(t.access||[]).includes("write"),H=v||t.collaborated_by_me,$=!!("number"==typeof F&&F>=p.Oj&&N&&H);return(0,m.jsxs)(n.xu,{marginBottom:12,children:[(0,m.jsx)(et.Z,{setMaxWidth:!1,children:(0,m.jsxs)(n.xu,{children:[k>0&&(!u||u===ee.cg)&&(0,m.jsx)(Q,{board:t,enableReordering:g,inBoardOrganizationMode:f,oneTapMovePinsHandler:C,onLoadedAll:()=>O(!0),onShowEditSectionModal:A,onShowMergeSectionsConfirmationModal:E,viewParameter:T}),_&&z&&H&&k>0&&(0,m.jsx)(w,{board:t,currentView:h,inBoardOrganizationMode:f,onContentViewChange:S,onOrganizeClick:()=>{if(B){B();return}let{onBoardOrganizeClick:t}=e;R({event_type:101,component:69,element:400}),t&&t(!0)},pinCount:F??0,showSortOptions:$})]})}),"desktop"===M&&z&&(0,m.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"8px"}},"data-test-id":"board-feed",paddingX:3,position:"relative",children:(0,m.jsx)(ea,{board:t,bulkEditSelectedPins:r,currentFilter:u,currentView:h,denseViewSelected:U&&"dense"===D,inBoardOrganizationMode:f,inSectionOrganizationMode:b,inSelectAll:y,isOwnBoard:v,isPinGridSorted:x,onBulkEditPinClick:P,refreshFilteredFeed:j,renderFooterStory:e=>{let r=!f&&!t.archived_by_me_at&&H;return r?(0,m.jsx)(n.xu,{marginBottom:6,children:(0,m.jsx)(et.Z,{children:(0,m.jsx)(el.Z,{collection:t,storyId:e,url:Z})})}):null},renderMoreIdeas:e=>(0,m.jsx)(n.xu,{marginBottom:6,children:(0,m.jsx)(es.Z,{storyId:e})}),viewer:L,viewParameter:T})})]})}},10568:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var i=r(667294),n=r(883119),a=r(214877),o=r(140017),s=r(915986),l=r(785893);function d({anchor:e,hideAddSectionTooltip:t}){let r=(0,o.ZP)();return(0,l.jsx)(n.mh,{children:(0,l.jsx)(n.xu,{position:"absolute",top:!0,zIndex:s.bW,children:(0,l.jsx)(n.Li,{anchor:e,idealDirection:"down",message:r._('Tap + to add a section any time', 'boardActionsButton.addIconButton.addSectionFlyout', 'Flyout to point out where you can find add section'),onDismiss:t})})})}var c=r(406718);function u({anchor:e,idealDirection:t,onAddOrEditDate:r,onAddSection:a,onClose:s,onCreateBoard:d,onCreatePin:u,onCreateStoryPin:h,surface:p,isWithinFixedContainer:_}){let m=(0,o.ZP)(),g=(0,c.Z)(!0),f=(0,i.useMemo)(()=>({pin:m._('Pin', 'BoardActionsButton.LegoFlyout.Pin', 'Option to create a pin'),rename:m._('Idea Pin', 'BoardActionsButton.LegoFlyout.IdeaPin', 'Option to create a Idea Pin'),board:m._('Board', 'profileHeader.actionBar.board', 'Option to create a board'),section:m._('Section', 'BoardActionsButton.LegoFlyout.Section', 'Option to create a board section'),date:m._('Date', 'BoardActionsButton.LegoFlyout.Date', 'Option to add a date to a board'),todos:m._('To-dos', 'BoardActionsButton.LegoFlyout.Note', 'Option to create a board note'),new:m._('New', 'BoardActionsButton.LegoFlyout.New', 'New option indicator')}),[m]);return(0,l.jsxs)(n.Lt,{anchor:e,id:"board_actions",idealDirection:t||"down",isWithinFixedContainer:_,onDismiss:s,zIndex:new n.Ry(1),children:[(0,l.jsx)(n.Lt.Section,{label:m._('Create', 'BoardActionsButton.LegoFlyout.Create', 'Label for a list of options to create a pin or a section'),children:[!g&&(0,l.jsx)(n.Lt.Item,{dataTestId:"Create Pin",onSelect:()=>{u(),s()},option:{label:f.pin,value:f.pin}},"actions-create-0"),h&&(0,l.jsx)(n.Lt.Item,{dataTestId:"Create Story Pin",onSelect:()=>{h(),s()},option:{label:g?f.pin:f.rename,value:g?f.pin:f.rename}},"actions-create-1"),"profileBoards"===p&&d&&(0,l.jsx)(n.Lt.Item,{dataTestId:"Create board",onSelect:()=>{d(),s()},option:{label:f.board,value:f.board}},"actions-create-2")].filter(Boolean)}),"board"===p&&(0,l.jsx)(n.Lt.Section,{label:m._('Add', 'BoardActionsButton.LegoFlyout.Add', 'Label for a list of options to add board sections or a board date'),children:[a&&(0,l.jsx)(n.Lt.Item,{dataTestId:"addSection",onSelect:()=>{a(),s()},option:{label:f.section,value:f.section}},"actions-add-1"),!!r&&(0,l.jsx)(n.Lt.Item,{onSelect:()=>{r(),s()},option:{label:f.date,value:f.date}},"actions-add-2")].filter(Boolean)})]})}var h=r(619370),p=r(588380);function _({anchor:e}){let t=(0,p.JI)();return(0,l.jsx)(n.mh,{children:(0,l.jsx)(n.xu,{position:"absolute",top:!0,zIndex:s.bW,children:(0,l.jsx)(h.default,{anchor:e,experienceIds:[503447],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>{t(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"})})})}function m({anchor:e}){return(0,l.jsx)(n.mh,{children:(0,l.jsx)(n.xu,{position:"absolute",top:!0,zIndex:s.bW,children:(0,l.jsx)(h.default,{anchor:e,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})})})}var g=r(971504);function f({children:e,idealDirection:t,onAddOrEditDate:r,onAddSection:s,onCreateBoard:c,onCreatePin:h,onCreateStoryPin:p,onOpen:f=()=>{},surface:b,isWithinFixedContainer:y}){let v;let x=(0,o.ZP)(),{showCreateSectionTooltip:w,setShowCreateSectionTooltip:P}=(0,g.L)()??{},{logContextEvent:S}=(0,a.v)(),C=()=>P(!1),A=(0,i.useRef)(),[E,j]=(0,i.useState)(!1),T=()=>{f(),w&&C(),j(!0),S({component:13056,element:1208,event_type:101,view_parameter:3106,view_type:4})},I=()=>j(!1),k=()=>{E?I():T()},D={board:x._('Board Actions', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget'),profileBoards:x._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),profilePins:x._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),section:x._('Create Pin', 'Button to begin pin creation flow', 'Button to begin pin creation flow')},R=e&&e({active:E,openFlyout:k})||(0,l.jsx)(n.hU,{accessibilityLabel:D[b],icon:"add",iconColor:"gray",onClick:"section"===b?h:k,size:"lg"});return!E&&"board"===b&&(w?v="addSectionTooltip":r&&(v="planningActionsExperience")),E||"profileBoards"!==b||(v="createBoardTooltip"),(0,l.jsxs)(n.xu,{"data-test-id":"boardActionsButton",children:[(0,l.jsx)(n.xu,{ref:A,children:R}),E&&(0,l.jsx)(u,{anchor:A.current,idealDirection:t,isWithinFixedContainer:!!y,onAddOrEditDate:r,onAddSection:s,onClose:I,onCreateBoard:c,onCreatePin:h,onCreateStoryPin:p,surface:b}),"addSectionTooltip"===v&&(0,l.jsx)(d,{anchor:A.current,hideAddSectionTooltip:C}),"planningActionsExperience"===v&&(0,l.jsx)(m,{anchor:A.current}),"createBoardTooltip"===v&&(0,l.jsx)(_,{anchor:A.current})]})}},919079:(e,t,r)=>{"use strict";r.d(t,{Z:()=>eV});var i=r(667294),n=r(14583),a=r(976439),o=r(883119),s=r(930837),l=r(140017),d=r(340523),c=r(995917),u=r(149722),h=r(785059),p=r(35222),_=r(199677),m=r(388769),g=r(339001),f=r(860910),b=r(785893);let y=({handleClick:e,selectedBoard:t,sourceBoard:r,targetBoardCandidates:i})=>{let n=(0,l.ZP)(),a=(0,b.jsx)(o.xv,{inline:!0,weight:"bold",children:r?.name}),s=(0,b.jsx)(o.xv,{inline:!0,weight:"bold",children:r?.pin_count});return 0===i.length?(0,b.jsx)(o.xv,{children:n._('There is no board to merge this board into.', 'BoardMergeModal.NoBoards.Text', 'helper text for selecting merge target board')}):r?(0,b.jsxs)(o.xu,{marginEnd:4,marginStart:4,maxHeight:532,maxWidth:540,children:[(0,b.jsx)(o.xv,{align:"center",size:"300",children:(0,g.nk)(n._('Your board {{ sourceBoardName }} and all {{ sourceBoardPinCount }} pins will be gone for good. You won\u2019t be able to get them back.', 'BoardMergeModal.Merge.Text', 'helper text for merging board'),{sourceBoardName:a,sourceBoardPinCount:s})}),(0,b.jsx)(o.xu,{marginStart:2,marginTop:4,children:(0,b.jsx)(o.xv,{size:"100",children:n._('All boards', 'MergeModal.AllBoards.Text', 'all boards section title')})}),i.map(r=>(0,b.jsx)(o.iP,{onTap:()=>e(r),children:(0,b.jsxs)(o.xu,{alignItems:"center",color:t?.id===r.id?"secondary":"transparent",display:"flex",height:64,justifyContent:"between",padding:2,rounding:2,children:[(0,b.jsxs)(o.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",children:[(0,b.jsx)(o.zd,{height:48,rounding:2,width:48,children:(0,b.jsx)(o.Ee,{alt:n._('Board Cover Image', 'MergeModal.Board.CoverImage', 'board cover image'),color:"steelblue",fit:"cover",naturalHeight:48,naturalWidth:48,src:r.image_cover_url||""})}),(0,b.jsxs)(o.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,children:[(0,b.jsx)(o.xu,{marginBottom:1,children:(0,b.jsx)(o.xv,{size:"300",weight:"bold",children:r.name})}),(0,b.jsx)(o.xv,{size:"100",children:(0,g.nk)(n.ngettext('{{ count }} Pin', '{{ count }} Pins', r.pin_count ?? 0, 'boardEdit.boardMergeModalBody.pinCount', 'label for n amount of pins'),{count:(0,b.jsx)(m.Z,{value:r.pin_count??0})})})]})]}),(0,b.jsxs)(o.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:["secret"===r.privacy&&(0,b.jsx)(o.xu,{marginEnd:3,children:(0,b.jsx)(o.JO,{accessibilityLabel:n._('Private board icon', 'MergeModal.Board.Private.Icon', 'private board accesibility label'),color:"default",icon:"lock"})}),r.is_collaborative&&(0,b.jsx)(o.xu,{marginEnd:3,children:(0,b.jsx)(f.Z,{board:r,isCompact:!0})}),!!r.section_count&&(0,b.jsx)(o.JO,{accessibilityLabel:n._('Board section icon', 'MergeModal.Board.Section.Icon', 'board secetion accesibility label'),color:"default",icon:"arrow-forward"})]})]})},r.id))]}):null};function v(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class x extends i.Component{constructor(...e){super(...e),v(this,"state",{selectedTargetBoard:null}),v(this,"handleChange",e=>{this.setState({selectedTargetBoard:e})}),v(this,"handleSubmit",()=>{let{onSubmit:e}=this.props,{selectedTargetBoard:t}=this.state;t&&e(t)}),v(this,"renderModalBody",()=>{let{boardsResource:e,sourceBoardId:t}=this.props,{selectedTargetBoard:r}=this.state,{data:i}=e;if(!i)return(0,b.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('Loading board list', 'spinner accessibility label', 'spinner accessibility label'),show:!0});let n=i.find(e=>e.id===t),a=i.filter(e=>e.id!==t&&!e.is_ads_only);return(0,b.jsx)(y,{handleClick:this.handleChange,selectedBoard:r,sourceBoard:n,targetBoardCandidates:a})})}render(){let{onCancel:e}=this.props,{selectedTargetBoard:t}=this.state,r=(0,b.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"between",padding:6,children:[(0,b.jsx)(o.xu,{}),(0,b.jsx)(o.X6,{size:"500",children:this.props.i18n._('Combine boards', 'BoardMergeModal.CombineBoards', 'title for board merging modal')}),(0,b.jsx)(o.iP,{accessibilityLabel:this.props.i18n._('Close merge boards modal', 'BoardMergeModal.Close.TapArea', 'close icon for board merging modal'),fullWidth:!1,onTap:e,children:(0,b.jsx)(o.JO,{accessibilityLabel:this.props.i18n._('Close merge boards modal', 'BoardMergeModal.Close.Label', 'close icon for board merging modal'),color:"default",icon:"cancel",size:18})})]});return(0,b.jsx)(s.ZP,{accessibilityModalLabel:this.props.i18n._('Move Pins to', 'BoardEdit.BoardMergeModal.accessibilityLabel', 'accessibility label for board merging modal'),footer:(0,b.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:(0,b.jsx)(o.zx,{color:"red",disabled:!t,onClick:this.handleSubmit,size:"lg",text:this.props.i18n._('Done', 'BoardMergeModal.Button.Submit', 'button for merging a board')})}),heading:r,onDismiss:e,children:(0,b.jsx)(o.xu,{padding:8,children:this.renderModalBody()})})}}function w(e){let t=(0,l.ZP)(),r=(0,p.Z)(),i=(0,u.Z)(),n=(0,h.Z)(),a=(0,_.Ms)(i,n),{anyEnabled:o}=(0,d.F)().checkExperiment("web_m10n_business_access_orbac_ga"),s={privacy_filter:"all",sort:"alphabetical",field_set_key:"detailed",username:"me",...o?{orbac_subject_id:r,username:a}:{}},m=(0,c.Z)({name:"BoardsResource",options:s,noCache:!0});return(0,b.jsx)(x,{...e,boardsResource:m,i18n:t})}var P=r(616550),S=r(214877),C=r(213377),A=r(554786),E=r(406893),j=r(489216),T=r(272232);function I(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let k=`.jumpstart-undo-icon {
  transform: scaleX(-1) rotate(90deg);
}`,D=()=>{};class R extends i.PureComponent{constructor(...e){super(...e),I(this,"state",{isHovered:!1}),I(this,"hover",()=>this.setState({isHovered:!0})),I(this,"unhover",()=>this.setState({isHovered:!1})),I(this,"handlePinClick",({event:e})=>{let{save:t,unsave:r,saved:i}=this.props;e.preventDefault(),e.stopPropagation(),i?r():t()})}render(){let{children:e,boardName:t,pinDescription:r,saved:i}=this.props,{isHovered:n}=this.state,a=r||this.props.i18n._('Save this Pin', 'jumpstartBoardPinWrapper.tapArea.accessibilityLabel', 'Accessibility label describing purpose of tap area');return(0,b.jsxs)(o.xu,{position:"relative",children:[(0,b.jsx)(E.Z,{unsafeCSS:k}),(0,b.jsx)(o.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,b.jsx)(o.iP,{accessibilityLabel:a,fullHeight:!0,fullWidth:!0,onMouseEnter:this.hover,onMouseLeave:this.unhover,onTap:this.handlePinClick,children:(n||i)&&(0,b.jsx)(o.xu,{paddingX:4,paddingY:4,position:"absolute",top:!0,width:C.yF,zIndex:new o.Ry(1),children:i?(0,b.jsxs)(o.kC,{alignItems:"center",justifyContent:"center",children:[(0,b.jsx)(o.xu,{flex:"grow",children:(0,b.jsx)(j.Z,{isNewlySaved:!0,name:t,url:null})}),(0,b.jsx)("div",{className:"jumpstart-undo-icon",children:(0,b.jsx)(o.hU,{accessibilityLabel:this.props.i18n._('Undo', 'Undo saving a pin to a board', 'Undo saving a pin to a board'),bgColor:"transparentDarkGray",icon:"refresh",iconColor:"white",onClick:D,size:"md"})})]}):(0,b.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:(0,b.jsx)(o.xu,{children:(0,b.jsx)(T.Z,{onClick:D,pinKey:null,saved:i,variant:"lego"})})})})})}),(0,b.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:e})]})}}function z(e){let t=(0,l.ZP)();return(0,b.jsx)(R,{...e,i18n:t})}var O=r(676554),B=r(19447),Z=r(641285);let L=({pin:e,index:t,board:r})=>{let i=(0,B.S6)(),n=e.id?i(e.id):null,a=n||e,{logContextEvent:o}=(0,S.v)(),s=e=>{o({event_type:101,component:13380,element:10599,aux_data:{reason:e,board_id:r.id}})},l=e=>{if(e.description||e.grid_title){if(e.description&&e.description.trim())return e.description;if(e.grid_title&&e.grid_title.trim())return e.grid_title}return""};return(0,b.jsx)(Z.Z,{eventContext:{viewType:5,viewParameter:3173,element:10599},onDelete:()=>{s("delete")},onSave:()=>{s("save")},pinKey:null!=a?{type:"deprecated",data:a}:null,target:{board:r},children:({save:e,unsave:i,saved:n})=>(0,b.jsx)(z,{boardName:r.name??"",pinDescription:l(a)||"",save:e,saved:n,unsave:i,children:(0,b.jsx)(O.rX,{attributionOption:"hide",authDesktopSurface:"JumpstartBoard",blockClickEvents:!0,duploQueryRef:null,pinId:a.id,pinImageCrop:"none",pinKey:null!=a?{type:"deprecated",data:a}:null,saveButtonOptions:{type:"none"},slotIndex:t,trackingParamsMap:a.tracking_params_map,viewParameter:3173,viewType:5})})})};function M({board:e}){let t=(0,l.ZP)(),r=(0,c.Z)({name:"BoardContentRecommendationResource",options:{type:"board",id:e.id,__track__referrer:21}}),n=(0,A.ZP)(),a=(0,i.useRef)(null);return(0,b.jsxs)(o.xu,{ref:a,maxHeight:600,maxWidth:1112,overflow:"auto",padding:4,children:["desktop"===n&&r.isLoaded&&r.data&&(0,b.jsx)(o.Rk,{columnWidth:C.yF,gutterWidth:C.$H,items:r.data,loadItems:r.fetchMore,renderItem:({data:t,itemIdx:r})=>(0,b.jsx)(L,{board:e,index:r,pin:t}),scrollContainer:()=>a.current}),(0,b.jsx)(o.$j,{accessibilityLabel:t._('Loading pins', 'Loading indicator', 'Loading indicator'),show:r.isFetching})]})}function N({board:e,onDismiss:t}){let r=(0,l.ZP)(),i=(0,P.k6)(),n=(0,P.TH)(),a=()=>{let e={...n&&n.state||{}};e.newBoard&&(delete e.newBoard,i.replace({...n,state:e})),t()};return(0,b.jsx)(s.ZP,{accessibilityModalLabel:r._('add pins to empty board modal', 'accessibility label for modal', 'accessibility label for modal'),allowScroll:!0,footer:(0,b.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:(0,b.jsx)(o.xu,{"data-test-id":"done-button",children:(0,b.jsx)(o.zx,{accessibilityLabel:r._('Done', 'done adding pins to empty board', 'done adding pins to empty board'),color:"red",onClick:a,text:r._('Done', 'done adding pins to empty board', 'done adding pins to empty board')})})}),heading:r._('Save some Pins to your new board', 'jumpstartBoardModal.heading', 'heading for modal to add Pins to an empty board'),onDismiss:a,size:1112,children:(0,b.jsx)(M,{board:e})})}var F=r(364778);let U="474x",H=e=>t=>t.replace(/pinimg\.com\/\d+x\d*\//,`pinimg.com/${e}/`),$=e=>["236x",U,"736x"].map((t,r)=>`${H(t)(e)} ${r+1}x`).join(", ");function V({boardId:e,customizable:t}){let r=(0,c.Z)({name:"BoardFeedResource",options:{board_id:e,field_set_key:"images_only_item",filter_section_pins:!1,page_size:t?60:4}}),i=!r.isLoaded,n=(r.data||[]).filter(({type:e})=>"pin"===e).map(({images:e})=>e["236x"]);return(0,b.jsx)(F.ZP,{customizable:t,getDownloadImageURL:H("1200x"),getMainImageURL:H(U),getThumbnailImageSrcSet:$,id:e,images:n,isLoadingImages:i})}var G=r(219728),W=r(772575),K=r(702664),q=r(454514),Y=r(13848),X=r(14774),J=r(821419);function Q({shouldArchive:e,board:t,onClose:r,onConfirm:i}){let n=(0,l.ZP)(),a=(0,K.useDispatch)(),{showOneToast:s}=(0,Y.F9)(),{anyEnabled:c}=(0,d.F)().checkExperiment("web_m10n_business_access_orbac_ga"),p=(0,u.Z)(),m=(0,h.Z)(),f=c?(0,_.lJ)(p,m):"";return(0,b.jsx)(X.Z,{confirmButtonLabel:e?n._('Archive', 'BoardPage.ModalContents.BoardModalManager', 'button label on confirming board archive'):n._('Unarchive', 'BoardUnarchiveConfirmation.BoardEditConfirmation.buttonLabel', 'button label on confirming board unarchive'),heading:e?n._('Archive this board?', 'BoardPage.ModalContents.BoardModalManager', 'modal heading for board archive confirmation'):n._('Unarchive this board?', 'BoardUnarchiveConfirmation.BoardEditConfirmation.heading', 'modal heading for board unarchive confirmation'),message:(0,g.nk)(e?n._('If you archive {{ boardName }}, we\u2019ll hide it from your profile and you won\'t be able to save Pins to it. If you change your mind, you can restore it at the bottom of your profile, below your active boards.', 'BoardPage.ModalContents.BoardModalArchiveMessage', 'boardName:Confirmation message when archiving boards'):n._('If you unarchive {{ boardName }}, it will show up on your profile and you\u2019ll be able to save new Pins to it.', 'BoardUnarchiveConfirmation.BoardEditConfirmation.message', 'Confirmation message when unarchiving a board'),{boardName:(0,b.jsx)(o.xv,{inline:!0,weight:"bold",children:t.name},t.name)}),onCancel:r,onConfirm:()=>{e?a((0,J.xk)(t.id,f)):a((0,J.YV)(t.id,f)),i(),r(),s(({hideToast:r})=>(0,b.jsx)(q.ZP,{imageUrl:t.image_cover_url??"",onHide:r,text:e?(0,g.nk)(n._('Archived {{ boardName }}', 'board.BoardPage.ModalContents.BoardArchiveConfirmation', 'Toast text on complete archiving board'),{boardName:t.name}).join(""):(0,g.nk)(n._('Unarchived {{ boardName }}', 'BoardUnarchiveConfirmation.handleConfirmUnarchive.message', 'Toast text on completing unarchiving board'),{boardName:t.name}).join("")}))}})}var ee=r(481177),et=r(410389),er=r(526776);function ei({fetchMore:e,followers:t,followersCount:r,isFetching:n,onDismiss:a}){let d=(0,l.ZP)();return(0,b.jsx)(s.ZP,{accessibilityModalLabel:d._('Board Followers', 'boardFollowersList.modal.accessibilityLabelForModal', 'Accessibility label for modal'),heading:(0,b.jsx)(o.xu,{display:"flex",justifyContent:"center",padding:8,children:(0,b.jsx)(o.X6,{accessibilityLevel:1,size:"500",children:(0,g.nk)(d.ngettext('{{ followersCount }} Follower', '{{ followersCount }} Followers', r, 'Label for the number of people following a board', 'Label for the number of people following a board'),{followersCount:r.toLocaleString()})})}),onDismiss:a,size:"sm",children:(0,b.jsx)(o.xu,{maxHeight:600,overflow:"auto",paddingX:6,children:t&&t.length>0?(0,b.jsxs)(i.Fragment,{children:[t.map(e=>(0,b.jsx)(er.Z,{user:e},e.id)),r-t.length>0?(0,b.jsx)(o.xu,{display:"flex",justifyContent:"center",marginBottom:2,padding:5,children:(0,b.jsx)(o.zx,{disabled:n,onClick:e,size:"lg",text:d._('See more', 'BoardFollowerList.SeeMore', 'Button to load more items in the board follower list')})}):null]}):(0,b.jsx)(o.xu,{marginBottom:8,children:(0,b.jsx)(o.$j,{accessibilityLabel:d._('Loading board followers', 'BoardModalManager.Spinner', 'Spinner which shows when loading board followers'),show:!0})})})})}function en({boardId:e,followersCount:t,onDismiss:r}){let i=(0,et.Z)({boardId:e});if(!i)throw Error(`Board URL: Required arguments are missing. ${JSON.stringify({boardId:e})}`);let{data:n=[],fetchMore:a,isFetching:o}=(0,c.Z)({name:"ApiResource",options:{url:i.concat("followers/"),data:{page_size:ee.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE}}});return(0,b.jsx)(ei,{fetchMore:a,followers:n,followersCount:t,isFetching:o,onDismiss:r})}function ea({onCompleteBulkDelete:e,onClearModal:t,pinCountToDelete:r}){let i=(0,l.ZP)(),n=1===r?i._('Delete this Pin', ' - ', ' -- '):i._('Delete these Pins', ' - ', ' -- '),a=1===r?i._('Are you sure you want to permanently delete this Pin?', ' - ', ' -- '):i._('Are you sure you want to permanently delete these Pins?', ' - ', ' -- ');return(0,b.jsx)(s.ZP,{accessibilityModalLabel:i._('delete Pins', 'accessibility label for bulk delete modal', 'accessibility label for bulk delete modal'),footer:(0,b.jsxs)(o.xu,{children:[(0,b.jsx)(o.xu,{marginBottom:2,children:(0,b.jsx)(o.zx,{fullWidth:!0,onClick:t,text:i._('Cancel', ' - ', ' -- ')})}),(0,b.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:()=>{e(),t()},text:i._('Delete', ' - ', ' -- ')})]}),heading:n,onDismiss:t,children:(0,b.jsx)(o.xu,{paddingX:8,children:(0,b.jsx)(o.xv,{children:a})})})}var eo=r(24066);function es(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class el extends i.Component{constructor(...e){super(...e),es(this,"state",{chosenBoardId:null}),es(this,"handleChosenBoardChange",e=>{this.setState({chosenBoardId:e.id})}),es(this,"handleConfirm",()=>{let{onCopyToBoard:e,onClearModal:t}=this.props,{chosenBoardId:r}=this.state;r&&(e(r),t())})}render(){let{onClearModal:e,pinCountToCopy:t}=this.props,{chosenBoardId:r}=this.state,i=1===t?this.props.i18n._('Pick another board for this Pin', ' - ', ' -- '):this.props.i18n._('Pick another board for these Pins', ' - ', ' -- ');return(0,b.jsx)(s.ZP,{accessibilityModalLabel:this.props.i18n._('Copy your pins to a different board', 'BoardPage.ModalContents.BulkEditBoardPicker.accessibilityModalLabel', 'Accessiblilty modal label'),footer:(0,b.jsxs)(o.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,b.jsx)(o.xu,{paddingX:1,children:(0,b.jsx)(o.zx,{fullWidth:!0,onClick:e,text:this.props.i18n._('Cancel', ' - ', ' -- ')})}),(0,b.jsx)(o.xu,{paddingX:1,children:(0,b.jsx)(o.zx,{color:"red",disabled:!r,fullWidth:!0,onClick:this.handleConfirm,text:this.props.i18n._('Copy', ' - ', ' -- ')})})]}),heading:i,onDismiss:e,children:(0,b.jsx)(o.xu,{minHeight:400,padding:8,children:(0,b.jsx)(eo.Z,{onBoardChosen:this.handleChosenBoardChange})})})}}function ed(e){let t=(0,l.ZP)();return(0,b.jsx)(el,{...e,i18n:t})}var ec=r(113208),eu=r(849118),eh=r(827625),ep=r(430408),e_=r(761203),em=r(886612);function eg({previewPin:e,extraPinCount:t,showFullImage:r}){if(!e)return(0,b.jsx)(em.Z,{height:214,pin:null,rounded:!0,width:142});let{description:i,images:n={},dominant_color:a}=e,o=n["474x"],s=Math.min(217*o.height/o.width,450);return(0,b.jsx)(em.Z,{additionalPinCount:t,height:r?s:214,pin:{description:i,dominantColor:a,imageUrl:o.url},rounded:!0,width:r?217:142})}function ef({pins:e}){let t=e.length>0&&e.length<=2?e.length:4,r=[...Array(t).keys()].map(r=>(0,b.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{padding:3}},display:"inlineBlock",children:(0,b.jsx)(eg,{extraPinCount:3===r?Math.max(e.length-t,0):0,previewPin:e[r],showFullImage:1===e.length})},r));return(0,b.jsx)(o.xu,{alignItems:"center",display:0===e.length||e.length>2?"inlineBlock":"flex",height:440,justifyContent:"center",width:296,children:r})}var eb=r(730006),ey=r(916964),ev=r(160390),ex=r(416049),ew=r(175597),eP=r(673463);function eS(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class eC extends i.Component{constructor(...e){super(...e),eS(this,"getSections",e=>{let{board:t,canMoveToOtherBoards:r}=this.props,i=this.props.boardsResource.data?.all_boards??[],n=this.props.sectionsResource.data??[],a=i.filter(e=>e.id!==t.id);return e.length>=ex.Z?[n.length?{items:(0,eP.j)([t],e),customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}}:{items:[]},{items:(0,eP.j)(n,e,"title"),customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}},r?{items:(0,eP.j)(a,e)}:{items:[]}]:[n.length?{title:this.props.i18n._('Current board', 'title in move pins flow', 'title in move pins flow'),items:[t,...n],customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}}:{items:[]},r?{title:this.props.i18n._('Other boards', 'heading text for a list of a user\'s other boards in the move pins flow', 'heading text for a list of a user\'s other boards in the move pins flow'),items:a}:{items:[]}]}),eS(this,"isDisabled",e=>e.id===this.props.selectedRowId)}render(){let{board:e,boardsResource:{error:t,isLoaded:r},boardSavedTo:i,onRowSelected:n,onSectionCreate:a,pinId:o,sectionsResource:{error:s,isLoaded:l},selectedRowId:d,createButtonLabel:c}=this.props;return(0,b.jsx)(ew.Z,{boardSavedTo:i,createButtonLabel:c,disabledRowId:d,getSections:this.getSections,hasLoadError:!!t||!!s,isLoaded:r&&l,onCreate:a,onSelected:n,pinId:o},e.id)}}function eA(e){let t=(0,l.ZP)(),r=(0,p.Z)(),i=(0,u.Z)(),n=(0,h.Z)(),{anyEnabled:a}=(0,d.F)().checkExperiment("web_m10n_business_access_orbac_ga"),o=(0,_.Ms)(i,n),s=(0,c.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id,orbac_subject_id:a?r:""}}),m=(0,c.Z)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker",onlyFetchBoards:!0,orbac_subject_id:a?r:"",...a&&a?{username:o}:{}}});return(0,b.jsx)(eC,{...e,boardsResource:m,i18n:t,sectionsResource:s})}function eE({board:e,boardSavedTo:t,onMove:r,onSectionedBoardSelect:i,onSectionCreate:n,selectedRowId:a,showOtherBoards:s}){let d=(0,l.ZP)(),c=s&&!e.section_count?d._('Choose board', ' - ', ' -- '):d._('Choose section', 'Repin title for choosing a board section', 'Repin title for choosing a board section'),u=d._('Add section', 'Button for creating a board section', 'Button for creating a board section');return(0,b.jsx)(o.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},direction:"column",display:"flex",flex:"grow",position:"relative",right:!0,rounding:2,top:!0,width:330,children:!e.section_count&&e.is_ads_only?(0,b.jsxs)(o.kC,{direction:"column",flex:"grow",overflow:"auto",children:[(0,b.jsx)(o.kC,{direction:"column",flex:"grow",justifyContent:"center",children:(0,b.jsx)(o.xu,{padding:4,children:(0,b.jsx)(o.xv,{align:"center",size:"400",weight:"bold",children:d._('Add a section to organize your Ad-only Pins', 'moveSectionPane.sections.adOnly', 'Description for empty list of sections for Ad Only Pins board')})})}),(0,b.jsx)(o.xu,{borderStyle:"shadow",children:(0,b.jsx)(ev.Z,{buttonLabel:u,hasHoverState:!0,onClick:()=>n("")})})]}):(0,b.jsxs)(o.kC,{direction:"column",flex:"grow",children:[(0,b.jsx)(o.xu,{paddingX:3,paddingY:3,children:(0,b.jsx)(o.X6,{size:"400",children:c})}),(0,b.jsx)(eA,{board:e,boardSavedTo:t,canMoveToOtherBoards:s,createButtonLabel:u,onRowSelected:t=>{"board_section"===t.type?r(e,t):"board"===t.type&&(t&&t.id!==e.id&&(t.section_count||0)>0?i(t):r(t,null))},onSectionCreate:n,selectedRowId:a})]})})}var ej=r(691010);function eT(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class eI extends i.Component{constructor(e){super(e),eT(this,"showSuccessToast",()=>{let{movedBoard:e,movedSection:t}=this.state,{board:r,inSelectAll:i,toastManagerContext:n}=this.props;if(i)n.showOneToast(({hideToast:e})=>(0,b.jsx)(q.ZP,{duration:ej.A,onHide:e,text:this.props.i18n._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.')}));else if(e){let i=t?(0,g.nk)(this.props.i18n._('Moved to {{sectionName}} in {{boardName}}', 'Toast for successfully moving pins to a section within a board', 'Toast for successfully moving pins to a section within a board'),{sectionName:t.title,boardName:e.name}).join(""):(0,g.nk)(this.props.i18n._('Moved to {{boardName}}', 'Toast for successfully moving pins to a different board', 'Toast for successfully moving pins to a different board'),{boardName:e.name}).join(""),a=t?`${e.url??""}${t.slug??""}`:e.url;n.showOneToast(({hideToast:e})=>(0,b.jsx)(q.ZP,{duration:ej.A,href:a,imageUrl:r.image_cover_url??"",onHide:e,text:i}))}}),eT(this,"handleMove",(e,t)=>{let{board:r,boardSection:i,dispatch:n,inSelectAll:a,onCompleteMove:o,selectedPinIds:s,orbacSubjectId:l}=this.props,d={boardId:r.id,sectionId:i&&i.id||null},c={boardId:e.id,sectionId:t&&t.id||null};if(d.boardId===c.boardId&&d.sectionId===c.sectionId)return;let u=c.sectionId||c.boardId;this._setBoardSavedTo(u,ej.S.LOADING),n((0,ep.Z)({inverseSelection:a,selectedPinIds:s,source:d,target:c,orbacSubjectId:l},this.props.i18n)).then(()=>{this._setBoardSavedTo(u,ej.S.SUCCESS),this.setState({movedBoard:e,movedSection:t}),o()})}),eT(this,"handleSectionedBoardSelect",e=>{this.setState({initialBoardName:"",selectedBoard:e})}),eT(this,"handleSectionCreateComplete",e=>{let t;let{onCompleteMove:r,toastManagerContext:i}=this.props;e.preview_pins&&e.preview_pins[0]&&(t=e.preview_pins[0].image_square_url),r();let n=(0,g.nk)(this.props.i18n._('Moved to {{sectionName}} in {{boardName}}', 'moveSectionModal.handleSectionCreate.toast', 'Toast for successfully moving pins to a section within a board'),{sectionName:e.title,boardName:e.board?.name??""});i.showOneToast(({hideToast:r})=>(0,b.jsx)(q.ZP,{duration:ej.A,href:`${e.board?.url??""}${e.slug??""}`,imageUrl:t??"",onHide:r,text:n.join("")}))}),eT(this,"handleShowCreate",e=>{this.setState({initialBoardName:e,showCreate:!0})}),eT(this,"handleHideCreate",()=>{let{onClearModal:e,sectionCount:t}=this.props;0===t?e():this.setState({initialBoardName:"",showCreate:!1})});let{board:t,viewer:r,showCreateOnly:i,orbacSubjectId:n}=e;this.state={boardSavedTo:null,initialBoardName:"",movedBoard:null,movedSection:null,selectedBoard:e.board,showCreate:i||![r.id,n].includes(t.owner?.id)&&0===t.section_count}}componentWillUnmount(){let{dispatch:e,viewer:t}=this.props,{movedBoard:r,movedSection:i}=this.state;r&&(!i&&t.isAuth&&e((0,eh.jB)("BoardFeedResource",(0,eb.q)(r,t))),this.showSuccessToast())}_setBoardSavedTo(e,t){this.setState({boardSavedTo:{board:e,state:t}})}render(){let{board:e,boardSection:t,inSelectAll:r,onClearModal:i,selectedPinIds:n,selectedPins:a,shouldShowOtherBoards:l}=this.props,{boardSavedTo:d,initialBoardName:c,selectedBoard:u,showCreate:h}=this.state,p=r?330:660;return(0,b.jsx)(s.ZP,{accessibilityModalLabel:this.props.i18n._('Choose the section or board you want to move pins to', 'moveSectionModal.modal.accessibilityLabelForModal', 'Accessibility label for modal'),onDismiss:i,size:p,children:(0,b.jsxs)(o.xu,{color:"default",display:"flex",height:540,rounding:2,width:p,children:[!r&&(0,b.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:60}},marginBottom:6,paddingX:2,children:(0,b.jsx)(ef,{pins:a})}),h?(0,b.jsx)(ey.Z,{board:u,completeCreateSectionAction:this.handleSectionCreateComplete,initialName:c,onClearModal:this.handleHideCreate,pinImport:{all:r,pinIds:n},showTitle:!0,sourceBoard:e,sourceSection:t}):(0,b.jsx)(eE,{board:u,boardSavedTo:d,onMove:this.handleMove,onSectionCreate:this.handleShowCreate,onSectionedBoardSelect:this.handleSectionedBoardSelect,selectedRowId:t&&t.id||e&&e.id,showOtherBoards:l})]})})}}function ek(e){let t=(0,l.ZP)(),r=(0,K.useDispatch)(),i=(0,u.Z)(),n=i.isAuth?i.id:"",a=(0,B.S6)(),{anyEnabled:o}=(0,d.F)().checkExperiment("web_m10n_business_access_orbac_ga"),s=(0,p.Z)(),c=(0,h.Z)(),m=e.selectedPinIds.reduce((e,t)=>{let r=a(t);return r?e.concat([r]):e},[]).filter(Boolean),{board:g}=e,{canPerformAction:f}=(0,eu.Z)({boardKey:{type:"deprecated",data:g}}),y=!g.is_ads_only&&(f({action:2,viewer:i})||!e.selectedPinIds.some(e=>{let t=a(e);return t?.pinner?.id!==n})||o&&(0,_.KY)(i,g,c)),v=(0,e_.gC)()(g.id),x=v?.section_count??0;return(0,b.jsx)(eI,{...e,dispatch:r,i18n:t,orbacSubjectId:o?s:"",sectionCount:x,selectedPins:m,shouldShowOtherBoards:y,toastManagerContext:(0,Y.F9)(),viewer:i})}var eD=r(622888),eR=r(828763),ez=r(402287),eO=r(23254);function eB(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class eZ extends i.Component{constructor(...e){super(...e),eB(this,"state",{section:null}),eB(this,"handleSectionChange",e=>{this.setState({section:e})}),eB(this,"handleSubmit",()=>{let{onSubmit:e}=this.props,{section:t}=this.state;t&&e(t)})}render(){let{board:e,boardSection:t,onCancel:r}=this.props,{section:i}=this.state;return(0,b.jsx)(s.ZP,{accessibilityModalLabel:this.props.i18n._('Move Pins', 'BoardPage.ModalContents.SectionMergeModal', 'accessibility label for merging modal'),footer:(0,b.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:(0,b.jsxs)(o.hE,{children:[(0,b.jsx)(o.zx,{onClick:r,size:"lg",text:this.props.i18n._('Cancel', ' - ', ' -- ')}),(0,b.jsx)(o.zx,{color:"red",disabled:!i,onClick:this.handleSubmit,size:"lg",text:this.props.i18n._('Move Pins and delete section', 'button for merging a board section', 'button for merging a board section')})]})}),heading:i?this.props.i18n._('Move Pins and delete section?', 'title for board section merging modal', 'title for board section merging modal'):this.props.i18n._('Move all Pins to...', 'title for board section merging modal', 'title for board section merging modal'),onDismiss:()=>{r()},size:"md",children:(0,b.jsx)(o.xu,{minHeight:400,padding:8,children:(0,b.jsx)(eO.Z,{board:e,mergingFromSectionId:t.id,onSectionChange:this.handleSectionChange,selectedSectionId:i?i.id:null})})})}}function eL(e){let t=(0,l.ZP)();return(0,b.jsx)(eZ,{...e,i18n:t})}function eM(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class eN extends i.Component{constructor(...e){super(...e),eM(this,"state",{deleting:!1,editMode:"main",title:this.props.boardSection.title??""}),eM(this,"handleSaveSection",e=>{if(e.preventDefault(),this.saveDisabled())return;let{board:t,boardSection:r,dispatch:i,onSaveSection:n,viewer:a,orbacActingAs:o}=this.props,{title:s}=this.state,l=(0,_.lJ)(a,o);i((0,ez.$n)(t.id,r.id??"",s.trim(),l)).then(n).catch(e=>this.setState({titleErrorMessage:e.message||this.props.i18n._('Invalid section name', 'error message of section name input field', 'error message of section name input field')}))}),eM(this,"saveDisabled",()=>this.state.title===this.props.boardSection.title||""===this.state.title.trim()),eM(this,"handleChangeTitle",({value:e})=>{this.setState({title:e,titleErrorMessage:void 0})}),eM(this,"handleDeleteSectionButtonClick",()=>{this.setState({editMode:"confirmDelete"})}),eM(this,"handleMergeButtonClick",()=>{this.setState({editMode:"merge"})}),eM(this,"handleBackToMainMenu",()=>{this.setState({editMode:"main"})}),eM(this,"handleDeleteSection",()=>{let{board:e,boardSection:t,dispatch:r,onDeleteSection:i,toastManagerContext:n,viewer:a,orbacActingAs:o}=this.props;if(this.state.deleting)return;let{id:s}=t;this.setState({deleting:!0}),r((0,ez.F$)(e.id,s??"",(0,_.lJ)(a,o))).then(()=>{i(),n.showToast(({hideToast:e})=>(0,b.jsx)(q.ZP,{onHide:e,text:this.props.i18n._('Section deleted!', 'Toast for successfully deleting a board section', 'Toast for successfully deleting a board section')}))}).catch(e=>eD.Z.showError(e.message||this.props.i18n._('Failed to delete the section', 'error message for failed to delete section', 'error message for failed to delete section')))}),eM(this,"handleMergeSection",e=>{let{board:t,boardSection:r,dispatch:i,showBlockingActionToast:n,onDeleteSection:a}=this.props;this.state.deleting||(this.setState({deleting:!0}),this.props.logContextEvent({event_type:7173,object_id_str:r.id,aux_data:{merge_flow:"menu"}}),i((0,ez.d9)(t.id,r.id??"",e.id??"")).then(a).then(()=>{n({actionType:"merge",board:t,section:e})}).catch(e=>eD.Z.showError(e.message||this.props.i18n._('Failed to merge the section', 'error message for failed to merge section', 'error message for failed to merge section'))))})}componentDidMount(){window.requestAnimationFrame(()=>{let e=this._textField;e&&(e.focus(),e.select())})}render(){let{board:e,boardSection:t,onClearModal:r,viewer:i,orbacActingAs:n,canPerformAction:a}=this.props,{title:l,titleErrorMessage:d,editMode:c}=this.state,u=a({action:10,viewer:i})||(0,_.KY)(i,e,n),h=e.section_count>1&&a({action:13,viewer:i});return"confirmDelete"===c?(0,b.jsx)(X.Z,{confirmButtonLabel:this.props.i18n._('Delete section', 'button for deleting a board section', 'button for deleting a board section'),message:this.props.i18n._('Once you delete a section and all its Pins, you can\'t undo it!', ' - ', ' -- '),onCancel:this.handleBackToMainMenu,onConfirm:this.handleDeleteSection}):"merge"===c?(0,b.jsx)(eL,{board:e,boardSection:t,onCancel:this.handleBackToMainMenu,onSubmit:this.handleMergeSection}):(0,b.jsx)(s.ZP,{accessibilityModalLabel:this.props.i18n._('Edit your section', ' - ', ' -- '),footer:(0,b.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,b.jsx)(o.sg,{span:6,children:(u||h)&&(0,b.jsxs)(o.xu,{display:"flex",marginEnd:-1,marginStart:-1,children:[u&&(0,b.jsx)(o.xu,{"data-test-id":"delete-section-button",paddingX:1,children:(0,b.jsx)(o.zx,{onClick:this.handleDeleteSectionButtonClick,text:this.props.i18n._('Delete', 'Delete button', 'Delete button')})}),h&&(0,b.jsx)(o.xu,{paddingX:1,children:(0,b.jsx)(o.zx,{onClick:this.handleMergeButtonClick,text:this.props.i18n._('Merge', 'button for merging a board section', 'button for merging a board section')})})]})}),(0,b.jsx)(o.sg,{span:6,children:(0,b.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,b.jsx)(o.xu,{marginEnd:3,children:(0,b.jsx)(o.zx,{onClick:r,text:this.props.i18n._('Cancel', ' - ', ' -- ')})}),(0,b.jsx)(o.zx,{color:"red",disabled:this.saveDisabled(),onClick:({event:e})=>{this.handleSaveSection(e)},text:this.props.i18n._('Save', ' - ', ' -- '),type:"submit"})]})})]}),heading:this.props.i18n._('Edit your section', ' - ', ' -- '),onDismiss:r,size:"md",children:(0,b.jsx)("form",{onSubmit:this.handleSaveSection,children:(0,b.jsx)(o.xu,{direction:"column",display:"flex",padding:8,children:(0,b.jsx)(o.nv,{ref:e=>{this._textField=e},errorMessage:d,id:"title",label:this.props.i18n._('Name', ' - ', ' -- '),onChange:this.handleChangeTitle,size:"lg",value:l})})})})}}function eF(e){let{board:t}=e,{logContextEvent:r}=(0,S.v)(),i=(0,l.ZP)(),n=(0,u.Z)(),a=(0,h.Z)(),{showBlockingActionToast:o}=(0,eR.Z)(),s=(0,K.useDispatch)(),{canPerformAction:d}=(0,eu.Z)({boardKey:{type:"deprecated",data:t}});return(0,b.jsx)(eN,{...e,canPerformAction:d,dispatch:s,i18n:i,logContextEvent:r,orbacActingAs:a,showBlockingActionToast:o,toastManagerContext:(0,Y.F9)(),viewer:n})}function eU({source:e,target:t,onConfirm:r,onCancel:i}){let n=(0,l.ZP)();return(0,b.jsx)(s.ZP,{accessibilityModalLabel:n._('Move Pins and delete section?', 'title for board section merging confirmation', 'title for board section merging confirmation'),footer:(0,b.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:(0,b.jsxs)(o.hE,{children:[(0,b.jsx)(o.zx,{onClick:i,text:n._('Cancel', ' - ', ' -- ')}),(0,b.jsx)(o.zx,{color:"red",onClick:r,text:n._('Move Pins and delete section', 'button for merging a board section', 'button for merging a board section')})]})}),heading:n._('Move Pins and delete section?', 'title for board section merging confirmation', 'title for board section merging confirmation'),onDismiss:i,children:(0,b.jsx)(o.xu,{padding:8,children:(0,b.jsx)(o.xv,{children:(0,g.nk)(n._('You\'re about to move all Pins from your {{ sourceName }} section to your {{ targetName }} section.', 'helper text for section merge confirmation modal', 'helper text for section merge confirmation modal'),{sourceName:(0,b.jsx)(o.xv,{inline:!0,weight:"bold",children:e.title},"source"),targetName:(0,b.jsx)(o.xv,{inline:!0,weight:"bold",children:t.title},"target")})})})})}var eH=r(654773);let e$=(0,i.lazy)(()=>Promise.all([r.e(93810),r.e(65292),r.e(10472),r.e(15502),r.e(19373)]).then(r.bind(r,219373)));function eV({actions:e,board:t,boardSection:r,bulkEditSelectedPins:i,currentModal:o,groupPinsData:s,inSelectAll:l,onClearModal:d,mergeConfirmationModalProps:c}){let{completeCreateSectionAction:u,completeMoveAction:h,onBoardArchiveChange:p,onBoardDelete:_,onBoardLeave:m,onBoardSectionDelete:g,onBoardSectionSave:f,onConfirmMergeSection:y,onCopyPinsToBoard:v,onDeletePins:x,onBoardMerge:P}=e;switch(o){case ec.s.boardArchiveConfirmation:return p?(0,b.jsx)(Q,{board:t,onClose:d,onConfirm:p,shouldArchive:!0}):null;case ec.s.boardUnarchiveConfirmation:return p?(0,b.jsx)(Q,{board:t,onClose:d,onConfirm:p,shouldArchive:!1}):null;case ec.s.boardEdit:return(0,b.jsx)(a.default,{boardId:t.id,onBoardDelete:_,onBoardLeave:m,onClose:d});case ec.s.bulkDelete:return x?(0,b.jsx)(ea,{onClearModal:d,onCompleteBulkDelete:x,pinCountToDelete:i&&i.length||0}):null;case ec.s.bulkCopy:return v?(0,b.jsx)(ed,{currentBoardId:t.id,onClearModal:d,onCopyToBoard:v,pinCountToCopy:i&&i.length||0}):null;case ec.s.collaboratorsAndPermissions:return(0,b.jsx)(n.Z,{children:(0,b.jsx)(e$,{board:t,onDismiss:d})});case ec.s.editSection:return r?(0,b.jsx)(eF,{board:t,boardSection:r,onClearModal:d,onDeleteSection:g,onSaveSection:f}):null;case ec.s.mergeBoard:return P?(0,b.jsx)(w,{onCancel:d,onSubmit:P,sourceBoardId:t.id}):null;case ec.s.createSection:case ec.s.moveSection:return!!i&&!!h&&(0,b.jsx)(ek,{board:t,boardSection:r,inSelectAll:!!l,onClearModal:d,onCompleteMove:h,selectedPinIds:i,showCreateOnly:o===ec.s.createSection});case ec.s.sectionMergeConfirm:return c&&y?(0,b.jsx)(eU,{onCancel:d,onConfirm:y,source:c.source,target:c.target}):null;case ec.s.followers:return(0,b.jsx)(en,{boardId:t.id,followersCount:t.follower_count??0,onDismiss:d});case ec.s.pincode:return(0,b.jsx)(G.Z,{objectId:t.id,onHide:d,children:(0,b.jsx)(V,{boardId:t.id,customizable:!!t.owner?.is_partner})});case ec.s.jumpstartBoard:return(0,b.jsx)(N,{board:t,onDismiss:d});case ec.s.simpleCreateSection:return u?(0,b.jsx)(W.Z,{onClose:d,onSectionCreate:u,selectedBoard:t}):null;case ec.s.groupPins:return(0,b.jsx)(eH.Z,{boardId:t.id,clusterId:s?.clusterId,onDismiss:d,suggestedSectionTitle:s?.suggestedSectionName||""});default:return null}}},113208:(e,t,r)=>{"use strict";r.d(t,{s:()=>i});let i={addOrEditDate:"addOrEditDate",boardArchiveConfirmation:"boardArchiveConfirmation",boardEdit:"boardEdit",boardUnarchiveConfirmation:"boardUnarchiveConfirmation",bulkCopy:"bulkCopy",bulkDelete:"bulkDelete",collaboratorsAndPermissions:"collaboratorsAndPermissions",createSection:"createSection",editSection:"editSection",followers:"followers",groupPins:"groupPins",jumpstartBoard:"jumpstartBoard",mergeBoard:"mergeBoard",moveSection:"moveSection",pincode:"pincode",sectionMergeConfirm:"sectionMergeConfirm",sendBoard:"sendBoard",simpleCreateSection:"simpleCreateSection"}},8874:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(667294),n=r(702664),a=r(616550),o=r(579814),s=r(927177);function l(){let e=(0,n.useDispatch)(),t=(0,a.k6)(),{pathname:r}=(0,a.TH)(),l=(0,n.useSelector)(({ui:e})=>e.mainComponent.locationToErrorMap);(0,i.useEffect)(()=>{(0,o.Z)();let i=r.split("/"),n=`/${i[1]}/`;l[r]&&(e((0,s.m)(n,l[r])),t.replace(n))},[])}},250634:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(667294),n=r(702664),a=r(214877),o=r(515278),s=r(622888),l=r(140017),d=r(828763),c=r(402287);function u({board:e}){let{logContextEvent:t}=(0,a.v)(),r=(0,l.ZP)(),[u,h]=(0,i.useState)(null),p=(0,n.useDispatch)(),{showBlockingActionToast:_}=(0,d.Z)(),m=(0,o.Z)();return{handleShowMergeSectionsConfirmationModal:(e,t)=>{if(m){m();return}h({source:e,target:t})},mergeConfirmationModalProps:u,onConfirm:()=>{if(m){m();return}if(!u)return;let{source:i,target:n}=u;h(null),t({event_type:7173,object_id_str:i.id,aux_data:{merge_flow:"dnd"}}),p((0,c.d9)(e.id,i.id??"",n.id??"")).then(()=>{_({actionType:"merge",board:e,section:n})}).catch(e=>{s.Z.showError(e.message||r._('Failed to merge sections', 'useSectionMergeAction.errorMessage', 'Error message when failed to merge sections'))})}}}},636362:(e,t,r)=>{"use strict";r.d(t,{Z:()=>tE});var i=r(667294),n=r(702664),a=r(616550),o=r(883119),s=r(334589),l=r(406718),d=r(822311),c=r(67030),u=r(580716),h=r(214877),p=r(515278),_=r(970521),m=r(901855),g=r(340523),f=r(627408),b=r(13848),y=r(494125),v=r(149722),x=r(785059),w=r(199677),P=r(801690),S=r(239821),C=r(401429),A=r(406893),E=r(785893);function j({layoutType:e,thumbnails:t}){switch(e){case 4:let r=t&&t[0]&&t[0]["236x"];return(0,E.jsx)(o.zd,{height:80,rounding:4,width:80,children:r?(0,E.jsx)(o.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:r.height,naturalWidth:r.width,src:r.url||""}):(0,E.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,E.jsx)(o.xu,{color:"secondary",height:80,width:39.4}),(0,E.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:1.2}},children:[(0,E.jsx)(o.xu,{color:"secondary",height:39.4,width:39.4}),(0,E.jsx)(o.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{marginTop:"1.2px"}},height:40.6,width:39.4})]})]})});case 2:return(0,E.jsx)(o.zd,{height:80,rounding:4,width:80,children:(0,E.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[0,1].map(e=>{let r=!!t&&t.length>0&&t[e];return(0,E.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:1.2}},children:(0,E.jsx)(o.xu,{height:80,width:39.4,children:r&&(0,E.jsx)(o.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:80,naturalWidth:39.4,src:r["236x"].url||""})})},e)})})});default:return null}}let T=[502043,502085],I=`
.BoardActionUpsellCard {
  animation-duration: 0.5s;
  animation-fill-mode: forwards;
  animation-name: slideUp;
  animation-timing-function: ease-out;
  background-color: #fff;
  border-radius: 16px;
  box-shadow: 0 2px 14px 0 rgba(0, 0, 0, 0.25);
  display: flex;
  justify-content: between;
  left: 50%;
  margin-left: -210px; // half of width
  padding: 24px;
  position: fixed;
  transition: bottom 1s;
  width: 420px;
}

@keyframes slideUp {
  from {
    bottom: -200px;
  }

  to {
    bottom: 14px;
  }
}
`;function k({boardId:e,displayData:t,complete:r,dismiss:n,handleShowArchiveConfirmation:a,handleShowGroupPinsModal:s}){let{logContextEvent:l}=(0,h.v)(),d=t.custom_properties,[c,u]=(0,i.useState)(null),p=e=>{if(!c){let t=setTimeout(()=>{e()},2e4);u(t)}};(0,i.useEffect)(()=>()=>clearTimeout(c),[c]);let _={2:a,3:()=>{d&&s(d.cluster_id,d.section_name)}};return(0,i.useEffect)(()=>{p(n),l({event_type:13,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}})},[]),(0,E.jsxs)(o.mh,{children:[(0,E.jsx)(A.Z,{unsafeCSS:I}),(0,E.jsxs)("div",{className:"BoardActionUpsellCard",children:[(0,E.jsx)(o.xu,{flex:"none",children:(0,E.jsx)(j,{layoutType:t.layout_type,thumbnails:t.thumbnail_image_urls})}),(0,E.jsxs)(o.xu,{marginStart:4,children:[(0,E.jsx)(o.xv,{inline:!0,children:(0,E.jsx)(o.X6,{size:"400",children:t.text})}),(0,E.jsxs)(o.xu,{display:"flex",justifyContent:"start",marginTop:4,width:"100%",children:[(0,E.jsx)(o.zx,{color:"gray",onClick:()=>{l({event_type:123,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),n()},text:t.dismiss_button.text}),(0,E.jsx)(o.xu,{paddingX:2,children:(0,E.jsx)(o.zx,{color:"red",onClick:()=>{_[t.complete_button.action_type](),l({event_type:101,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),r()},text:t.complete_button.text})})]})]})]})]})}function D({boardId:e,handleShowArchiveConfirmation:t,handleShowGroupPinsModal:r}){return(0,E.jsx)(C.Z,{eligibleIds:T,placementId:18,children:({experience:i,complete:n,dismiss:a})=>(0,E.jsx)(k,{boardId:e,complete:n,dismiss:a,displayData:i.display_data,handleShowArchiveConfirmation:t,handleShowGroupPinsModal:r})})}var R=r(943114),z=r(524383),O=r(509603),B=r(115429),Z=r(821419),L=r(919079),M=r(113208),N=r(250634),F=r(930837),U=r(140017),H=r(339001);function $(){let e=(0,U.ZP)(),t=(0,E.jsx)(o.xu,{display:"flex",justifyContent:"center",paddingX:8,children:(0,E.jsx)(o.xv,{children:(0,H.nk)(e._('Add a {{ star }} to show collaborators your favorite Pins', 'groupBoardFavoriteEducationModal.text', 'Text for modal informing users of changes from group board reactions to board favorites'),{star:(0,E.jsx)(o.xu,{display:"inlineBlock",children:(0,E.jsx)(o.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.bodyFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star",size:12})})})})}),r=t=>(0,E.jsx)(o.kC,{justifyContent:"end",children:(0,E.jsx)(o.zx,{onClick:()=>t(),text:e._('Got it', 'groupBoardFavoriteEducationModal.doneButton', 'Done button for modal')})}),i=t=>(0,E.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:4,paddingY:6,position:"relative",children:[(0,E.jsx)(o.xu,{maxWidth:400,children:(0,E.jsx)(o.X6,{align:"center",size:"500",children:(0,H.nk)(e._('{{ heart }}  is now  {{ star }}', 'groupBoardFavoriteEducationModal.heading', 'Heading for modal informing users of changes from group board reactions to board favorites'),{heart:(0,E.jsx)(o.xu,{display:"inlineBlock",paddingX:1,children:(0,E.jsx)(o.JO,{accessibilityLabel:e._('Heart icon', 'groupBoardFavoriteEducationModal.headingHeartIcon', 'Accessibility label for heart icon'),color:"default",icon:"heart",size:16})}),star:(0,E.jsx)(o.xu,{display:"inlineBlock",paddingX:1,children:(0,E.jsx)(o.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.headingFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star",size:16})})})})}),(0,E.jsx)(o.xu,{padding:6,position:"absolute",right:!0,top:!0,children:(0,E.jsx)(o.hU,{accessibilityLabel:e._('Close', 'groupBoardFavoriteEducationModal.closeModalButton', 'Accessibility label for close modal button'),icon:"cancel",iconColor:"darkGray",onClick:t,size:"md"})})]});return(0,E.jsx)(C.Z,{eligibleIds:[503077],placementId:18,children:({complete:n,dismiss:a})=>(0,E.jsx)(F.ZP,{accessibilityModalLabel:e._('Group board reaction', 'groupBoardFavoriteEducationModal.modalAccessibilityLabel', 'Accessiblility label for modal used to educate group board collaborators about favorite button'),footer:r(n),heading:i(a),onDismiss:a,size:"sm",children:t})})}var V=r(563322),G=r(64819),W=r(937310),K=r(569619),q=r(693138),Y=r(54966),X=r(881157);function J({board:e,currentFilter:t,eligibleFilters:r,isOwnBoard:n,surface:a,setCurrentFilter:s,setTitle:l}){let d=(0,V.x)(),{logContextEvent:c}=(0,h.v)(),u=(0,U.ZP)(),p=(0,i.useRef)(null),_=d?.boardPinDensity,[m,g]=(0,i.useState)(!1),f=()=>{g(!1)},b=e=>{(0,Y.Z)({boardDensity:e,component:"board"===a?13183:13187,viewType:"board"===a?5:164},c),(0,X.Z)({density:e,surface:"board"}),d?.setBoardPinDensity(e)},y=[],v={[q.cg]:12111,[q.c7]:12110,[q.Ac]:12227};if(r){let i={items:r.map(r=>({isSelected:r.pin_type===t,onClick:()=>{c({event_type:101,component:13475,element:v[r.pin_type??-1],object_id_str:e.id,view_type:5,view_parameter:n?3069:3070}),s(r.pin_type??-1),l(r.pin_type===q.cg?null:r.text),f()},text:r.text??""})),label:u._('Filter by type', 'board.experimentalBoardActionBar.filterOptions', 'List of board filter options')};y.push(i)}return y.push({items:[{isSelected:"regular"===_,onClick:()=>{f(),b("regular")},text:u._('Default', 'BoardHeader.ActionBar.DensityOption-Default', 'Clickable text to set board view density to default mode')},{isSelected:"dense"===_,onClick:()=>{f(),b("dense")},text:u._('Compact', 'BoardHeader.ActionBar.DensityOption-Compact', 'Clickable text to set board view density to compact mode')}],label:u._('View options', 'BoardHeader.ActionBar.ViewOptions', 'List of board view options')}),(0,E.jsxs)(i.Fragment,{children:[(0,E.jsx)(o.xu,{ref:p,children:(0,E.jsx)(o.hU,{accessibilityLabel:u._('Board Filter', 'board.experimentalBoardActionBar.boardFilter', 'Filter to select specific Pins on board'),icon:"filter",iconColor:"darkGray",onClick:()=>{c({event_type:101,element:12020,object_id_str:e.id,view_type:5,view_parameter:n?3069:3070}),g(!m)},selected:m,size:"lg"})}),m&&(0,E.jsx)(o.Lt,{anchor:p.current,disableMobileUI:!0,id:"filter_board",onDismiss:f,children:y.map(({items:e,label:t})=>(0,E.jsx)(o.Lt.Section,{label:t,children:e.map(({isSelected:e,onClick:t,text:r})=>(0,E.jsx)(o.Lt.Item,{onSelect:t,option:{label:r,value:r},selected:e?{label:r,value:r}:null},r))},t))})]})}let Q=(0,_.Z)(1000332)(function({board:e,currentFilter:t,isOwnBoard:r,section:n,setCurrentFilter:a,showExperienceTooltip:s}){let l=(0,U.ZP)(),{eligible_pin_type_filters:d}=n??e,[c,u]=(0,i.useState)(null),h=(0,i.useRef)(null),p=n?n.pin_count:e.pin_count,_=(e,t)=>(h&&h.current?.scrollIntoView(!1),(0,E.jsx)(o.Li,{anchor:h.current,idealDirection:"down",message:t.text,onDismiss:e}));return(0,E.jsxs)(i.Fragment,{children:[(0,E.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",paddingX:8,children:[(0,E.jsx)(o.xu,{flex:"grow",children:(0,E.jsx)(o.X6,{accessibilityLevel:2,size:"400",children:t>0&&c?c:(0,H.nk)(l.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', p ?? 0, 'board.experimentalBoardActionBar.pinCount', 'Number of Pins on board or section'),{pinCount:p})})}),(0,E.jsx)(o.xu,{ref:h,children:(0,E.jsx)(J,{board:e,currentFilter:t,eligibleFilters:d,isOwnBoard:r,setCurrentFilter:a,setTitle:u,surface:n?"section":"board"})})]}),s&&h&&(0,E.jsx)(o.mh,{children:(0,E.jsx)(C.Z,{eligibleIds:[502974],placementId:1000332,children:({dismiss:e,experience:{display_data:t}})=>_(e,t)})})]})});var ee=r(805579),et=r(254305),er=r(747794),ei=r(60352),en=r(635842),ea=r(276552),eo=r(915625);let es=()=>{};function el({board:e,currentView:t,handleContentViewChange:r,handleSetCurrentModal:a,handleShowEditSectionModal:s,handleShowMergeSectionsConfirmationModal:l,isOwnerOrCollaborator:d,isOwnBoard:c,isPinGridSorted:u,refreshBoardData:h=es,refreshSectionData:p=es,section:_}){let m=(0,v.Z)(),g=(0,et.Z)({board:e,viewer:m}),f=(e.access||[]).includes("write"),b=V.x()?.boardPinDensity,y=(0,ea.Z)(_?(0,en.Z)(e,_):""),[x,w]=(0,i.useState)(q.cg),[P,S]=(0,i.useState)(!1),C=(0,n.useDispatch)();(0,i.useEffect)(()=>()=>{x!==q.cg&&(_?C((0,G.N8)(W.Z.BOARD_SECTION_PINS,_.id??"")):C((0,G.N8)(W.Z.BOARDFEED,e.id)))},[e,x,C,_]);let A=(0,i.useCallback)(()=>{x>0&&(w(q.cg),_?p():h())},[x,p,h,_]),j=(0,i.useMemo)(()=>_?{currentFilter:x,eligibleFilters:_.eligible_pin_type_filters,refreshData:p,sectionId:_.id}:{currentFilter:x,eligibleFilters:e.eligible_pin_type_filters,refreshData:h,setShowExperienceTooltip:S},[_,e.eligible_pin_type_filters,x,h,p]);return _?(0,E.jsx)(ee.k,{value:j,children:(0,E.jsxs)(i.Fragment,{children:[d&&(0,E.jsx)(Q,{board:e,currentFilter:x,isOwnBoard:c,section:_,setCurrentFilter:w,showExperienceTooltip:!1}),(0,E.jsx)(ei.Z,{board:e,boardSectionId:_.id,currentFilter:x,denseViewSelected:f&&"dense"===b,inSectionOrganizationMode:!1,inSelectAll:!1,isOwnBoard:c,refreshFilteredFeed:A,renderFooterStory:t=>!e.archived_by_me_at&&d&&(0,E.jsx)(o.xu,{marginBottom:12,children:(0,E.jsx)(er.Z,{children:(0,E.jsx)(eo.Z,{collection:_,storyId:t,url:y})})}),viewer:m,viewParameter:g})]})}):(0,E.jsx)(ee.k,{value:j,children:(0,E.jsxs)(i.Fragment,{children:[d&&(0,E.jsx)(Q,{board:e,currentFilter:x,isOwnBoard:c,setCurrentFilter:w,showExperienceTooltip:P}),(0,E.jsx)(K.Z,{actions:{onBoardOrganizeClick:es},board:e,currentFilter:x,currentView:t,enableReordering:d,isOwnBoard:c,isPinGridSorted:u,onContentViewChange:r,onShowEditSectionModal:s,onShowMergeSectionsConfirmationModal:(e,t)=>{a(M.s.sectionMergeConfirm),l(e,t)},refreshFilteredFeed:A,viewParameter:g}),d&&(0,E.jsx)($,{})]})})}var ed=r(35222),ec=r(212890),eu=r(143953),eh=r(373395),ep=r(200154),e_=r(420240),em=r(329456),eg=r(302607);function ef({onDismiss:e,boardId:t}){let{showErrorToast:r,showSuccessToast:n}=(0,eg.Z)(),[a,o]=(0,i.useState)(null);(0,y.Z)(()=>{let e=async()=>{try{let e=await (0,e_.Z)(t);e?o(e):r()}catch{r()}};e()});let s=async({reasonKey:i})=>{try{await (0,em.Z)(t,{reason:i}),e(),n()}catch{e(),r()}};return(0,E.jsx)(ep.ZP,{handleSubmitReport:s,objectToReport:{type:"board",id:t},onDismiss:e,reportingReasons:a})}var eb=r(995917),ey=r(410389);function ev({boardId:e,ownerUsername:t,ownerName:r,ownerImgSrc:i,ownerIsAdsOnlyProfile:n,ownerAdsOnlyProfileSite:a,children:o}){let{data:s,isLoaded:l}=(0,eb.Z)({name:"ApiResource",options:{url:ey.Z({boardId:e})?.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0}),d=[{name:r,src:i,href:`/${t}/`,is_ads_only_profile:n,ads_only_profile_site:a}];return l&&s&&s.length>0&&s.forEach(e=>{let t=e.image_medium_url||e.image_small_url;d.push({name:e.full_name??"",src:t??"",href:`/${e.username}/`})}),o(d)}var ex=r(847754),ew=r(587703),eP=r(452364),eS=r(454514);function eC(e){let{boardImage:t,boardName:r,boardUrl:i,onHide:n}=e,a=(0,U.ZP)(),s=(0,E.jsx)(o.xv,{children:(0,H.nk)(a._('Now following {{ boardName }}', 'BoardFollowButton.FollowingToast.nowFollowing', 'Toast text displayed when a user follows a board'),{boardName:(0,E.jsx)(o.xv,{weight:"bold",children:r},"boardName")})});return(0,E.jsx)(eS.ZP,{href:i,imageUrl:t,onHide:n,text:s})}var eA=r(321083),eE=r(898233);class ej extends i.Component{constructor(...e){var t,r,i;super(...e),r={flyoutOpen:!1},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?i:String(i))in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}render(){let{board:e,bgColor:t="white",children:r,iconColor:n="gray",onCreatePincode:a}=this.props,{flyoutOpen:s}=this.state,l={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:"board",url:e.url},d=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},c=r&&r({active:s,onClick:()=>d()})||(0,E.jsx)(o.hU,{accessibilityLabel:this.props.i18n._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:t,icon:"share",iconColor:n,onClick:({event:e})=>d(e),size:"lg"});return(0,E.jsxs)(i.Fragment,{children:[(0,E.jsx)(o.xu,{ref:e=>{this.anchor=e},children:c}),this.state.flyoutOpen&&(0,E.jsx)(o.mh,{children:(0,E.jsx)(o.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>d(),positionRelativeToAnchor:!1,size:"flexible",children:(0,E.jsx)(eE.Z,{component:13216,onCreatePincodeClick:a?()=>{d(),a()}:void 0,onHide:()=>d(),sendType:"board",sharedObject:l,viewType:5})})})]})}}function eT(e){let t=(0,U.ZP)(),r=(0,p.Z)();return(0,E.jsx)(ej,{...e,i18n:t,requireAuth:r})}function eI(e){let t=(0,U.ZP)(),{bgColor:r,board:a,canCreatePincode:s,canEdit:l,handleCreatePincode:d,handleOpenSendBoardFlyout:c,onEditClick:u,onReportClick:h,showFollow:_,showShare:m,size:f}=e,{checkExperiment:y}=(0,g.F)(),{anyEnabled:v}=y("web_board_user_reporting"),{id:x,name:w,url:P,image_cover_url:S}=a,[C,A]=(0,i.useState)(a.followed_by_me),{showOneToast:j}=(0,b.F9)(),T=(0,n.useDispatch)(),I=(0,p.Z)(),k=(0,ew.Z)(),D=({event:e})=>{if(I){e.stopPropagation(),I();return}C?(T((0,eA.f)(x,k)),A(!1)):(T((0,eA.Z)(x,k)),A(!0),j(({hideToast:e})=>(0,E.jsx)(eC,{boardImage:S??"",boardName:w,boardUrl:P,onHide:e})))},R={edit:t._('Edit', 'BoardPage.ActionBar.PartnerEdit', 'Clickable text to enter board editing mode'),create_pincode:t._('Create Pincode', 'BoardPage.ActionBar.PartnerPincode', 'Clickable text to trigger Pincode modal'),share:t._('Share', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to share board'),unfollow:t._('Unfollow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to unfollow board'),follow:t._('Follow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to follow board'),report:t._('Report', 'profileHeader.actionBar.overflowFlyout.report', 'Overflow menu option on a user profile to report a complaint about that user')};return(0,E.jsx)(eP.Z,{bgColor:r,icon:"ellipsis",id:"more-board-options",label:t._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options flyout'),size:f,children:()=>(0,E.jsxs)(o.Lt.Section,{label:t._('Board options', 'profileHeader.actionBar.overflow.header', 'Accessibility label header for board options flyout'),children:[l&&u&&(0,E.jsx)(o.Lt.Item,{onSelect:()=>{u()},option:{label:R.edit,value:R.edit}}),l&&s&&d&&(0,E.jsx)(o.Lt.Item,{onSelect:()=>{d()},option:{label:R.create_pincode,value:R.create_pincode}}),m&&c&&(0,E.jsx)(eT,{board:a,onCreatePincode:d,onOpen:c,children:({onClick:e})=>(0,E.jsx)(o.Lt.Item,{onSelect:e,option:{label:R.share,value:R.share}})}),_&&(0,E.jsx)(i.Fragment,{children:C?(0,E.jsx)(o.Lt.Item,{onSelect:D,option:{label:R.unfollow,value:R.unfollow}}):(0,E.jsx)(o.Lt.Item,{onSelect:D,option:{label:R.follow,value:R.follow}})}),v&&(0,E.jsx)(o.Lt.Item,{onSelect:h,option:{label:R.report,value:R.report}})]})})}var ek=r(182160),eD=r(551539),eR=r(481177),ez=r(629650),eO=(r(282405),r(608823)),eB=r(337882),eZ=r(748599),eL=r(624797),eM=r(216167),eN=r(757017),eF=r(827625),eU=r(554786),eH=r(205841),e$=r(873955);let eV=e=>e>99?"99+":e;function eG(e){let{faces:t,maxFaces:r,numFaces:i,onOverflowClick:n,shouldNavigate:a=!0}=e,s=[...t].reverse(),l=t.length>r?s.slice(0,r+1):s,d=i-r;return(0,E.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},display:"flex",position:"relative",children:l.map((e,t)=>{let{name:r,src:i,href:s,isDim:l}=e;if(0===t&&d>0)return(0,E.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},height:44,marginStart:-2,overflow:"hidden",rounding:"circle",width:44,children:(0,E.jsx)(o.Ee,{alt:r,fit:"contain",naturalHeight:44,naturalWidth:44,src:i||"",children:(0,E.jsx)(o.iP,{fullHeight:!0,fullWidth:!0,onTap:n,rounding:"circle",children:(0,E.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,E.jsx)(o.xv,{color:"inverse",size:"200",weight:"bold",children:eV(d)})})})})},t);{let e=(0,E.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{opacity:l?.5:1}},marginStart:-2,children:(0,E.jsx)(eH.qE,{name:r,outline:!0,size:"sm",src:i})},t);return a?(0,E.jsx)(o.Tg,{href:s,rounding:"circle",children:e},t):e}})})}function eW({invitedByUser:e,isAccepted:t,onDecline:r,onAccept:i,createdAt:n}){let a=(0,U.ZP)(),s=(0,v.Z)(),{first_name:l,full_name:d,username:c,image_medium_url:u}=e||{},h=l||d||a._('others', 'Default text when board colalborator name is not known.', 'Default text when board colalborator name is not known.');return(0,E.jsx)(o.W2,{children:t?(0,E.jsxs)(o.xu,{alignItems:"center",borderStyle:"sm",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingX:5,paddingY:3,rounding:2,width:"100%",children:[(0,E.jsx)(eG,{faces:[{href:s.isAuth?`/${s.username}`:"",name:s.isAuth?s.fullName:"",src:s.isAuth?s.imageMediumUrl:""},{href:`/${c}`,name:d,src:u}],maxFaces:2,numFaces:2}),(0,E.jsxs)(o.xu,{marginStart:2,children:[(0,E.jsx)(o.xv,{weight:"bold",children:a._('You\'re in!', 'Text showing that a user has accepted the board invite and is now a part of the board', 'Text showing that a user has accepted the board invite and is now a part of the board')}),(0,E.jsx)(o.xv,{children:(0,e$.Z)(a._('Start collaborating with {{ invitedByUserName }} on this board', ' - ', ' -- '),{invitedByUserName:h})})]})]}):(0,E.jsx)(o.xu,{borderStyle:"shadow",color:"default",marginEnd:-1,marginStart:-1,paddingX:6,paddingY:6,rounding:6,width:540,children:(0,E.jsxs)(o.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,E.jsx)(o.xu,{marginEnd:2,children:(0,E.jsx)(eH.qE,{name:d,size:"md",src:u})}),(0,E.jsx)(o.xu,{flex:"grow",children:(0,E.jsx)(o.xv,{color:"default",inline:!0,children:(0,H.nk)(a._('{{ user }} invited you to collaborate on this board {{ createdAt }}', 'web.boardView.inviteCard.text', 'Label used to indicate a Pinner has invited you to join a board'),{user:(0,E.jsx)(o.xv,{color:"default",inline:!0,weight:"bold",children:(0,E.jsx)(o.rU,{display:"inlineBlock",href:`/${c}`,underline:"hover",children:d})},c),createdAt:(0,E.jsx)(o.xv,{color:"subtle",inline:!0,children:n})})})}),(0,E.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:1,children:[(0,E.jsx)(o.xu,{display:"inlineBlock",marginEnd:2,children:(0,E.jsx)(o.zx,{color:"gray",onClick:r,size:"lg",text:a._('Decline', 'decline board collaborator invite or request', 'decline board collaborator invite or request')})}),(0,E.jsx)(o.zx,{color:"red",onClick:i,size:"lg",text:a._('Accept', 'Text to accept a board collaboration invite', 'Text to accept a board collaboration invite')})]})]})})})}var eK=r(823813);function eq({boardId:e,inviteCode:t,shouldAutoAcceptBoardInvite:r,userInviterId:a}){let s=(0,U.ZP)(),l=(0,b.F9)(),d=(0,eN.Z)(),[c,u]=(0,i.useState)(!1),[h,p]=(0,i.useState)(null),{checkExperiment:_}=(0,g.F)(),m=(0,eU.HG)(),f=(0,v.Z)(),y=f.isAuth?m&&_("web_board_invite_landing_fix").anyEnabled:m&&_("dweb_unauth_board_invite_landing").anyEnabled,x=(0,n.useDispatch)(),w={board_id:e,field_set_key:"boardBanner",invite_code:t,invited_user_id:f.isAuth&&f.id},P=(0,eK.RZ)(),S=(0,eK.CQ)();(0,i.useEffect)(()=>{a&&r&&(P(e).then(()=>{x((0,eK.A8)(e)),y&&l.showToast(({hideToast:e})=>(0,E.jsx)(eS.ZP,{duration:5e3,onHide:e,text:s._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')}))}),eM.Z.create("UserResource",{field_set_key:"grid_item",user_id:a}).callGet().then(({resource_response:e})=>{let t=e&&e.data;t&&p(t)}))},[r,a]);let{data:C}=(0,eb.Z)({name:"BoardInviteResource",options:w}),A=!!(a&&r)||c,j=!["new","contact_request_not_approved"].includes(C?.status),T=t=>{(t?P(e):S(e,w.invited_user_id||"")).then(()=>{t&&(x((0,eK.A8)(e)),u(!0),l.showToast(({hideToast:e})=>(0,E.jsx)(eS.ZP,{duration:5e3,onHide:e,text:s._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')}))),x((0,eF.jB)("BoardInviteResource",w))})},I=C?.invited_by_user||h;return!I||j&&!A||y&&A?null:(0,E.jsx)(o.xu,{marginTop:3,paddingY:0,children:(0,E.jsx)(eW,{createdAt:d(C?.created_at||"",!0),invitedByUser:I,isAccepted:A,onAccept:()=>T(!0),onDecline:()=>T(!1)})})}function eY({boardId:e}){let t=(0,a.TH)(),r=t&&t.search?(0,eL.mB)(t.search):{},i=r.invite_code,n=r.accept_invite,o=r.inviter_user_id;return(0,E.jsx)(eq,{boardId:e,inviteCode:i,shouldAutoAcceptBoardInvite:n,userInviterId:o})}let eX=function(e){let{board:t}=e,{id:r,owner:n,sensitivity:a}=t,s=(0,v.Z)(),l=s.isAuth?s.id:"",d=n?.id===l,c=(0,ec.Uz)(a);return(0,E.jsxs)(i.Fragment,{children:[!c&&(0,E.jsx)(eY,{boardId:r}),c&&(0,eu.ZP)(a)&&a&&(0,E.jsx)(o.xu,{paddingY:10,children:(0,E.jsx)(eh.Z,{boardId:r,notices:a.notices,sensitivity:a,viewParameter:d?3069:3070,viewType:5})})]})};function eJ(e){let t=(0,U.ZP)(),{color:r,size:i}=e;return(0,E.jsx)(o.JO,{accessibilityLabel:t._('secret board', 'accessible label for secret board icon', 'accessible label for secret board icon'),color:r,icon:"lock",size:i})}function eQ({color:e,paddingX:t}){return(0,E.jsx)(o.xu,{display:"inlineBlock",paddingX:t,children:(0,E.jsx)(o.xv,{color:e,inline:!0,size:"200",weight:"bold",children:"\xb7"})})}function e0({archived:e,secret:t}){let r=(0,U.ZP)();return(0,E.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[t&&(0,E.jsx)(eJ,{color:"subtle",size:16}),t&&(0,E.jsx)(o.xu,{"data-test-id":"secret-board",paddingX:1,children:(0,E.jsx)(o.xv,{color:"subtle",inline:!0,size:"300",children:r._('Secret board', 'LegoBoardPageHeader.BoardStatus.secret', 'Label for a secret board')})}),t&&e&&(0,E.jsx)(eQ,{color:"subtle",paddingX:1}),e&&(0,E.jsx)(o.xu,{paddingX:1,children:(0,E.jsx)(o.xv,{color:"subtle",inline:!0,size:"300",children:r._('Archived board', 'LegoBoardPageHeader.BoardStatus.archived', 'Label for a secret board')})})]})}var e1=r(259078),e2=r(717203),e3=r(107353);function e8({board:e,collaborators:t,overflowNumber:r}){let n=(0,U.ZP)(),a=(0,i.useRef)(),{logContextEvent:s}=(0,h.v)(),[l,d]=(0,i.useState)(!1),c=t.map((e,t)=>{if(e.isDim)return null;let r=e.is_ads_only_profile&&e.ads_only_profile_site,i=(r?e.ads_only_profile_site:e.href)||"",n=e.href?e.href:e.name+t;return(0,E.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,E.jsx)(o.rU,{display:"inlineBlock",href:i,onClick:()=>{r&&s({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorNames"}})},rel:r?"nofollow":"none",target:r?"blank":null,underline:"none",children:e.name})},n)}).filter(Boolean);return r&&c.push((0,E.jsx)(o.xu,{ref:a,display:"inlineBlock",children:(0,E.jsx)(o.iP,{onTap:()=>d(!0),children:(0,E.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,H.nk)(n.ngettext('{{ overflowNumber }} other', '{{ overflowNumber }} others', r, 'legoBoardPageHeader.collaboratorNames.others', 'number of additional collaborators not listed, overflowNumber:number of collaborators'),{overflowNumber:r})})})},"overflowText")),(0,E.jsxs)(i.Fragment,{children:[(0,E.jsx)(o.xv,{inline:!0,children:(0,e2.Z)(c,n)}),l&&(0,E.jsx)(e3.default,{anchor:a.current,board:e,onDismiss:()=>d(!1)})]})}var e7=r(553319);function e6({board:e,handleCreatePincode:t}){let{logContextEvent:r}=(0,h.v)(),i=(0,U.ZP)(),n=(0,p.Z)();return(0,E.jsx)(eT,{board:e,onCreatePincode:t,onOpen:()=>{if(n){n();return}(0,e7.Z)(r)},children:({onClick:e})=>(0,E.jsx)(o.xu,{"data-test-id":"board-share-button-auth",children:(0,E.jsx)(o.zx,{color:"gray",fullWidth:!0,onClick:e,size:"lg",text:i._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board')})})})}var e5=r(422827);function e4(e){let t=(0,U.ZP)(),{onClick:r,requested:i,size:n,useAlternateText:a}=e;return(0,E.jsx)(o.zx,{fullWidth:!0,onClick:r,size:n||"md",text:(i?function(e,t){return t?e._('Cancel', 'BoardPage.BoardJoinButton.cancel', '[Button] Cancel request to join a group board as a collaborator'):e._('Cancel request', '[Button] Cancel request to join a group board as a collaborator', '[Button] Cancel request to join a group board as a collaborator')}:function(e,t){return t?e._('Join', 'BoardPage.BoardJoinButton.join', '[Button] Request to join a group board as a collaborator'):e._('Request to join', '[Button] Request to join a group board as a collaborator', '[Button] Request to join a group board as a collaborator')})(t,a)})}function e9(e){let t=(0,U.ZP)(),{boardImage:r,boardName:i,boardUrl:n,onHide:a}=e,s=(0,E.jsx)(o.xv,{children:(0,H.nk)(t._('You\'ve cancelled the request to collaborate on {{ boardName }}', 'Board.JoinButton.CancelToast', 'Toast text stating that a user has cancelled a request to join a board'),{boardName:(0,E.jsx)(o.xv,{inline:!0,weight:"bold",children:i})})});return(0,E.jsx)(eS.ZP,{duration:3e3,href:n,imageUrl:r,onHide:a,text:s})}function te(e){let t=(0,U.ZP)(),{boardImage:r,boardName:i,boardUrl:n,onHide:a}=e,s=(0,E.jsx)(o.xv,{children:(0,H.nk)(t._('You\'ve requested to join {{ boardName }}', 'Board.JoinButton.RequestToast', 'Toast text stating that a user has requested to join a board'),{boardName:(0,E.jsx)(o.xv,{inline:!0,weight:"bold",children:i})})});return(0,E.jsx)(eS.ZP,{href:n,imageUrl:r,onHide:a,text:s})}function tt(e){let{boardId:t,boardImage:r,boardName:i,boardUrl:a,isRequestedByMe:s,showPulsar:l,size:d,variant:c}=e,{logContextEvent:u}=(0,h.v)(),_=(0,n.useDispatch)(),m=(0,v.Z)(),g=(0,b.F9)(),f=m.isAuth&&m.id||"",y=(0,p.Z)(),x=(0,eK.tV)(),w=({event:e})=>{e.preventDefault(),e.stopPropagation(),y?y():s?(_((0,eK.GJ)(t,f)),g.showOneToast(({hideToast:e})=>(0,E.jsx)(e9,{boardImage:r,boardName:i,boardUrl:a,onHide:e}))):(_(x(t)),g.showOneToast(({hideToast:e})=>(0,E.jsx)(te,{boardImage:r,boardName:i,boardUrl:a,onHide:e}))),function(e){let{action:t,id:r,logContextEvent:i,url:n}=e;i({event_type:101,component:1,element:"request"===t?7499:7547,object_id_str:r,view_type:4,aux_data:{current_page_url:n}})}({action:s?"request":"cancel",id:t,logContextEvent:u,url:a})};return f?(0,E.jsxs)(o.xu,{display:"flex",position:"relative",children:[(0,E.jsx)(e4,{onClick:w,requested:s,size:d,useAlternateText:"lego"===c}),l&&(0,E.jsx)(o.iP,{onTap:e=>{w(e)},children:(0,E.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,E.jsx)(o.o3,{paused:s})})})]}):null}function tr(e){let{board:t,collaborators:r,handleCreatePincode:i,handleShowCollabAndPermissionsModal:n,hideFollowers:a,isToolsBoard:s,onFollowersClick:l,overFlowActionsButton:d,showPulsar:c,userBlocked:h}=e,{access:p,archived_by_me_at:_,collaborator_requests_enabled:m,description:f,follower_count:b,id:y,image_cover_url:P,name:S,privacy:C,url:A,viewer_collaborator_join_requested:j}=t,{displayedCollaborators:T,nonDisplayedCollaboratorCount:I}=(0,e1.Z)({boardCollaboratorCount:t.collaborator_count,collaborators:r}),k=(0,v.Z)(),{checkExperiment:D}=(0,g.F)(),R=(0,x.Z)(),z=(0,w.D3)(k,t.owner?.id||"",R),O=p&&p.includes("write")||z,B=(0,u.Z)(t.collaborated_by_me,t.owner?.id,k)||z,Z=(0,eD.Z)(k,t.owner?.id),L=!!_,M=C===eR.Z.BoardPrivacy.PROTECTED,N=C===eR.Z.BoardPrivacy.SECRET,F=!O&&!h,U=F&&m&&!k.isPrivateProfile,H=F&&!!i,$=(Z||t.collaborator_invites_enabled&&t.collaborated_by_me)&&D("web_update_board_invite_icon").anyEnabled,V="A stub for board subtitle. A stub for board subtitle. A stub",G=V&&D("dweb_curated_articles_to_board_shift").anyEnabled;return(0,E.jsx)(o.xu,{direction:"column",display:"flex",justifyContent:"center",marginBottom:s?4:7,paddingX:8,width:"100%",children:(0,E.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",children:(0,E.jsxs)(o.xu,{"data-test-id":"LegoBoardHeader__main",direction:"column",display:"flex",maxWidth:488,children:[(0,E.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",children:(0,E.jsx)(o.xu,{maxWidth:800,children:(0,E.jsx)(eX,{board:t})})}),(0,E.jsxs)(o.xu,{marginTop:4,maxWidth:440,children:[V&&G&&(0,E.jsx)(o.xu,{marginBottom:2,children:(0,E.jsx)(o.xv,{align:"center",children:V})}),(0,E.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,E.jsx)(o.X6,{align:"center",children:(0,E.jsxs)(o.xu,{"data-test-id":"board-title",display:"inlineBlock",children:[S,(0,E.jsx)(o.xu,{display:"inlineBlock",paddingX:2,position:"absolute",children:d})]})})})]}),(0,E.jsx)(e5.Z,{children:(0,E.jsx)(o.xu,{marginTop:2,children:$?(0,E.jsx)(eO.Z,{board:t,handleTapOnInviteAvatarGroup:n}):(0,E.jsx)(eB.Z,{board:t,displayedCollaborators:T,handleShowCollabAndPermissionsModal:n,nonDisplayedCollaboratorCount:I})})}),!1,(!B||f)&&(0,E.jsx)(e5.Z,{children:(0,E.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},marginTop:2,children:(0,E.jsx)(ez.Z,{inline:!0,items:[B?null:(0,E.jsx)(e8,{board:t,collaborators:T,overflowNumber:I},"collaborators"),f?(0,E.jsx)(o.xv,{inline:!0,children:f}):null]})})}),(0,E.jsx)(e5.Z,{children:(0,E.jsx)(o.xu,{marginTop:2,children:(L||N)&&(0,E.jsx)(e0,{archived:L,secret:N})})}),(0,E.jsx)(e5.Z,{children:!!b&&!a&&!L&&!N&&!M&&(0,E.jsx)(eZ.P,{bold:!0,count:b??0,onClick:l,shortform:!0,size:"300"})}),(0,E.jsx)(e5.Z,{children:(U||H)&&(0,E.jsxs)(o.xu,{direction:"row",display:"flex",justifyContent:"center",marginTop:5,width:"100%",children:[U&&(0,E.jsx)(o.xu,{paddingX:1,children:(0,E.jsx)(tt,{boardId:y,boardImage:P??"",boardName:S,boardUrl:A,isRequestedByMe:!!j,showPulsar:c,size:"lg",variant:"lego"})}),H&&!!i&&(0,E.jsx)(o.xu,{paddingX:1,children:(0,E.jsx)(e6,{board:t,handleCreatePincode:i})})]})})]})})})}var ti=r(477458);let tn=(0,i.forwardRef)((e,t)=>{let{boardName:r,boardUrl:i,children:n,overFlowActionsButton:a,sectionName:s}=e,l="A stub for board section description.",{checkExperiment:d}=(0,g.F)();return(0,E.jsxs)(o.xu,{ref:t,display:"flex",justifyContent:"center",marginBottom:8,paddingX:8,width:"100%",children:[(0,E.jsxs)(o.kC,{alignItems:"stretch",direction:"column",gap:2,justifyContent:"start",maxWidth:488,children:[(0,E.jsx)(e5.Z,{children:(0,E.jsx)(o.xu,{marginTop:4,children:(0,E.jsx)(ti.q,{children:({active:e,focused:t,hovered:n,onBlur:a,onFocus:s,onMouseEnter:l,onMouseLeave:d})=>(0,E.jsx)(o.Tg,{href:i??"",onBlur:a,onFocus:s,onMouseEnter:l,onMouseLeave:d,children:(0,E.jsx)(o.X6,{align:"center",color:e||t||n?"default":"subtle",children:r})})})})}),(0,E.jsx)(e5.Z,{children:(0,E.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:-2,children:[(0,E.jsx)(o.X6,{align:"center",children:s}),!!a&&(0,E.jsx)(o.xu,{paddingX:1,children:a})]})}),!!l&&d("dweb_curated_articles_to_board_shift").anyEnabled&&(0,E.jsx)(e5.Z,{children:(0,E.jsx)(o.xv,{align:"center",children:l})})]}),n&&(0,E.jsx)(o.xu,{marginTop:8,children:n})]})});function ta({board:e,handleBoardEditClick:t,handleFollowersClick:r,handleSectionEditClick:n,handleShowBoardArchiveConfirmation:a,handleShowBoardUnarchiveConfirmation:s,handleShowCollabAndPermissionsModal:l,handleShowCreatePincodeModal:d,handleShowMergeModal:h,section:p,showPulsar:_}){let m=(0,v.Z)(),g=(0,x.Z)(),f=(0,ed.Z)(),b=f&&(0,c.Z)(e.privacy)?`?orbac_subject_id=${f}`:"",{name:y,sensitivity:P,access:S,url:C=""}=e,[A,j]=(0,i.useState)(!1),T=(0,w.D3)(m,e.owner?.id||"",g),I=S&&S.includes("write")||T,k=I?ex.I:ev,D=(0,ec.Uz)(P),R=(0,u.Z)(e.collaborated_by_me,e.owner?.id,m)||T,z=null;z=R?(0,E.jsx)(ek.Z,{board:e,onArchiveClick:a,onCreatePincode:d,onEditBoardClick:t,onEditSectionClick:n,onMergeClick:h,onUnarchiveClick:s,showCreatePinCodeOption:m.isAuth&&m.isPartner,surface:p?"section":"board"}):(0,E.jsx)(eI,{bgColor:"lightGray",board:e,onReportClick:()=>j(!0),showFollow:!0,size:"sm"});let O=D&&(0,eu.ZP)(P);return(0,E.jsxs)(i.Fragment,{children:[A&&(0,E.jsx)(ef,{boardId:e.id,onDismiss:()=>j(!1)}),p?(0,E.jsxs)(i.Fragment,{children:[O&&(0,E.jsx)(e5.Z,{children:(0,E.jsx)(o.xu,{maxWidth:800,paddingY:10,children:P&&(0,E.jsx)(eh.Z,{boardId:e.id,boardSectionId:p.id,notices:P.notices,sensitivity:P,viewParameter:T?3069:3070,viewType:5})})}),(0,E.jsx)(tn,{boardName:y,boardUrl:`${C}${b}`,overFlowActionsButton:z,sectionName:p.title??""})]}):(0,E.jsx)(o.xu,{"data-test-id":"board-header",children:(0,E.jsx)(k,{boardId:e.id,ownerAdsOnlyProfileSite:e.owner?.ads_only_profile_site||"",ownerImgSrc:e.owner?.image_key||e.owner?.image_medium_url||e.owner?.image_small_url||"",ownerIsAdsOnlyProfile:e.owner?.is_ads_only_profile||!1,ownerName:e.owner?.full_name||"",ownerUsername:e.owner?.username||"",children:t=>(0,E.jsx)(tr,{board:e,collaborators:t,handleCreatePincode:d,handleShowCollabAndPermissionsModal:l,hideFollowers:T,isToolsBoard:!0,onFollowersClick:r,overFlowActionsButton:z,showPulsar:_,userBlocked:!!e.owner?.blocked_by_me})})})]})}tn.displayName="SectionHeader";var to=r(107366);function ts({boardId:e,collaboratorId:t,collaboratorUsername:r}){let i=(0,n.useDispatch)(),s=(0,a.k6)(),l=(0,U.ZP)();return(0,E.jsx)(o.kC,{justifyContent:"center",width:"100%",children:(0,E.jsx)(o.xu,{marginTop:8,maxWidth:960,paddingX:8,children:(0,E.jsx)(o.XA,{message:l._('You\u2019ve been requested to take over ownership of this board', 'boardOwnershipTransferUpsell.message', 'Message informing user they have received an ownership transfer request'),primaryAction:{accessibilityLabel:l._('Accept', 'boardOwnershipTransferUpsell.acceptAccessibilityLabel', 'Accessibility label for accept button on upsell'),label:l._('Accept', 'boardOwnershipTransferUpsell.acceptLabel', 'Label for accept button on upsell'),onClick:()=>{(0,to.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"PUT",data:{collaborator:t}}),i((0,Z.K8)(r)),s.push(`/${r}/`)}},secondaryAction:{accessibilityLabel:l._('Decline', 'boardOwnershipTransferUpsell.declineAccessibilityLabel', 'Accessibility label for decline button on upsell'),label:l._('Decline', 'boardOwnershipTransferUpsell.declineLabel', 'Label for decline button on upsell'),onClick:()=>{i((0,eK.xx)(e,t))}},title:l._('Board ownership request pending', 'boardOwnershipTransferUpsell.title', 'Title for board ownership transfer upsell')})})})}var tl=r(71024),td=r(10568);let tc=e=>()=>{e({event_type:101,element:10776,component:13216,view_type:5,view_parameter:3069})};function tu({handleAddSection:e,handleCreatePin:t,handleCreateStoryPin:r,surface:n}){let{logContextEvent:a}=(0,h.v)(),s=(0,U.ZP)(),l=(0,i.useRef)(),d="board"===n?s._('Create a Pin or add a Section', 'BoardPage.ActionBar.AddPinOrSection', 'button triggering a flyout to create a pin or add a section'):s._('Create Pin', 'BoardPage.ActionBar.AddPin', 'button triggering a flyout to create a pin');return(0,E.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,E.jsx)(td.Z,{idealDirection:"up",isWithinFixedContainer:!0,onAddSection:e,onCreatePin:t,onCreateStoryPin:r,onOpen:tc(a),surface:n,children:({active:e,openFlyout:t})=>(0,E.jsxs)(o.xu,{color:"default",display:"inlineBlock",rounding:"circle",children:[(0,E.jsx)(o.xG,{ref:l,accessibilityExpanded:e,accessibilityLabel:d,accessibilityPopupRole:"dialog",icon:"add",onClick:t,selected:e,tooltip:{text:d}}),(0,E.jsx)(tl.Z,{anchors:{3006:l.current},idealDirection:"up",placementId:18})]})})})}var th=r(549629),tp=r(623501);let t_=tp.HW+1;function tm({handleGoBack:e,hideSensitivityScreen:t,sensitivityScreenAuxData:r}){let i=(0,U.ZP)();return(0,th.Q)({component:13860,view_type:5,aux_data:r}),(0,E.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)"}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new o.Ry(t_),children:(0,E.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:260}},children:(0,E.jsxs)(o.kC,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,E.jsx)(o.X6,{align:"center",color:"light",children:i._('This board may contain sensitive content', 'boardPageContainer.sensitivityScreen.heading', 'Warning text on board that may have sensitive content')}),(0,E.jsxs)(o.kC,{gap:{row:6,column:0},children:[(0,E.jsx)(o.zx,{color:"red",onClick:e,size:"lg",text:i._('Go back', 'boardPageContainer.sensitivityScreen.backButton', 'Text on button that lets user go back to previous page')}),(0,E.jsx)(o.zx,{color:"white",onClick:t,size:"lg",text:i._('View anyway', 'boardPageContainer.sensitivityScreen.viewButton', 'Text on button that lets user past sensitivity screen')})]}),(0,E.jsx)(o.xu,{paddingY:4,children:(0,E.jsx)(o.xv,{align:"center",color:"light",overflow:"normal",size:"200",children:(0,H.nk)(i._('If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the "..." button at the bottom of any Pin', 'boardPageContainer.sensitivityScreen.text', 'Text telling user how to report a Pin'),{communityGuidelines:(0,E.jsx)(o.xv,{color:"light",inline:!0,size:"200",underline:!0,children:(0,E.jsx)(o.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",underline:"hover",children:i._('Community Guidelines', 'boardPageContainer.sensitivityScreen.communityGuidelines', 'Text that links to the community guidelines page')})})})})})]})})})}var tg=r(527700),tf=r(622888),tb=r(828763),ty=r(5859),tv=r(161672),tx=r(734513),tw=r(761203);let tP=(0,i.forwardRef)((e,t)=>{let[r,n]=(0,i.useState)(!1),{boardTool:s,boardId:l,boardSectionId:d,index:c}=e,{icon:u,link:p,text:_}=s,{isRTL:m}=(0,ty.B)(),{logContextEvent:g}=(0,h.v)(),{owner:f,pin_count:b,section_count:x}=(0,tw.gC)()(l)||{},w=(0,v.Z)(),P=w.isAuth?w.id:"",S=f?.id===P,C=S?3069:3070,A=e=>{p.includes("more-ideas")&&g({event_type:e,view_type:d?164:5,view_parameter:C,element:10600,aux_data:{board_id:l,board_pin_count:b,board_section_count:x,board_section_id:d,grid_index:c}})};(0,y.Z)(()=>A(120));let j=(0,i.useRef)(null),{setGroupBoardMessageButton:T}=(0,tx.b)(),{conversations:{showConversationsDropdown:I},conversationOpen:k,dropdownOpen:D,dropdownClose:R}=(0,tv.Z5)(),z=(0,a.TH)(),O=(0,eL.mB)(z.search),{conversation_id:B,tab:Z}=O,L="Message"===_&&!!B&&"inbox"===Z;return L&&T(j.current),(0,E.jsx)(o.Tg,{ref:L?j:t,accessibilityLabel:_,href:L?"":p,onBlur:()=>n(!1),onFocus:()=>n(!0),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onTap:()=>{L&&(A(102),I?R():(D(),k(B)))},rounding:6,children:(0,E.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,E.jsx)(o.xu,{alignItems:"center",alignSelf:"center",color:r?"lightWash":"secondary",display:"flex",height:88,justifyContent:"center",rounding:6,width:88,children:(0,E.jsx)(o.JO,{accessibilityLabel:_,color:"default",icon:"text-align-left"===u&&m?"text-align-right":u,size:30})}),(0,E.jsx)(o.xu,{paddingY:1,width:88,children:(0,E.jsx)(o.xv,{align:"center",overflow:"normal",size:"100",weight:"bold",children:_})})]})})});function tS({boardId:e,sectionId:t}){let r=(0,i.useRef)(),n=(0,i.useRef)(),a=(0,i.useRef)(),s=(0,i.useRef)(),{anyEnabled:l}=(0,g.F)().checkExperiment("web_m10n_business_access_orbac_ga"),d=(0,ed.Z)(),c=!!t,{data:u,isLoaded:h}=(0,eb.Z)({name:c?"SectionToolsFeedResource":"BoardToolsFeedResource",options:c?{sectionId:t,orbacSubjectId:l?d:""}:{boardId:e,orbacSubjectId:l?d:""}});if(h&&(!u||!u.length))return null;let p=[r,n,a,s],_=u?.filter(({tool:e})=>!(l&&d)||2===e),m=_?.map(({id:e})=>{let t=e.split("-");return t&&t.length>1?Number(t[1]):-1});return h&&_?.length?(0,E.jsx)(o.xu,{"data-test-id":"board-tools",children:(0,E.jsxs)(o.kC,{alignItems:"start",justifyContent:"center",width:"100%",children:[_.map((r,i)=>{let n=m?m[i]:-1;return(0,E.jsx)(o.xu,{"data-test-id":r.text,padding:1,children:(0,E.jsx)(tP,{ref:p[n],boardId:e,boardSectionId:t,boardTool:r,index:i})},r.id)}),(0,E.jsx)(tl.Z,{anchors:{3003:r.current,3004:n.current,3005:a.current,3007:s.current},placementId:18,positionRelativeToAnchor:!1})]})}):null}function tC(e){let t=(0,U.ZP)(),{boardUrl:r="",onHide:i,slug:n}=e;return(0,E.jsx)(eS.ZP,{duration:2e3,href:`${r}${n}`,onHide:i,text:t._('Section added!', 'Toast for successfully creating a new board section', 'Toast for successfully creating a new board section')})}tP.displayName="BoardTool";let tA=()=>{},tE=(0,_.Z)(18,e=>({board_id:e.board.id,pin_count:e.board.sectionless_pin_count??0}))(function({board:e,experience:t,initialModalType:r,refreshBoardData:_=tA,refreshSectionData:C=tA,setPlacementExtraContext:A,section:j,showPulsar:T}){let{logContextEvent:I}=(0,h.v)(),k=(0,n.useDispatch)(),F=(0,p.Z)(),{setFooterPlusButtonVisible:H}=(0,S.I)(),$=(0,v.Z)(),G=(0,x.Z)(),W=(0,R.W$)($,e),{collaborated_by_me:K,id:q,owner:Y,pending_ownership_transfer:X,pin_count:J,privacy:Q}=e,ee=Y?.id||"",er=(0,w.q6)($,ee,G),ei=(0,u.Z)(K,ee,$)||er,en=$.isAuth&&$.id===X,{checkExperiment:ea}=(0,g.F)(),eo=!ei&&ea("web_board_sensitivity_screen").anyEnabled,es=(0,w.lJ)($,G),ec=es&&(0,c.Z)(Q)?`?orbac_subject_id=${es}`:"",eu=(0,l.Z)(!0);(0,i.useEffect)(()=>{let t="other";W?t="own":(0,R.Df)($,e)&&(t="collaborator"),A({board_ownership:t})},[t]),(0,i.useEffect)(()=>(ei&&H(!1),()=>{H(!0)}),[H,ei]);let{showOneToast:eh}=(0,b.F9)(),ep=(0,a.k6)(),{previous:e_}=(0,m.Hv)(),em=0===e_.length;!function(){let e=(0,V.x)(),t=(0,v.Z)(),r=(0,eb.Z)({name:"UserMetadataResource",options:{user:t}});(0,i.useEffect)(()=>{if(r&&r.data&&!e?.boardPinDensity){let{profile_pin_rep_view_type:t}=r.data;e?.setBoardPinDensity(t??"regular")}})}();let{handleShowMergeSectionsConfirmationModal:eg,mergeConfirmationModalProps:ef,onConfirm:ey}=(0,N.Z)({board:e}),ev=function(){let e=(0,U.ZP)(),{logContextEvent:t}=(0,h.v)(),r=(0,n.useDispatch)(),{showBlockingActionToast:i}=(0,tb.Z)(),a=(0,ed.Z)();return({board:n,targetBoard:o})=>{t({event_type:7172,object_id_str:n.id,aux_data:{merge_flow:"menu"}}),r((0,Z.xH)(n.id,o.id,a)).then(()=>{i({actionType:"merge",board:o})}).catch(t=>{tf.Z.showError(t.message||e._('Failed to merge boards', 'Error message when failed to merge boards', 'Error message when failed to merge boards'))})}}(),ex={board_id:e.id,reason:e.sensitivity_screen?.reason||""},[ew,eP]=(0,i.useState)(!!e.sensitivity_screen?.show_warning&&eo),[eS,eC]=(0,i.useState)(null),[eA,eE]=(0,i.useState)(r||null),[ej,eT]=(0,i.useState)(null),[eI,ek]=(0,i.useState)(e&&(0,z.VV)($,e)||"custom"),eD=()=>eE(M.s.boardArchiveConfirmation),eR=()=>eE(M.s.boardUnarchiveConfirmation),ez=()=>{let e=$.isAuth?`/${(0,w.Ms)($,G)}`:"/";ep.replace(e)},eO=e=>{if(F){F();return}eE(M.s.editSection),eC(e)},eB=t=>{eh(({hideToast:r})=>(0,E.jsx)(tC,{boardUrl:e.url,onHide:r,slug:t.slug??""}))},eZ={board_id:e.id,board_pin_count:J};return(0,y.Z)(()=>{let{shouldOpenCollaboratorsModal:e}=ep.location.state||Object.freeze({});e&&(eE(M.s.collaboratorsAndPermissions),ep.replace({...ep.location,state:{...ep.location.state,shouldOpenCollaboratorsModal:!1}}))}),(0,E.jsx)(P.Z,{objectIdStr:q,viewParameter:W?3069:3070,viewType:5,children:(0,E.jsx)(f.Z,{auxData:eZ,objectId:q,view:5,viewParameter:(0,et.Z)({board:e,viewer:$}),children:(0,E.jsxs)(i.Fragment,{children:[(0,E.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:ew?{filter:"blur(30px)"}:{}},children:[e.is_temporarily_disabled?(0,E.jsx)(tg.Z,{board:e,boardName:e.name||"",handleShowBoardArchiveConfirmation:eD,handleShowBoardUnarchiveConfirmation:eR,isOwnerOrCollaborator:ei,showOverflowButton:ei}):(0,E.jsxs)(i.Fragment,{children:[(0,E.jsx)(ta,{board:e,handleBoardEditClick:()=>{I({event_type:101,element:10845,component:13216,view_type:5,view_parameter:3069}),eE(M.s.boardEdit)},handleFollowersClick:()=>{eE(M.s.followers)},handleSectionEditClick:()=>eO(),handleShowBoardArchiveConfirmation:eD,handleShowBoardUnarchiveConfirmation:eR,handleShowCollabAndPermissionsModal:()=>eE(M.s.collaboratorsAndPermissions),handleShowCreatePincodeModal:()=>{if(F){F();return}I({event_type:101,element:10781,component:13217,view_type:5,view_parameter:3069}),eE(M.s.pincode)},handleShowMergeModal:()=>{if(F){F();return}eE(M.s.mergeBoard)},section:j,showPulsar:T}),ei&&(0,E.jsx)(o.xu,{marginBottom:6,marginTop:6,children:(0,E.jsx)(tS,{boardId:e.id,sectionId:j?.id})}),en&&(0,E.jsx)(ts,{boardId:e.id,collaboratorId:$.isAuth?$.id:"",collaboratorUsername:$.isAuth?$.username:""}),eA!==M.s.jumpstartBoard&&(0,E.jsx)(f.Z,{auxData:eZ,component:178,objectId:e.id,view:5,viewParameter:W?3069:3070,children:(0,E.jsx)(el,{board:e,currentView:eI,handleContentViewChange:e=>ek(e),handleSetCurrentModal:eE,handleShowEditSectionModal:eO,handleShowMergeSectionsConfirmationModal:eg,isOwnBoard:W,isOwnerOrCollaborator:ei,isPinGridSorted:"custom"!==eI,refreshBoardData:_,refreshSectionData:C,section:j})}),(0,E.jsx)(D,{boardId:e.id,handleShowArchiveConfirmation:eD,handleShowGroupPinsModal:(e,t)=>{eE(M.s.groupPins),eT({clusterId:e,suggestedSectionName:t})}}),ei&&(0,E.jsx)(tu,{handleAddSection:()=>{if(F){F();return}I({event_type:101,element:10779,component:13217,view_type:5,view_parameter:3069}),eE(M.s.simpleCreateSection)},handleCreatePin:()=>{if(F){F();return}I({component:13217,element:10643,event_type:101,view_parameter:3069,view_type:5}),ep.push({pathname:"/pin-builder/",state:{board:e,boardSection:j}})},handleCreateStoryPin:()=>{if(F){F();return}I({aux_data:{entry_type:"board_plus_button"},component:13217,element:10949,event_type:101,view_parameter:3069,view_type:5}),ep.push({pathname:(0,s.Z)(eu),state:{board:e,entry_type:"board_plus_button",boardSection:j}})},surface:j?"section":"board"})]}),eA&&(0,E.jsx)(L.Z,{actions:{completeCreateSectionAction:e=>{if(F){F();return}eE(null),eB(e)},onBoardArchiveChange:()=>{k((0,Z.K8)($.isAuth?$.username:""))},onBoardDelete:()=>{_(),ez()},onBoardLeave:()=>{k((0,Z.K8)($.isAuth?$.username:"")),ez()},onBoardMerge:t=>{ev({board:e,targetBoard:t}),ez()},onBoardSectionDelete:()=>{if(eC(null),eE(null),j){let t=e.url??"";ep.replace(`${t}${ec}`)}},onBoardSectionSave:({slug:t})=>{if(eC(null),eE(null),j){let r=`${e.url??""}${t}/${ec}`;ep.replace(r)}},onConfirmMergeSection:ey},board:e,boardSection:j||eS,currentModal:eA,groupPinsData:ej,mergeConfirmationModalProps:ef,onClearModal:()=>eE(null)}),(0,E.jsx)(O.Z,{placementId:18}),(0,E.jsx)(B.Z,{placementId:18}),(0,E.jsx)(d.Z,{placementId:18})]}),ew&&(0,E.jsx)(tm,{handleGoBack:()=>{I({event_type:101,component:13860,element:73,view_type:5,aux_data:{...ex}}),em&&ep.replace("/"),ep.goBack()},hideSensitivityScreen:()=>{k((0,Z.of)(e.id)),I({event_type:101,component:13860,element:12448,view_type:5,aux_data:{...ex}}),eP(!1)},sensitivityScreenAuxData:ex})]})})})})},805579:(e,t,r)=>{"use strict";r.d(t,{k:()=>a,s:()=>o});var i=r(667294);let n=(0,i.createContext)(Object.freeze({})),a=n.Provider;function o(){return(0,i.useContext)(n)}},527700:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(883119),n=r(827265),a=r(140017),o=r(339001),s=r(182160),l=r(785893);function d({board:e,boardName:t,handleShowBoardArchiveConfirmation:r,handleShowBoardUnarchiveConfirmation:d,isOwnerOrCollaborator:c,showOverflowButton:u}){let h=(0,a.ZP)(),p=()=>{};return(0,l.jsx)(i.xu,{height:"100%",width:"100%",children:(0,l.jsxs)(i.kC,{alignItems:"center",direction:"column",children:[(0,l.jsx)(i.xu,{marginTop:4,children:(0,l.jsxs)(i.kC,{alignItems:"center",direction:"row",gap:4,children:[u&&(0,l.jsx)(i.xu,{width:44}),(0,l.jsx)(i.X6,{align:"center",children:t}),u&&!!e&&!!r&&!!d&&(0,l.jsx)(i.xu,{marginTop:2,children:(0,l.jsx)(s.Z,{board:e,onArchiveClick:r,onCreatePincode:p,onEditBoardClick:p,onEditSectionClick:p,onMergeClick:p,onUnarchiveClick:d,showArchiveOnly:!0,showCreatePinCodeOption:!1,surface:"board"})})]})}),(0,l.jsx)(i.xu,{height:105}),(0,l.jsxs)(i.kC,{alignItems:"center",direction:"column",gap:8,children:[(0,l.jsx)(i.xu,{"aria-hidden":!0,color:"default",height:160,width:160,children:(0,l.jsx)(i.Ee,{alt:"",naturalHeight:1,naturalWidth:1,src:n})}),(0,l.jsxs)(i.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,l.jsx)(i.X6,{align:"center",size:"400",children:h._('Sorry, this board is currently unavailable', 'temporarilyDisabledBoard.unavailableText', 'Unavailable board text')}),c&&(0,l.jsx)(i.xv,{children:(0,o.nk)(h._('Learn more about some of our {{ recentUpdates }}', 'temporarilyDisabledBoard.descriptionText', 'text explaining why board is unavailable. recentUpdates:link to recent privacy policy updates'),{recentUpdates:(0,l.jsx)(i.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/teen-safety-options",target:"blank",underline:"always",children:h._('recent updates', 'temporarilyDisabledBoard.link', 'Text for link to view teen safety options')},"helpLink")})})]})]})]})})}},693138:(e,t,r)=>{"use strict";r.d(t,{Ac:()=>a,c7:()=>n,cg:()=>i});let i=-1,n=5,a=6},254305:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(551539);function n({board:e,viewer:t}){return(0,i.Z)(t,e.owner?.id)?3069:3070}},730006:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});var i=r(693138);function n(e,t,r,n,a){let{owner:o}=e,s=o?.id===t.id,l="react_grid_pin";return t.isPartner&&s&&(l="partner_react_grid_pin"),{board_id:e.id,board_url:e.url??"",currentFilter:n,field_set_key:l,filter_section_pins:!n||n===i.cg,sort:"most_reactions"===r?"most_reactions":"default",layout:e.layout??"",page_size:25,redux_normalize_feed:!0,...a?{orbac_subject_id:a}:Object.freeze({})}}},747794:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(883119),n=r(785893);function a({children:e,setMaxWidth:t=!0}){return(0,n.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:t?(0,n.jsx)(i.xu,{maxWidth:774,paddingX:2,width:"100%",children:e}):(0,n.jsx)(i.xu,{width:"100%",children:e})})}},313669:(e,t,r)=>{"use strict";r.d(t,{Z:()=>V});var i=r(667294),n=r(883119),a=r(892254),o=r(596867),s=r(718545),l=r(67288),d=r(676554),c=r(891162);let u=e=>null===e,h=e=>e?164:5,p=e=>"story"===e.type&&["recommended_searches","search_related_queries","BUBBLE_ONE_COL"].includes(e.story_type),_=(e,t)=>e+(e>=t?1:0),m=(0,c.Q6)(e=>e);var g=r(785893);function f(e){let{allowReordering:t,auxData:r,boardSectionId:i,gridItem:n,handlePinDragBegin:a,handlePinDragEnd:c,handlePinDragHover:u,index:p,lfvExperiences:_,onBulkEditPinClick:m,source:f,target:b,viewParameter:y}=e,{inBulkEditMode:v,isCollaborator:x,isGroupBoard:w,isOwnBoard:P,isSelected:S,itemKey:{id:C}}=n,A=b===p,E={pinId:C,duploQueryRef:null,imageOnlyOption:!P&&(0,l.Z)(_)?"image-only":"default",attributionOption:w?"show":"hide",pinImageCrop:"none",authDesktopSurface:v?"BulkEditMode":"BaseBoardPinGrid",slotIndex:p,viewParameter:y,viewType:h(i),auxData:r};if(!P&&!x)return(0,g.jsx)(d.ZP,{...E});let j="no-selection";v&&(j=S?"selected":"deselected");let T=(0,g.jsx)(d.ZP,{...E,authDesktopSelectionState:j,disableHover:-1!==f||v});return v&&(T=(0,g.jsx)(o.Z,{isSelected:S,onClick:()=>m(C),children:T})),t&&(T=(0,g.jsx)(s.Z,{index:p,isDragging:A,onDragBegin:a,onDragEnd:c,onDragHover:u,type:s.y.Pin,children:T})),T}var b=r(214877),y=r(776569),v=r(970521),x=r(107366),w=r(775089),P=r(213377),S=r(140017),C=r(340523),A=r(493538),E=r(466385),j=r(830889),T=r(35222),I=r(422827);function k({isSection:e}){let t=(0,S.ZP)(),r=e?t._('There aren\u2019t any Pins in this section yet', 'EmptyBoard.EmptyText.section', 'Statement that there are no pins in the section'):t._('There aren\u2019t any Pins on this board yet', 'EmptyBoard.EmptyText.board', 'Statement that there are no pins on the board');return(0,g.jsx)(I.Z,{children:(0,g.jsx)(n.xu,{"data-test-id":"empty-text",paddingY:8,children:(0,g.jsx)(n.xv,{color:"default",size:"300",children:r})})})}function D({hasSections:e,isSection:t}){return(0,g.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:!t&&e?null:(0,g.jsx)(k,{isSection:t})})}var R=r(180338),z=r(821419),O=r(402287),B=r(64819),Z=r(937310),L=r(299351);function M(e){let{boardSectionId:t,gridItem:r,index:i,paddingBottom:a,renderPinItem:o,viewParameter:s}=e,{itemKey:l}=r,d=null;switch(l.type){case"story":d=(0,g.jsx)(L.Z,{slot:i,storyId:l.id,viewParameter:s,viewType:h(t)});break;case"pin":d=(0,g.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:a}},children:o(r,i)});break;default:d=null}return(0,g.jsx)(n.xu,{children:d},`${l.type}:${l.id}`)}var N=r(507584);let F=(0,N.Z)(s.y.Pin)(function(e){let{allowReordering:t,children:r,connectDropTarget:i,index:n,isDragWithinBounds:a}=e;return t&&i?i((0,g.jsx)("div",{style:{opacity:-1===n||a?1:.5},children:r})):r});function U(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class H extends i.Component{constructor(...e){super(...e),U(this,"state",{reorderSource:-1,reorderTarget:-1}),U(this,"handlePinAdded",e=>{let{board:t,boardSectionId:r,dispatch:i}=this.props;e===t.id&&(i((0,z.xQ)(t.id)),r&&i((0,O.CE)(r)))}),U(this,"handlePinDragBegin",e=>this.setState({reorderSource:e})),U(this,"handlePinDragHover",e=>{let{reorderTarget:t}=this.state;e!==t&&this.setState({reorderTarget:e})}),U(this,"handlePinDragEnd",e=>{let{board:t,boardSectionId:r,dispatch:i,feed:n,viewParameter:a,orbacSubjectId:o}=this.props,{reorderSource:s,reorderTarget:l}=this.state;if(n&&e&&-1!==l&&-1!==s&&l!==s){let e=this.hiddenItemIndex,[d,c]=-1===e?[s,l]:[_(s,e),_(l,e)],u=(0,E.Z)(n,d,c),p=n[d].id;i((0,B._f)({feedType:r?Z.Z.BOARD_SECTION_PINS:Z.Z.BOARDFEED,feedId:r||t.id,itemType:"pin",targetItemId:n[c].id,sourceItemId:n[d].id}));let m=u.filter(e=>"pin"===e.type).map(e=>e.id),g=m.indexOf(p),f=g-1,b=g+1,y={pin:p};f>=0&&f<m.length&&(y={...y,before_pin:m[f]}),b>=0&&b<m.length&&(y={...y,after_pin:m[b]}),o&&(y={...y,orbac_subject_id:o}),(0,x.Z)({url:`/v3/boards/${t.id}/reorder_pin/`,method:"POST",data:y}).then(()=>this.props.logContextEvent({event_type:7122,object_id_str:p,view_type:h(r),view_parameter:a}))}this.setState({reorderSource:-1,reorderTarget:-1})}),U(this,"handleFetchMore",()=>{let{resource:{fetchMore:e,isAtEnd:t,isFetching:r}}=this.props;t||r||e()}),U(this,"renderPinItem",(e,t)=>{let{lfvExperiences:r,onBulkEditPinClick:i,viewer:n,viewParameter:a,boardSectionId:o,board:s}=this.props,{reorderSource:l,reorderTarget:d}=this.state,c={board_id:s.id,board_pin_count:s.pin_count};return(0,g.jsx)(f,{allowReordering:this.allowReordering,auxData:c,boardSectionId:o,gridItem:e,handlePinDragBegin:this.handlePinDragBegin,handlePinDragEnd:this.handlePinDragEnd,handlePinDragHover:this.handlePinDragHover,index:t,lfvExperiences:r,onBulkEditPinClick:i,source:l,target:d,viewer:n,viewParameter:a})})}componentDidMount(){let{feed:e,resource:{isFetching:t,refresh:r}}=this.props;u(e)&&!t&&r()}componentDidUpdate(e){let{feed:t,resource:{isFetching:r,refresh:i}}=this.props,n=u(t)&&!u(e.feed);n&&!r&&i()}get allowReordering(){let{board:{collaborated_by_me:e=!1},isOwnBoard:t,isPinGridSorted:r}=this.props;return!r&&(t||e)}get hiddenItemIndex(){let{denseViewSelected:e,feed:t}=this.props;return e?(t||[]).findIndex(p):-1}render(){let{bulkEditSelectedPins:e,board:t,boardSectionId:r,feed:a,feedStoryId:o,footerStoryId:s,denseViewSelected:l,hasSimplifiedPinGridExpLoaded:d,inBoardOrganizationMode:c,inSectionOrganizationMode:u,isDragWithinBounds:h,inSelectAll:p,renderFooterStory:_,renderMoreIdeas:f,resource:{isAtEnd:b,isFetching:v,refresh:x,isLoaded:S},isOwnBoard:C,refreshFilteredFeed:j}=this.props,{access:T,collaborated_by_me:I=!1,collaborator_count:k=0,section_count:z}=t,{reorderSource:O,reorderTarget:B}=this.state;if(!a||!a.find(e=>"pin"===e.type))return v?(0,g.jsx)(n.$j,{accessibilityLabel:this.props.i18n._('Board Pins grid', ' - ', ' -- '),show:!0}):(S&&a&&0===a.length&&j&&j(),I&&!a?.length&&(t.pin_count||0)>0&&x(),(0,g.jsxs)(i.Fragment,{children:[S&&a&&0===a.length&&(0,g.jsx)(D,{hasSections:!!z,isSection:!!r}),_&&s&&_(s),f&&o&&f(o)]}));let{allowReordering:Z}=this,L=Z&&O!==B&&-1!==O&&-1!==B,N=a||[],{hiddenItemIndex:U}=this;if(-1!==U&&(N=[...N.slice(0,U),...N.slice(U+1)]),L&&(N=(0,E.Z)(N,O,B)),!N.length)return(0,g.jsx)(n.$j,{accessibilityLabel:this.props.i18n._('Board Pins grid', ' - ', ' -- '),show:!0});let H={inBulkEditMode:c||u,inDenseView:l||!1,isGroupBoard:k>0,userCanEdit:(T||[]).includes("write"),isOwnBoard:C,isCollaborator:I},$=N.map(e=>m({...H,itemKey:e}));return(0,g.jsx)(R.H,{value:{onPinCreate:({boardId:e})=>this.handlePinAdded(e)},children:(0,g.jsxs)(n.xu,{"data-test-id":"base-board-pin-grid",minHeight:l?800:"",children:[(0,g.jsx)(F,{allowReordering:Z,index:B,isDragWithinBounds:h,children:d&&(0,g.jsx)(A.Z,{isAtEndOfFeed:b,itemCount:$.length,children:(0,g.jsx)(w.default,{columnWidth:l?P.Lo:P.yF,gutterWidth:l?2*P.$H/3:void 0,isFetching:v,items:$,layout:"basic",loadItems:this.handleFetchMore,renderItem:({data:t,itemIdx:r})=>{let{inBulkEditMode:i}=H,a="pin"===t.itemKey.type&&!!e?.includes(t.itemKey.id);return(0,g.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:l?-10:0}},children:(0,g.jsx)(M,{boardSectionId:this.props.boardSectionId,gridItem:{...t,isSelected:i&&(p?!a:a)},index:r,paddingBottom:this.props.denseViewSelected?6:0,renderPinItem:this.renderPinItem,viewParameter:this.props.viewParameter})})}},`${String(l)}-${String(c)}-${String(u)}`)})}),Z&&-1!==O&&(0,g.jsx)(y.Z,{}),(v||!d)&&(0,g.jsx)(n.xu,{paddingY:3,position:"relative",children:(0,g.jsx)(n.$j,{accessibilityLabel:this.props.i18n._('Loading Board Feed', ' - ', ' -- '),show:!0})}),b&&s&&_&&_(s),b&&o&&f&&f(o)]})})}}let $=(0,v.Z)(1000182)(function(e){let{logContextEvent:t}=(0,b.v)(),r=(0,S.ZP)(),{checkExperiment:n}=(0,C.F)(),{anyEnabled:o}=n("web_m10n_business_access_orbac_ga"),s=(0,T.Z)(),{hasSimplifiedPinGridExpLoaded:l}=(0,a.$)(),d=(0,j.Z)(),{board:c,boardSectionId:u,isOwnBoard:h,resource:p}=e;return(0,i.useEffect)(()=>{p.isAtEnd&&t({event_type:15145,view_type:u?164:5,view_parameter:h?3069:3070,aux_data:{board_id:c.id,board_pin_count:c.pin_count,board_section_id:u,board_section_count:c.section_count}})},[c,u,h,t,p]),(0,g.jsx)(H,{...e,hasSimplifiedPinGridExpLoaded:l,i18n:r,lfvExperiences:d,logContextEvent:t,orbacSubjectId:o?s:""})});$.displayName="BaseBoardPinGrid";let V=$},60352:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i=r(702664),n=r(995917),a=r(149722),o=r(785059),s=r(199677),l=r(281871),d=r(937310),c=r(313669),u=r(163215),h=r(653585),p=r(785893);function _(e){let t=(0,a.Z)(),r=(0,o.Z)(),_=(0,s.lJ)(t,r),m=(0,n.Z)({name:"BoardSectionPinsResource",options:function(e,t,r,i=""){return{currentFilter:r,field_set_key:"react_grid_pin",is_own_profile_pins:t,page_size:25,redux_normalize_feed:!0,section_id:e,orbac_subject_id:i}}(e.boardSectionId,e.isOwnBoard,e.currentFilter,_)}),g=(0,n.Z)({name:"BoardsResource",options:(0,l.Z)(e.viewer.username,!0)}),f=(0,i.useSelector)(({feeds:t,desktopStories:r})=>(0,u.Z)(t[`${d.Z.BOARD_SECTION_PINS}:${e.boardSectionId}`],r));return(0,p.jsx)(c.Z,{...e,...f,boardsResource:g,renderMoreIdeas:t=>e.isOwnBoard?null:(0,p.jsx)(h.Z,{storyId:t}),resource:m})}_.displayName="BoardSectionPinGrid";let m=_},163215:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=(e,t)=>e?e.reduce(({feed:e,feedStoryId:r,footerStoryId:i},n)=>{let a="story"===n.type&&t[n.id]?.story_type,o="board_ideas_preview_detailed"===a,s="board_ideas_feed"===a;return{feed:e.concat(o||s?[]:[n]),footerStoryId:o?n.id:i,feedStoryId:s?n.id:r}},{feed:[],feedStoryId:void 0,footerStoryId:void 0}):{feed:e,feedStoryId:void 0,footerStoryId:void 0}},635842:(e,t,r)=>{"use strict";function i(e,t){let{url:r}=e,{slug:i}=t;return`${r??""}${i??""}/`}r.d(t,{Z:()=>i})},276552:(e,t,r)=>{"use strict";function i(e=""){return`${e}_tools/more-ideas/`}r.d(t,{Z:()=>i})},775265:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(667294),n=r(883119),a=r(676554),o=r(785893);function s({index:e,isSelected:t,pin:r,handlePinSelectionChanged:s}){let l=r.id,d=(0,i.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),s(l,!t)},[l,t]);return(0,o.jsx)(n.iP,{onTap:d,rounding:4,children:(0,o.jsx)(a.ZP,{attributionOption:"hide",authDesktopSelectionState:t?"selected-image-only":"deselected-image-only",authDesktopSurface:"SectionSuggestedPins",blockClickEvents:!0,duploQueryRef:null,pin:r,pinId:r.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},slotIndex:e})})}},654773:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var i=r(667294),n=r(702664),a=r(883119),o=r(214877),s=r(930837),l=r(140017),d=r(340523),c=r(995917),u=r(35222),h=r(821419),p=r(402287),_=r(430408),m=r(775265),g=r(971504),f=r(785893);function b({boardId:e,clusterId:t,handleAddClick:r,isBoardOrganizeFeed:b,onDismiss:y,suggestedSectionTitle:v}){let{logContextEvent:x}=(0,o.v)(),w=(0,l.ZP)(),P=(0,i.useRef)(null),[S,C]=(0,i.useState)([]),[A,E]=(0,i.useState)(v),j=(0,u.Z)(),{anyEnabled:T}=(0,d.F)().checkExperiment("web_m10n_business_access_orbac_ga"),{data:I,fetchMore:k,isFetching:D,isLoaded:R}=(0,c.Z)({name:"SectionSuggestionsPinsResource",options:{boardId:e,clusterId:t}}),z=b?3541:3069,O=(0,n.useDispatch)(),{setShowCreateSectionTooltip:B}=(0,g.L)()??{},Z=(0,i.useCallback)(()=>{if(I){let t=I.map(e=>e.id),i=t.length,n=t.filter(e=>!S.includes(e));r&&r(A),O((0,p.vB)({boardId:e,name:A},w,T?j:"",x)).then(t=>{O((0,_.Z)({inverseSelection:!1,selectedPinIds:n,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:t.id},...T&&j?{orbacSubjectId:j}:Object.freeze({})},w))}).then(()=>{O((0,h.Tq)(e,"pin_count",T?j:"")),x({event_type:8606,object_id_str:e,view_type:5,view_parameter:z,aux_data:{number_pins_suggested:i,number_pins_selected:n.length,section_title:A,suggested_section_name:v}}),y(),b||B(!0)})}},[S,A,I]),L=(e,t)=>{let r=[...S],i=r.indexOf(e);t&&-1!==i?r.splice(i,1):t||-1!==i||r.push(e),C(r)};return(0,f.jsx)(s.ZP,{accessibilityModalLabel:w._('Add suggested pins to your newly created section modal', 'sectionSuggestionPinsModal.modal.accessibilityLabelForModal', 'Accessibility label for modal'),allowScroll:!0,footer:(0,f.jsxs)(a.xu,{display:"flex",justifyContent:"end",paddingX:2,children:[(0,f.jsx)(a.xu,{display:"inlineBlock",marginEnd:2,children:(0,f.jsx)(a.zx,{onClick:()=>{y(),b||B(!0),x({event_type:8607,object_id_str:e,view_type:5,view_parameter:z,aux_data:{suggested_section_name:v}})},text:w._('Not now', 'sectionSuggestionPinsModal.footer.cancelButton', 'Cancel creating a board section')})}),(0,f.jsx)(a.xu,{display:"inlineBlock",children:(0,f.jsx)(a.zx,{color:"red",onClick:Z,text:w._('Add section', 'sectionSuggestionPinsModal.footer.addSectionButton', 'Add pins and section')})})]}),heading:w._('Pick your Pins and you\'re all set!', 'sectionSuggestionPinsModal.modal.heading', 'Heading for modal to add suggested pins to your newly created section'),onDismiss:y,size:704,children:(0,f.jsxs)(a.xu,{ref:P,maxHeight:600,maxWidth:704,overflow:"auto",children:[(0,f.jsxs)(a.xu,{padding:4,paddingX:2,children:[(0,f.jsx)(a.xv,{size:"200",children:w._('Section name', 'sectionSuggestionPinsModal.modal.sectionNameTitle', 'Title for section name')}),(0,f.jsx)(a.xu,{paddingY:2,children:(0,f.jsx)(a.nv,{id:"SectionSuggestionPinsTitle",onChange:({value:e})=>{E(e)},placeholder:w._('Add a name for this group', 'sectionSuggestionPinsModal.modal.sectionNameTitle.placeholder', 'Placeholder for section name'),size:"lg",value:A})})]}),R&&I&&(0,f.jsx)(a.Rk,{columnWidth:152,gutterWidth:16,items:I,loadItems:k,renderItem:({data:e,itemIdx:t})=>(0,f.jsx)(m.Z,{handlePinSelectionChanged:L,index:t,isSelected:!S.includes(e.id),pin:e}),scrollContainer:()=>P.current}),(0,f.jsx)(a.$j,{accessibilityLabel:w._('Loading pins', 'sectionSuggestionPinsModal.modal.spinner', 'Loading indicator'),show:D})]})})}},748599:(e,t,r)=>{"use strict";r.d(t,{P:()=>u,i:()=>h});var i=r(883119),n=r(388769),a=r(140017),o=r(72461),s=r(339001),l=r(5859),d=r(785893);let c=({bold:e=!1,count:t,shortform:r=!1,size:a="200",text:o})=>(0,d.jsx)(i.xu,{children:(0,d.jsxs)(i.xv,{align:"center",color:"default",size:a,weight:e?"bold":"normal",children:[(0,d.jsx)(n.Z,{shortform:r,value:t})," ",o]})}),u=({bold:e,count:t,onClick:r,shortform:n,size:o})=>{let s=(0,a.ZP)();return(0,d.jsx)(i.xu,{children:(0,d.jsx)(i.iP,{onTap:r,children:(0,d.jsx)(c,{bold:e,count:t,shortform:n,size:o,text:s.ngettext('follower', 'followers', t, 'label for n follower(s)', 'label for n follower(s)')})})})},h=({count:e,size:t})=>{let r=(0,a.ZP)(),{locale:n}=(0,l.B)(),c=(0,o.Z)(),u=(0,s.nk)(r.ngettext('{{ count }} Pin', '{{ count }} Pins', e, 'profile.ProfilePage.board.BoardCard.PinsCount', 'label for n amount of pins'),{count:c(n,e,{})});return(0,d.jsx)(i.xu,{children:(0,d.jsx)(i.xv,{color:"default",inline:!0,size:t,children:u})})}},971504:(e,t,r)=>{"use strict";r.d(t,{L:()=>s,M:()=>l});var i=r(667294),n=r(342513),a=r(785893);let{Provider:o,useMaybeHook:s}=(0,n.Z)("CreateSectionTooltip");function l({children:e}){let[t,r]=(0,i.useState)(!1),n=(0,i.useMemo)(()=>({showCreateSectionTooltip:t,setShowCreateSectionTooltip:r}),[t]);return(0,a.jsx)(o,{value:n,children:e})}},182160:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i=r(667294),n=r(883119),a=r(214877),o=r(71024),s=r(140017),l=r(983983),d=r(553319),c=r(898233),u=r(785893);function h({board:e,onArchiveClick:t,onCreatePincode:r,onEditBoardClick:h,onEditSectionClick:p,onMergeClick:_,onUnarchiveClick:m,showArchiveOnly:g=!1,showCreatePinCodeOption:f,surface:b}){let y=(0,s.ZP)(),v=(0,i.useRef)(null),{logContextEvent:x}=(0,a.v)(),[w,P]=(0,i.useState)(!1),[S,C]=(0,i.useState)("boardOptions"),A=()=>{P(!1),C("boardOptions")},E={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:"board",url:e.url,ownerId:e.owner?.id},j=()=>{P(e=>!e),C("boardOptions")},T=!!e.archived_by_me_at,I=["section"===b?function({handleClose:e,onEditClick:t,setMenuType:r},i,n){let a=[{dataTestId:"edit-section-button",text:i._('Edit Section', 'BoardHeader.getSectionOptionsCategory.EditOption', 'Clickable text to enter board editing mode'),onClick:()=>{t(),e()}},{text:i._('Share', 'BoardHeader.getSectionOptionsCategory.ShareOption', 'Clickable text to show share options'),onClick:()=>{(0,d.Z)(n),r("boardShare")}}],o=i._('Section options', 'BoardHeader.getSectionOptionsCategory.OptionsCategory', 'Category of section options in section flyout');return{items:a,label:o}}({handleClose:A,onEditClick:p,setMenuType:C},y,x):function({handleClose:e,isArchived:t,onArchiveClick:r,onCreatePincode:i,onEditClick:n,onMergeClick:a,onUnarchiveClick:o,setMenuType:s,showCreatePinCodeOption:l,isAdOnlyPins:c},u,h,p){let _=p?[]:[{dataTestId:"editBoardButton",text:u._('Edit board', 'BoardHeader.BoardOptionsFlyout.EditOption', 'Clickable text to enter board editing mode'),onClick:()=>{n(),e()}},{text:u._('Share', 'BoardHeader.BoardOptionsFlyout.ShareOption', 'Clickable text to show share options'),onClick:()=>{(0,d.Z)(h),s("boardShare")}}];c||_.push({text:u._('Merge', 'BoardHeader.BoardOptionsFlyout.MergeOption', 'Clickable text to open merge board modal'),onClick:()=>{a(),e()}}),t?_.push({text:u._('Unarchive', 'BoardHeader.BoardOptionsFlyout.UnarchiveOption', 'Clickable text to open unarchive modal'),onClick:()=>{o(),e()}}):_.push({text:u._('Archive', 'BoardHeader.BoardOptionsFlyout.ArchiveOption', 'Clickable text to open archive modal'),onClick:()=>{r(),e()}}),l&&!p&&_.push({text:u._('Create Pincode', 'BoardHeader.BoardOptionsFlyout.PincodeOption', 'Clickable text to trigger Pincode modal'),onClick:()=>{i(),e()}});let m=u._('Board options', 'BoardHeader.BoardOptionsFlyout.OptionsCategory', 'Category of board options in board flyout');return{items:_,label:m}}({handleClose:A,isArchived:T,onArchiveClick:t,onCreatePincode:r,onEditClick:h,onMergeClick:_,onUnarchiveClick:m,setMenuType:C,showCreatePinCodeOption:f,isAdOnlyPins:e.is_ads_only},y,x,g)];return(0,u.jsxs)(n.xu,{position:"relative",zIndex:new n.Ry(l.fe-1),children:[(0,u.jsx)(n.xu,{ref:v,"data-test-id":"more-board-options",children:(0,u.jsx)(n.hU,{accessibilityLabel:y._('More Board options', 'BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel', 'Accessibility label on icon button'),bgColor:"lightGray",icon:"ellipsis",iconColor:"darkGray",onClick:j,selected:w,size:"sm"})}),(0,u.jsx)(o.Z,{anchors:{3001:v.current},onCompleteByAnchor:{3001:j},placementId:18}),w&&("boardOptions"===S?(0,u.jsx)(n.Lt,{anchor:v.current,disableMobileUI:!0,id:"board_options",onDismiss:A,children:I.map(({items:e,label:t})=>(0,u.jsx)(n.Lt.Section,{label:t,children:e.map(({dataTestId:e,isSelected:t,onClick:r,text:i})=>(0,u.jsx)(n.Lt.Item,{dataTestId:e,onSelect:r,option:{label:i,value:i},selected:t?{label:i,value:i}:null},i))},t))}):(0,u.jsx)(n.J2,{anchor:v.current,onDismiss:A,size:"flexible",children:(0,u.jsx)(c.Z,{component:13216,onCreatePincodeClick:r,onHide:A,sendType:"board",sharedObject:E,viewType:5})}))]})}},259078:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=({boardCollaboratorCount:e,collaborators:t})=>{let r=e?e+1:t.length,i=r>3,n=t.slice(0,i?2:3),a=i?r-n.length:0;return{displayedCollaborators:n,nonDisplayedCollaboratorCount:a}}},422827:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(883119),n=r(785893);function a({children:e}){return(0,n.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:e})}},653585:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(702664),n=r(240684),a=r(785893);let o=(0,n.ZP)({resolved:{},chunkName:()=>"app-www-BoardMoreIdeasPage-MoreIdeasTabContentPageDefault",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(97270),r.e(83119),r.e(18002),r.e(72006)]).then(r.bind(r,487087)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return r(t)},resolve:()=>487087});function s({storyId:e}){let t=(0,i.useSelector)(t=>t.desktopStories[e]),r=t&&"board_ideas_feed"===t.story_type?t:void 0;return r?(0,a.jsx)(o,{surface:"board"}):null}},915625:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i,n=r(702664);r(167912);var a=r(883119),o=r(214877),s=r(207012),l=r(140017),d=r(334688),c=r(886612),u=r(785893);let h=void 0!==i?i:i=r(106622);function p({pin:e}){return(0,u.jsx)(a.zd,{rounding:4,width:138,children:(0,u.jsx)(c.Z,{height:207,pin:e&&{imageUrl:e.imageSpec_474x?.url??"",dominantColor:e.dominantColor??"",description:e.description??""},width:138})})}function _({collection:e,storyKey:t,url:r}){let{logContextEvent:i}=(0,o.v)(),n=(0,l.ZP)(),{isHovering:c,hoverHandlers:_}=(0,d.Z)(),m=(0,s.Z)(h,t);if(!m)return null;let g=m.objects&&m.objects.filter(e=>"pin"===e.type)||[];return(0,u.jsx)("div",{className:"moreIdeasOnBoard",children:(0,u.jsx)(a.Tg,{fullWidth:!1,href:`${r}?ideas_referrer=${m.referringSource??""}`,onMouseEnter:_.onMouseOver,onMouseLeave:_.onMouseLeave,onTap:()=>i({event_type:101,element:10600,view_type:"boardsection"===e.type?164:5,object_id_str:e.id,view_parameter:3069}),rounding:4,children:(0,u.jsxs)(a.xu,{alignItems:"start",color:c?"secondary":"default",direction:"column",display:"flex",justifyContent:"start",marginEnd:-3,paddingX:3,paddingY:2,rounding:4,width:"100%",children:[(0,u.jsx)(a.xu,{padding:2,children:(0,u.jsx)(a.X6,{lineClamp:1,size:"400",children:"boardsection"===e.type?n._('Find some ideas for this section:', 'Call-to-action text that upsells more ideas tab for an empty section', 'Call-to-action text that upsells more ideas tab for an empty section'):n._('Find some ideas for this board:', 'Call-to-action text that upsells more ideas tab for an empty board', 'Call-to-action text that upsells more ideas tab for an empty board')})}),(0,u.jsx)(a.xu,{display:"flex",justifyContent:"between",padding:2,width:"100%",children:[...[,,,,,].keys()].map(e=>{let t=g[e],r=t&&t.description?t.description.trim():"";return(0,u.jsx)(a.xu,{"data-test-id":r?"pin-with-alt-text":"pin-missing-alt-text",children:(0,u.jsx)(p,{pin:t})},`${t&&t.entityId?t.entityId:e}`)})})]})})})}function m(e){let t=(0,n.useSelector)(t=>t.desktopStories[e.storyId]),r="board_ideas_preview_detailed"===t.story_type?t:void 0;return(0,u.jsx)(_,{...e,storyKey:void 0!==r?{type:"deprecated",data:r}:null})}},54966:(e,t,r)=>{"use strict";function i({boardDensity:e,component:t,viewType:r},i){let n=function({boardDensity:e,viewType:t}){switch(t){case 164:return"regular"===e?10618:10619;case 5:return"regular"===e?10607:10608;default:return 10607}}({boardDensity:e,viewType:r}),a=4===r?3106:3069;i({event_type:101,component:t,element:n,...r?{view_type:r,view_parameter:a}:Object.freeze({})})}r.d(t,{Z:()=>i})},881157:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(216167);function n({density:e,surface:t}){let r="board"===t?{profile_pin_rep_view_type:e}:{board_pin_rep_view_type:e};i.Z.create("UserMetadataResource",r).callUpdate()}},886612:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(883119),n=r(140017),a=r(427514),o=r(785893);function s({pinCount:e,height:t,size:r}){let s=(0,n.ZP)(),l=(0,a.Z)(s._('+{{ pinCount }}', '+N count overlay on pin selections', '+N count overlay on pin selections'),{pinCount:e});return(0,o.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,.2)"}},display:"flex",height:t,justifyContent:"center",children:"sm"===r?(0,o.jsx)(i.xv,{color:"light",size:"200",weight:"bold",children:l}):(0,o.jsx)(i.X6,{color:"light",size:"500",children:l})})}function l({additionalPinCount:e,additionalPinCountSize:t="lg",pin:r,width:n,height:a,rounded:l}){return(0,o.jsx)(i.zd,{height:a,rounding:l?4:0,wash:!0,width:n,children:r&&(0,o.jsx)(i.Ee,{alt:r.description,color:r.dominantColor,fit:"cover",naturalHeight:a,naturalWidth:n,src:r.imageUrl,children:!!e&&(0,o.jsx)(s,{height:a,pinCount:e,size:t})})})}},915986:(e,t,r)=>{"use strict";r.d(t,{A3:()=>d,C1:()=>u,Cw:()=>_,Ev:()=>a,IK:()=>n,Jk:()=>l,Kx:()=>p,Oj:()=>o,PM:()=>m,VD:()=>h,bW:()=>s,kz:()=>c,p8:()=>g});var i=r(883119);let n=1,a=1,o=2,s=new i.Ry(5e3),l=15,d=15,c=18,u=24,h=31,p=30,_=40,m=50,g=60},553319:(e,t,r)=>{"use strict";function i(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}r.d(t,{Z:()=>i})},581349:(e,t,r)=>{"use strict";r.d(t,{W:()=>c,Z:()=>u});var i=r(883119),n=r(481177),a=r(140017),o=r(267508),s=r(319510),l=r(327540),d=r(785893);function c(e,t=""){let r=e&&e.length>1?RegExp(e,"i"):"",i=e&&e.length>1?t.split(r).reduce((r,i,n)=>{if(r.length>0&&e&&e.length){let a=t.toLowerCase().indexOf(e.toLowerCase());return r.concat((0,d.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(a,a+e.length)},n),i)}return[i]},[]):t;return i}let u=function(e){let t=(0,a.ZP)(),{disabled:r,item:u,isSection:h,isSelectMode:p,isWithinSectionPicker:_,saveState:m,searchQuery:g,selected:f}=e,b=h?null:u,y=h?u:null,v=y&&y.title||b&&b.name||"",x="",w=!1,P="",S=0;b&&({image_cover_url:x,is_collaborative:w,privacy:P,section_count:S=0}=b);let C=c(g,v),A=P===n.Z.BoardPrivacy.SECRET,E=!r&&(f||!!m),j=!_&&"number"==typeof S&&S>0,T="number"==typeof S&&S>0?"boardWithSection":"boardWithoutSection",I=p?t._('Select', 'Board select button label', 'Board select button label'):t._('Save', 'Pin save button label', 'Pin save button label');return(0,d.jsxs)(i.xu,{alignItems:"center",color:E?"secondary":"default","data-test-id":T,display:"flex",height:64,marginEnd:2,marginStart:2,marginTop:1,padding:2,rounding:3,children:[b&&(0,d.jsx)(i.xu,{color:"secondary",flex:"none",height:48,marginEnd:2,overflow:"hidden",rounding:2,width:48,children:x?(0,d.jsx)(i.Ee,{alt:t._('Board cover image', 'boardPickerRow.image.altText', 'alt text for a board cover image'),fit:"cover",naturalHeight:1,naturalWidth:1,src:x}):(0,d.jsx)("span",{})}),y&&!!y.preview_pins?.length&&(0,d.jsx)(s.Z,{image_url:y.preview_pins[0].image_square_url??"",naturalHeight:y.preview_pins[0].image_square_size_pixels?.height??1,naturalWidth:y.preview_pins[0].image_square_size_pixels?.width??1}),(0,d.jsxs)(i.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,d.jsx)(i.xv,{color:r?"subtle":"default",lineClamp:1,size:"300",weight:"bold",children:C}),(j||!E)&&(0,d.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[A&&(0,d.jsx)(l.Z,{type:"secret"}),w&&(0,d.jsx)(o.Z,{board:b,showCollaborativeIcon:w,useLegoLayout:!0}),j&&(0,d.jsx)(l.Z,{type:"sections"})]}),!j&&E&&!m&&(0,d.jsx)(i.xu,{alignItems:"center",color:"primary","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:(0,d.jsx)(i.xv,{color:"inverse",overflow:"normal",size:"300",weight:"bold",children:I})}),!j&&E&&"loading"===m&&(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,d.jsx)(i.$j,{accessibilityLabel:t._('Saving', 'Accessibility label for saving a pin to a board', 'Accessibility label for saving a pin to a board'),show:!0})})]})]})}},327540:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(883119),n=r(140017),a=r(785893);let o=function({type:e}){let t=(0,n.ZP)(),r={group:{accessibilityLabel:t._('group board', 'Board picker group board icon', 'Board picker group board icon'),icon:"people"},protected:{accessibilityLabel:t._('protected board', 'Board picker protected board icon', 'Board picker protected board icon'),icon:"protect"},secret:{accessibilityLabel:t._('secret board', 'Board picker secret board icon', 'Board picker secret board icon'),icon:"lock"},sections:{accessibilityLabel:t._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:t._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-down"}},o=r[e];return(0,a.jsx)(i.xu,{marginStart:1,children:(0,a.jsx)(i.xu,{marginStart:2,children:"sections"===e||"sectionsInline"===e?(0,a.jsx)(i.JO,{accessibilityLabel:o.accessibilityLabel,color:"default",icon:o.icon,size:"12"}):(0,a.jsx)(i.JO,{accessibilityLabel:o.accessibilityLabel,color:"default",icon:o.icon,size:16})})})}},503500:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i=r(667294),n=r(883119),a=r(214877),o=r(140017),s=r(995917),l=r(785893);function d(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class c extends i.Component{constructor(...e){super(...e),d(this,"state",{isHovering:!1}),d(this,"onHover",()=>{this.setState({isHovering:!0})}),d(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){let{name:e,selected:t,image:r,inFlyoutExp:i}=this.props;return i?(0,l.jsxs)(n.xu,{alignItems:"center",color:this.state.isHovering?"secondary":"transparent",direction:"row",display:"flex",onMouseOut:this.offHover,onMouseOver:this.onHover,paddingX:4,paddingY:2,children:[(0,l.jsx)(n.xu,{children:(0,l.jsx)(n.zd,{height:40,rounding:2,width:40,children:this.state.isHovering&&r?(0,l.jsx)(n.Ee,{alt:"",color:"",fit:"cover",naturalHeight:r.height??1,naturalWidth:r.width??1,src:r.url??""}):(0,l.jsx)(n.xu,{color:"secondary",height:40,width:40})})}),(0,l.jsx)(n.xu,{padding:2,children:(0,l.jsx)(n.X6,{size:"400",children:e})})]}):(0,l.jsxs)(n.xu,{alignItems:"center",color:t?"secondary":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[(0,l.jsx)(n.xu,{children:(0,l.jsx)(n.JO,{accessibilityLabel:"",color:t?"default":"subtle",icon:"add"})}),(0,l.jsx)(n.xu,{marginStart:3,children:(0,l.jsx)(n.xv,{color:t?"default":"subtle",weight:"bold",children:e})})]})}}let u=e=>(0,i.useMemo)(()=>e&&e.length?e.map(e=>e.title):[],[e]),h=({inFlyoutExp:e,inFirstBoardCreateGestaltExp:t,pinId:r,image:d,minHeight:h,onBoardSelected:p})=>{let{logContextEvent:_}=(0,a.v)(),m=(0,o.ZP)(),[g,f]=(0,i.useState)(-1),{data:b=[],isLoaded:y}=(0,s.Z)({name:"ApiResource",options:{url:`/v3/pins/${String(r)}/board_title_suggestions/`,pin_id:r}}),v=u(b),x=e=>{p(v[e],!1),_({event_type:101,component:13025,element:23})},w=e=>{f(e)},P=()=>{f(-1)},S=(t,r)=>{let i=g===r;return(0,l.jsx)("li",{children:(0,l.jsx)(n.iP,{onMouseEnter:()=>w(r),onMouseLeave:P,onTap:()=>x(r),children:(0,l.jsx)(c,{image:d,inFlyoutExp:e,name:t,selected:i})})},r)};return y?v&&v.length?e?(0,l.jsx)(n.xu,{children:(0,l.jsx)("ul",{children:v.map(S)})}):t?(0,l.jsxs)(n.xu,{children:[(0,l.jsx)(n.xu,{marginBottom:3,marginStart:6,marginTop:5,children:(0,l.jsx)(n.xv,{children:m._('Suggested board names', 'text above suggested board names list', 'text above suggested board names list')})}),(0,l.jsx)("ul",{children:v.map(S)})]}):(0,l.jsxs)(n.xu,{children:[(0,l.jsx)(n.xu,{marginTop:2,paddingX:5,children:(0,l.jsx)(n.xv,{children:m._('Suggested board names', ' - ', ' -- ')})}),(0,l.jsx)("ul",{children:v.map(S)})]}):null:(0,l.jsx)(n.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:h||"",children:(0,l.jsx)(n.$j,{accessibilityLabel:m._('Loading board suggestions', 'Accesibility label for loading board suggestions', 'Accesibility label for loading board suggestions'),show:!0})})}},160390:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(883119),n=r(140017),a=r(334688),o=r(785893);function s(e){let t=(0,n.ZP)(),{buttonLabel:r,hasHoverState:s,name:l,onClick:d}=e,{isHovering:c,hoverHandlers:u}=(0,a.Z)(),h=l||r||t._('Create board', ' - ', ' -- ');return(0,o.jsx)(i.iP,{onMouseEnter:u.onMouseOver,onMouseLeave:u.onMouseLeave,onTap:d,children:(0,o.jsxs)(i.xu,{alignItems:"center",color:s&&c?"secondary":"default",display:"flex",height:"100%",padding:4,width:"100%",children:[(0,o.jsx)(i.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},marginEnd:2,rounding:2,children:(0,o.jsx)(i.JO,{accessibilityLabel:"",color:"default",icon:"add",size:20})}),l?(0,o.jsx)(i.xu,{margin:1,children:(0,o.jsxs)(i.xv,{inline:!0,overflow:"normal",children:[" ",t._('Create: ', ' - ', ' -- ')," "]})}):null,(0,o.jsxs)(i.xv,{align:"center",inline:!0,lineClamp:1,weight:"bold",children:[" ",h," "]})]})})}},916964:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var i=r(667294),n=r(702664),a=r(883119),o=r(587703),s=r(140017),l=r(317540),d=r(149722),c=r(785059),u=r(199677),h=r(317985),p=r(402287),_=r(785893);function m(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends i.Component{constructor(e){super(e),m(this,"onCreateSection",()=>{let{board:e,sourceBoard:t,sourceSection:r,dispatch:i,completeCreateSectionAction:n,pinImport:a,viewer:o,orbacActingAs:s,logContextEvent:l}=this.props,d=(0,u.lJ)(o,s);return this.setState({isSaving:!0}),i((0,p.vB)({boardId:e.id,sourceBoardId:t&&t.id,sourceSectionId:r&&r.id,name:this.state.inputName.trim(),pinImport:a},this.props.i18n,d,l)).then(e=>{this.setState({isSaving:!1}),n(e)}).catch(e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})})}),m(this,"handleKeyDown",({event:e})=>{let{createError:t,inputName:r}=this.state;[l.Z.ENTER,l.Z.NUMPAD_ENTER].includes(e.which)&&!t&&r.trim()&&this.onCreateSection()}),m(this,"handleChangeName",({value:e})=>{this.setState({createError:null,inputName:e})}),m(this,"handleInputRef",e=>{this.setState({inputRef:e})}),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){let{createError:r,inputRef:i}=this.state;i&&(!t.inputRef||r)&&i.focus()}render(){let{showTitle:e,positionRelative:t}=this.props,{createError:r,inputName:i,isSaving:n}=this.state,o=!!i.trim()&&!r;return(0,_.jsxs)(a.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},direction:"column",display:"flex",flex:"grow",position:t?"relative":"absolute",right:!0,rounding:2,top:!0,width:"100%",children:[e&&(0,_.jsx)(a.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,_.jsx)(a.X6,{size:"400",children:this.props.i18n._('Add section', 'Title in the add section modal', 'Title in the add section modal')})}),(0,_.jsxs)(a.xu,{padding:4,children:[(0,_.jsx)(a.xu,{marginBottom:2,children:(0,_.jsx)(a.__,{htmlFor:"sectionEditName",children:(0,_.jsx)(a.xv,{color:r?"error":"subtle",size:"200",children:this.props.i18n._('Name', 'Board section name', 'Board section name')})})}),(0,_.jsx)(a.xu,{children:(0,_.jsx)(a.xu,{ref:this.handleInputRef,children:(0,_.jsx)(a.nv,{errorMessage:r||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"', 'Placeholder for board section name', 'Placeholder for board section name'),size:"lg",type:"text",value:i})})})]}),(0,_.jsx)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start"}),(0,_.jsx)(a.xu,{padding:4,children:(0,_.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:(0,_.jsx)(h.Z,{disabled:!o||n,onClick:this.onCreateSection,submitting:n,text:this.props.i18n._('Add', 'add a new section', 'add a new section')})})})]})}}let f=function(e){let t=(0,n.useDispatch)(),r=(0,s.ZP)(),i=(0,d.Z)(),a=(0,c.Z)();return(0,_.jsx)(g,{...e,dispatch:t,i18n:r,logContextEvent:(0,o.Z)(),orbacActingAs:a,viewer:i})}},691010:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,S:()=>n});let i=4e3,n={LOADING:"loading",SUCCESS:"success"}},898233:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r(667294),n=r(883119),a=r(510989),o=r(140017),s=r(608516),l=r(785893);let d=(0,i.lazy)(()=>Promise.all([r.e(93810),r.e(10472),r.e(15502),r.e(61116)]).then(r.bind(r,729564)));function c(e){let t=(0,o.ZP)();return(0,l.jsx)(a.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,l.jsx)(s.Z,{fallback:(0,l.jsx)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,width:"100%",children:(0,l.jsx)(n.$j,{accessibilityLabel:t._('Loading sharing', 'Accessibility label for loading sharing UI', 'Accessibility label for loading sharing UI'),show:!0})}),children:(0,l.jsx)(d,{...e})})})}},155087:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r(883119),n=r(454514),a=r(140017),o=r(995917),s=r(554786),l=r(785893);function d({ideaPinImages:e}){let t=e.map((e,t)=>(0,l.jsx)(i.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:2,width:28,children:(0,l.jsx)(i.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e?.url??""})},t));return(0,l.jsx)(i.kC,{justifyContent:"center",children:(0,l.jsx)(i.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function c({handleHide:e,text:t,userId:r,href:c,imageUrl:u}){let h=(0,a.ZP)(),p=(0,s.HG)(),_=(0,o.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:r}}),m=Array.isArray(t)?t.join(" "):t;if(0===(_.data||[]).length)return(0,l.jsx)(n.ZP,{duration:5e3,href:c,onHide:e,text:m,thumbnail:u?{image:(0,l.jsx)(i.Ee,{alt:h._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}:void 0});let g=(_.data||[]).slice(0,3).map(e=>e.images?.[p?"236x":"170x"]),f=(0,l.jsx)(d,{ideaPinImages:g});return(0,l.jsx)(n.ZP,{_dangerouslySetThumbnail:f,duration:5e3,href:c,onHide:e,text:m})}},825784:(e,t,r)=>{"use strict";r.d(t,{X:()=>c,f:()=>d});var i=r(667294),n=r(342513),a=r(558273);function o(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type,isThirdPartyAd:t.payload.isThirdPartyAd,nodeId:t.payload.nodeId};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var s=r(785893);let{Provider:l,useHook:d}=(0,n.Z)("ReportData");function c({children:e}){let[t,r]=(0,i.useReducer)(o,null),n=(0,i.useCallback)(()=>r({type:"REPORT_CONTENT_DISMISS"}),[]),d=(0,i.useCallback)((e,t,i)=>r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:i,nodeId:null}}),[]),c=(0,i.useCallback)((e,t,i)=>r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"conversation",nodeId:null}}),[]),u=(0,i.useCallback)(({id:e,viewParameter:t,viewType:i,nodeId:n})=>r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"pin",nodeId:n}}),[]),h=(0,i.useCallback)(({pinId:e,isDownstreamPromotion:t,hasPromoter:i,firstVideoDuration:n,isProduct:o,viewParameter:s,viewType:l,isThirdPartyAd:d,nodeId:c})=>{let u=(0,a.jL)(t,i);r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:o,isPromoted:u,videoDuration:n,viewParameter:s,viewType:l,type:"pin",isThirdPartyAd:d,nodeId:c}})},[]),p=(0,i.useMemo)(()=>({reportData:t,dismiss:n,reportComment:d,reportConversation:c,reportImage:u,reportPin:h}),[t,n,d,c,u,h]);return(0,s.jsx)(l,{value:p,children:e})}},112544:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r(702664),n=r(782677),a=r(216167),o=r(25919),s=r(288240),l=r(227258),d=r(827625);function c(){let e=(0,i.useDispatch)(),t=(0,i.useSelector)(e=>e.resources);return async function({boardCreateOptions:r,deprecatedSchemaForNormalization:i}){let c=await a.Z.create("BoardResource",r).callCreate(),u=c.resource_response.data,h=i?(0,n.Fv)(u,i):void 0;e((0,d.XM)("BoardResource",r,c,h)),e((0,o.fO)({event_type:20})),u.owner?.id&&e((0,l.b)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let p=t.BoardsResource||{},_=t.BoardsFeedResource||{};return Object.keys(p).forEach(t=>{let r=(0,s.k)(t);r.username===u.owner?.username&&e((0,d.jB)("BoardsResource",t))}),Object.keys(_).forEach(t=>{let r=(0,s.k)(t);r.username===u.owner?.username&&e((0,d.jB)("BoardsFeedResource",t))}),u}}},827265:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/sad-coffee-5a5d2aaf.svg"},693967:(e,t)=>{var r;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var i={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=a(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)i.call(e,r)&&e[r]&&(t=a(t,r));return t}(r)))}return e}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0!==(r=(function(){return n}).apply(t,[]))&&(e.exports=r)}()},45528:(e,t,r)=>{"use strict";r.d(t,{NO:()=>eo,Yn:()=>ei,a4:()=>k,mw:()=>T});var i,n,a=function(){return self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},o=function(e){if("loading"===document.readyState)return"loading";var t=a();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},s=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},l=function(e,t){var r="";try{for(;e&&9!==e.nodeType;){var i=e,n=i.id?"#"+i.id:s(i)+(i.classList&&i.classList.value&&i.classList.value.trim()&&i.classList.value.trim().length?"."+i.classList.value.trim().replace(/\s+/g,"."):"");if(r.length+n.length>(t||100)-1)return r||n;if(r=r?n+">"+r:n,i.id)break;e=i.parentNode}}catch(e){}return r},d=-1,c=function(){return d},u=function(e){addEventListener("pageshow",function(t){t.persisted&&(d=t.timeStamp,e(t))},!0)},h=function(){var e=a();return e&&e.activationStart||0},p=function(e,t){var r=a(),i="navigate";return c()>=0?i="back-forward-cache":r&&(document.prerendering||h()>0?i="prerender":document.wasDiscarded?i="restore":r.type&&(i=r.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},_=function(e,t,r){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver(function(e){Promise.resolve().then(function(){t(e.getEntries())})});return i.observe(Object.assign({type:e,buffered:!0},r||{})),i}}catch(e){}},m=function(e,t,r,i){var n,a;return function(o){var s;t.value>=0&&(o||i)&&((a=t.value-(n||0))||void 0===n)&&(n=t.value,t.delta=a,t.rating=(s=t.value)>r[1]?"poor":s>r[0]?"needs-improvement":"good",e(t))}},g=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},f=function(e){document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e()})},b=function(e){var t=!1;return function(){t||(e(),t=!0)}},y=-1,v=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},x=function(e){"hidden"===document.visibilityState&&y>-1&&(y="visibilitychange"===e.type?e.timeStamp:0,P())},w=function(){addEventListener("visibilitychange",x,!0),addEventListener("prerenderingchange",x,!0)},P=function(){removeEventListener("visibilitychange",x,!0),removeEventListener("prerenderingchange",x,!0)},S=function(){return y<0&&(y=v(),w(),u(function(){setTimeout(function(){y=v(),w()},0)})),{get firstHiddenTime(){return y}}},C=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},A=[1800,3e3],E=function(e,t){t=t||{},C(function(){var r,i=S(),n=p("FCP"),a=_("paint",function(e){e.forEach(function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<i.firstHiddenTime&&(n.value=Math.max(e.startTime-h(),0),n.entries.push(e),r(!0)))})});a&&(r=m(e,n,A,t.reportAllChanges),u(function(i){r=m(e,n=p("FCP"),A,t.reportAllChanges),g(function(){n.value=performance.now()-i.timeStamp,r(!0)})}))})},j=[.1,.25],T=function(e,t){var r,i;r=function(t){(function(e){if(e.entries.length){var t,r=e.entries.reduce(function(e,t){return e&&e.value>t.value?e:t});if(r&&r.sources&&r.sources.length){var i=(t=r.sources).find(function(e){return e.node&&1===e.node.nodeType})||t[0];if(i)return void(e.attribution={largestShiftTarget:l(i.node),largestShiftTime:r.startTime,largestShiftValue:r.value,largestShiftSource:i,largestShiftEntry:r,loadState:o(r.startTime)})}}e.attribution={}})(t),e(t)},i=(i=t)||{},E(b(function(){var e,t=p("CLS",0),n=0,a=[],o=function(r){r.forEach(function(e){if(!e.hadRecentInput){var t=a[0],r=a[a.length-1];n&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(n+=e.value,a.push(e)):(n=e.value,a=[e])}}),n>t.value&&(t.value=n,t.entries=a,e())},s=_("layout-shift",o);s&&(e=m(r,t,j,i.reportAllChanges),f(function(){o(s.takeRecords()),e(!0)}),u(function(){n=0,e=m(r,t=p("CLS",0),j,i.reportAllChanges),g(function(){return e()})}),setTimeout(e,0))}))},I=function(e){return e<=0||e>performance.now()},k=function(e,t){E(function(t){!function(e){if(e.entries.length){var t=a(),r=e.entries[e.entries.length-1];if(t){var i=t.responseStart;if(I(i))return;var n=Math.max(0,i-(t.activationStart||0));return void(e.attribution={timeToFirstByte:n,firstByteToFCP:e.value-n,loadState:o(e.entries[0].startTime),navigationEntry:t,fcpEntry:r})}}e.attribution={timeToFirstByte:0,firstByteToFCP:e.value,loadState:o(c())}}(t),e(t)},t)},D=0,R=1/0,z=0,O=function(e){e.forEach(function(e){e.interactionId&&(R=Math.min(R,e.interactionId),D=(z=Math.max(z,e.interactionId))?(z-R)/7+1:0)})},B=function(){"interactionCount"in performance||i||(i=_("event",O,{type:"event",buffered:!0,durationThreshold:0}))},Z=[],L=new Map,M=0,N=[],F=function(e){if(N.forEach(function(t){return t(e)}),e.interactionId||"first-input"===e.entryType){var t=Z[Z.length-1],r=L.get(e.interactionId);if(r||Z.length<10||e.duration>t.latency){if(r)e.duration>r.latency?(r.entries=[e],r.latency=e.duration):e.duration===r.latency&&e.startTime===r.entries[0].startTime&&r.entries.push(e);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};L.set(i.id,i),Z.push(i)}Z.sort(function(e,t){return t.latency-e.latency}),Z.length>10&&Z.splice(10).forEach(function(e){return L.delete(e.id)})}}},U=function(e){var t=self.requestIdleCallback||self.setTimeout,r=-1;return e=b(e),"hidden"===document.visibilityState?e():(r=t(e),f(e)),r},H=[200,500],$=function(e,t){t=t||{},C(function(){B();var r,n,a=p("INP"),o=function(e){e.forEach(F);var t,r=(t=Math.min(Z.length-1,Math.floor(((i?D:performance.interactionCount||0)-M)/50)),Z[t]);r&&r.latency!==a.value&&(a.value=r.latency,a.entries=r.entries,n())},s=_("event",o,{durationThreshold:null!==(r=t.durationThreshold)&&void 0!==r?r:40});n=m(e,a,H,t.reportAllChanges),s&&("PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),f(function(){o(s.takeRecords()),n(!0)}),u(function(){M=0,Z.length=0,L.clear(),n=m(e,a=p("INP"),H,t.reportAllChanges)}))})},V=[],G=new Map,W=[],K=new WeakMap,q=-1,Y=function(e){e.forEach(function(e){return V.push(e)})},X=function(){W=W.slice(-50);var e=new Set(W.concat(Z.map(function(e){return K.get(e.entries[0])})));G.forEach(function(t,r){e.has(r)||G.delete(r)});var t=new Set;G.forEach(function(e){er(e.startTime,e.processingEnd).forEach(function(e){t.add(e)})}),V=Array.from(t),q=-1};N.push(function(e){for(var t,r=e.startTime+e.duration,i=W.length-1;i>=0;i--)if(8>=Math.abs(r-(t=W[i]))){var n=G.get(t);n.startTime=Math.min(e.startTime,n.startTime),n.processingStart=Math.min(e.processingStart,n.processingStart),n.processingEnd=Math.max(e.processingEnd,n.processingEnd),n.entries.push(e),r=t;break}r!==t&&(W.push(r),G.set(r,{startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,entries:[e]})),(e.interactionId||"first-input"===e.entryType)&&K.set(e,r),q<0&&(q=U(X))});var J,Q,ee,et,er=function(e,t){for(var r,i=[],n=0;r=V[n];n++)if(!(r.startTime+r.duration<e)){if(r.startTime>t)break;i.push(r)}return i},ei=function(e,t){n||(n=_("long-animation-frame",Y)),$(function(t){U(function(){var r,i,n,a,s,d,c,u,h,p;r=t.entries[0],i=K.get(r),n=G.get(i),a=r.processingStart,s=n.processingEnd,d=n.entries.sort(function(e,t){return e.processingStart-t.processingStart}),c=er(r.startTime,s),u=t.entries.find(function(e){return e.target}),h=[r.startTime+r.duration,s].concat(c.map(function(e){return e.startTime+e.duration})),p=Math.max.apply(Math,h),t.attribution={interactionTarget:l(u&&u.target),interactionType:r.name.startsWith("key")?"keyboard":"pointer",interactionTime:r.startTime,nextPaintTime:p,processedEventEntries:d,longAnimationFrameEntries:c,inputDelay:a-r.startTime,processingDuration:s-a,presentationDelay:Math.max(p-s,0),loadState:o(r.startTime)},e(t)})},t)},en=[2500,4e3],ea={},eo=function(e,t){var r,i;r=function(t){(function(e){if(e.entries.length){var t=a();if(t){var r=t.responseStart;if(I(r))return;var i=t.activationStart||0,n=e.entries[e.entries.length-1],o=n.url&&performance.getEntriesByType("resource").filter(function(e){return e.name===n.url})[0],s=Math.max(0,r-i),d=Math.max(s,o?(o.requestStart||o.startTime)-i:0),c=Math.max(d,o?o.responseEnd-i:0),u=Math.max(c,n.startTime-i),h={element:l(n.element),timeToFirstByte:s,resourceLoadDelay:d-s,resourceLoadDuration:c-d,elementRenderDelay:u-c,navigationEntry:t,lcpEntry:n};return n.url&&(h.url=n.url),o&&(h.lcpResourceEntry=o),void(e.attribution=h)}}e.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:e.value}})(t),e(t)},i=(i=t)||{},C(function(){var e,t=S(),n=p("LCP"),a=function(r){var i=r[r.length-1];i&&i.startTime<t.firstHiddenTime&&(n.value=Math.max(i.startTime-h(),0),n.entries=[i],e())},o=_("largest-contentful-paint",a);if(o){e=m(r,n,en,i.reportAllChanges);var s=b(function(){ea[n.id]||(a(o.takeRecords()),o.disconnect(),ea[n.id]=!0,e(!0))});["keydown","click"].forEach(function(e){addEventListener(e,function(){return U(s)},!0)}),f(s),u(function(t){e=m(r,n=p("LCP"),en,i.reportAllChanges),g(function(){n.value=performance.now()-t.timeStamp,ea[n.id]=!0,e(!0)})})}})},es={passive:!0,capture:!0},el=new Date,ed=function(e,t){J||(J=t,Q=e,ee=new Date,eh(removeEventListener),ec())},ec=function(){if(Q>=0&&Q<ee-el){var e={entryType:"first-input",name:J.type,target:J.target,cancelable:J.cancelable,startTime:J.timeStamp,processingStart:J.timeStamp+Q};et.forEach(function(t){t(e)}),et=[]}},eu=function(e){if(e.cancelable){var t,r,i,n=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(t=function(){ed(n,e),i()},r=function(){i()},i=function(){removeEventListener("pointerup",t,es),removeEventListener("pointercancel",r,es)},addEventListener("pointerup",t,es),addEventListener("pointercancel",r,es)):ed(n,e)}},eh=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,eu,es)})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/app-www-BoardPage-BoardPageAuthDesktop-8aef0d9d344aa4c8.mjs.map