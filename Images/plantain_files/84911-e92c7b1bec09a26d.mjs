(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[84911],{200278:e=>{e.exports=function(e,a){var r=-1,t=e.length;for(a||(a=Array(t));++r<t;)a[r]=e[r];return a}},428368:(e,a,r)=>{var t=r(690939);e.exports=function(e,a,r){var s=(r="function"==typeof r?r:void 0)?r(e,a):void 0;return void 0===s?t(e,a,void 0,r):!!s}},414293:e=>{e.exports=function(e){return null==e}},30084:(e,a,r)=>{var t=r(829932),s=r(200278),o=r(701469),n=r(733448),_=r(555514),d=r(240327),i=r(479833);e.exports=function(e){return o(e)?t(e,d):n(e)?[e]:s(_(i(e)))}},11754:(e,a)=>{"use strict";a.__esModule=!0,a.default=a.UPDATE_SYNC_WARNINGS=a.UPDATE_SYNC_ERRORS=a.UNTOUCH=a.UNREGISTER_FIELD=a.TOUCH=a.SUBMIT=a.STOP_SUBMIT=a.STOP_ASYNC_VALIDATION=a.START_SUBMIT=a.START_ASYNC_VALIDATION=a.SET_SUBMIT_SUCCEEDED=a.SET_SUBMIT_FAILED=a.RESET_SECTION=a.RESET=a.REGISTER_FIELD=a.INITIALIZE=a.FOCUS=a.DESTROY=a.CLEAR_ASYNC_ERROR=a.CLEAR_SUBMIT_ERRORS=a.CLEAR_SUBMIT=a.CLEAR_FIELDS=a.CHANGE=a.BLUR=a.AUTOFILL=a.ARRAY_SWAP=a.ARRAY_UNSHIFT=a.ARRAY_SPLICE=a.ARRAY_SHIFT=a.ARRAY_REMOVE_ALL=a.ARRAY_REMOVE=a.ARRAY_PUSH=a.ARRAY_POP=a.ARRAY_MOVE=a.ARRAY_INSERT=a.prefix=void 0;var r="@@redux-form/";a.prefix=r;var t=r+"ARRAY_INSERT";a.ARRAY_INSERT=t;var s=r+"ARRAY_MOVE";a.ARRAY_MOVE=s;var o=r+"ARRAY_POP";a.ARRAY_POP=o;var n=r+"ARRAY_PUSH";a.ARRAY_PUSH=n;var _=r+"ARRAY_REMOVE";a.ARRAY_REMOVE=_;var d=r+"ARRAY_REMOVE_ALL";a.ARRAY_REMOVE_ALL=d;var i=r+"ARRAY_SHIFT";a.ARRAY_SHIFT=i;var l=r+"ARRAY_SPLICE";a.ARRAY_SPLICE=l;var E=r+"ARRAY_UNSHIFT";a.ARRAY_UNSHIFT=E;var u=r+"ARRAY_SWAP";a.ARRAY_SWAP=u;var c=r+"AUTOFILL";a.AUTOFILL=c;var S=r+"BLUR";a.BLUR=S;var T=r+"CHANGE";a.CHANGE=T;var p=r+"CLEAR_FIELDS";a.CLEAR_FIELDS=p;var R=r+"CLEAR_SUBMIT";a.CLEAR_SUBMIT=R;var A=r+"CLEAR_SUBMIT_ERRORS";a.CLEAR_SUBMIT_ERRORS=A;var I=r+"CLEAR_ASYNC_ERROR";a.CLEAR_ASYNC_ERROR=I;var y=r+"DESTROY";a.DESTROY=y;var O=r+"FOCUS";a.FOCUS=O;var P=r+"INITIALIZE";a.INITIALIZE=P;var N=r+"REGISTER_FIELD";a.REGISTER_FIELD=N;var D=r+"RESET";a.RESET=D;var C=r+"RESET_SECTION";a.RESET_SECTION=C;var g=r+"SET_SUBMIT_FAILED";a.SET_SUBMIT_FAILED=g;var f=r+"SET_SUBMIT_SUCCEEDED";a.SET_SUBMIT_SUCCEEDED=f;var L=r+"START_ASYNC_VALIDATION";a.START_ASYNC_VALIDATION=L;var U=r+"START_SUBMIT";a.START_SUBMIT=U;var m=r+"STOP_ASYNC_VALIDATION";a.STOP_ASYNC_VALIDATION=m;var G=r+"STOP_SUBMIT";a.STOP_SUBMIT=G;var v=r+"SUBMIT";a.SUBMIT=v;var M=r+"TOUCH";a.TOUCH=M;var b=r+"UNREGISTER_FIELD";a.UNREGISTER_FIELD=b;var h=r+"UNTOUCH";a.UNTOUCH=h;var B=r+"UPDATE_SYNC_ERRORS";a.UPDATE_SYNC_ERRORS=B;var F=r+"UPDATE_SYNC_WARNINGS";a.UPDATE_SYNC_WARNINGS=F,a.default={ARRAY_INSERT:t,ARRAY_MOVE:s,ARRAY_POP:o,ARRAY_PUSH:n,ARRAY_REMOVE:_,ARRAY_REMOVE_ALL:d,ARRAY_SHIFT:i,ARRAY_SPLICE:l,ARRAY_UNSHIFT:E,ARRAY_SWAP:u,AUTOFILL:c,BLUR:S,CHANGE:T,CLEAR_FIELDS:p,CLEAR_SUBMIT:R,CLEAR_SUBMIT_ERRORS:A,CLEAR_ASYNC_ERROR:I,DESTROY:y,FOCUS:O,INITIALIZE:P,REGISTER_FIELD:N,RESET:D,RESET_SECTION:C,SET_SUBMIT_FAILED:g,SET_SUBMIT_SUCCEEDED:f,START_ASYNC_VALIDATION:L,START_SUBMIT:U,STOP_ASYNC_VALIDATION:m,STOP_SUBMIT:G,SUBMIT:v,TOUCH:M,UNREGISTER_FIELD:b,UNTOUCH:h,UPDATE_SYNC_ERRORS:B,UPDATE_SYNC_WARNINGS:F}},151107:(e,a,r)=>{"use strict";var t=r(564836);a.__esModule=!0,a.default=void 0;var s=t(r(7071)),o=t(r(623560)),n=r(11754),_=t(r(730932)),d=t(r(80020)),i=function(e){var a=e.getIn;return function(e,r){var t=null;/^values/.test(r)&&(t=r.replace("values","initial"));var s=!t||void 0===a(e,t);return void 0!==a(e,r)&&s}};a.default=function(e){var a,r,t=e.deepEqual,l=e.empty,E=e.forEach,u=e.getIn,c=e.setIn,S=e.deleteIn,T=e.fromJS,p=e.keys,R=e.size,A=e.some,I=e.splice,y=(0,_.default)(e)(i),O=(0,_.default)(d.default)(i),P=function(e,a,r,t,s,o,n){var _=u(e,a+"."+r);return _||n?c(e,a+"."+r,I(_,t,s,o)):e},N=function(e,a,r,t,s,o,n){var _=u(e,a),i=d.default.getIn(_,r);return i||n?c(e,a,d.default.setIn(_,r,d.default.splice(i,t,s,o))):e},D=["values","fields","submitErrors","asyncErrors"],C=function(e,a,r,t,s){var o=e,n=null!=s?l:void 0;return o=P(o,"values",a,r,t,s,!0),o=N(o=P(o,"fields",a,r,t,n),"syncErrors",a,r,t,void 0),o=P(o=N(o,"syncWarnings",a,r,t,void 0),"submitErrors",a,r,t,void 0),o=P(o,"asyncErrors",a,r,t,void 0)},g=((r={})[n.ARRAY_INSERT]=function(e,a){var r=a.meta;return C(e,r.field,r.index,0,a.payload)},r[n.ARRAY_MOVE]=function(e,a){var r=a.meta,t=r.field,s=r.from,o=r.to,n=u(e,"values."+t),_=n?R(n):0,d=e;return _&&D.forEach(function(e){var a=e+"."+t;if(u(d,a)){var r=u(d,a+"["+s+"]");d=c(d,a,I(u(d,a),s,1)),d=c(d,a,I(u(d,a),o,0,r))}}),d},r[n.ARRAY_POP]=function(e,a){var r=a.meta.field,t=u(e,"values."+r),s=t?R(t):0;return s?C(e,r,s-1,1):e},r[n.ARRAY_PUSH]=function(e,a){var r=a.meta.field,t=a.payload,s=u(e,"values."+r);return C(e,r,s?R(s):0,0,t)},r[n.ARRAY_REMOVE]=function(e,a){var r=a.meta;return C(e,r.field,r.index,1)},r[n.ARRAY_REMOVE_ALL]=function(e,a){var r=a.meta.field,t=u(e,"values."+r),s=t?R(t):0;return s?C(e,r,0,s):e},r[n.ARRAY_SHIFT]=function(e,a){return C(e,a.meta.field,0,1)},r[n.ARRAY_SPLICE]=function(e,a){var r=a.meta;return C(e,r.field,r.index,r.removeNum,a.payload)},r[n.ARRAY_SWAP]=function(e,a){var r=a.meta,t=r.field,s=r.indexA,o=r.indexB,n=e;return D.forEach(function(e){var a=u(n,e+"."+t+"["+s+"]"),r=u(n,e+"."+t+"["+o+"]");(void 0!==a||void 0!==r)&&(n=c(n,e+"."+t+"["+s+"]",r),n=c(n,e+"."+t+"["+o+"]",a))}),n},r[n.ARRAY_UNSHIFT]=function(e,a){return C(e,a.meta.field,0,0,a.payload)},r[n.AUTOFILL]=function(e,a){var r=a.meta.field,t=a.payload,s=e;return s=y(s,"asyncErrors."+r),s=c(s=y(s,"submitErrors."+r),"fields."+r+".autofilled",!0),s=c(s,"values."+r,t)},r[n.BLUR]=function(e,a){var r=a.meta,t=r.field,s=r.touch,o=a.payload,n=e;return void 0===u(n,"initial."+t)&&""===o?n=y(n,"values."+t):void 0!==o&&(n=c(n,"values."+t,o)),t===u(n,"active")&&(n=S(n,"active")),n=S(n,"fields."+t+".active"),s&&(n=c(n,"fields."+t+".touched",!0),n=c(n,"anyTouched",!0)),n},r[n.CHANGE]=function(e,a){var r=a.meta,t=r.field,s=r.touch,n=r.persistentSubmitErrors,_=a.payload,d=e;if(void 0===u(d,"initial."+t)&&""===_||void 0===_)d=y(d,"values."+t);else if((0,o.default)(_)){var i=u(e,"values."+t);d=c(d,"values."+t,_(i,e.values))}else d=c(d,"values."+t,_);return d=y(d,"asyncErrors."+t),n||(d=y(d,"submitErrors."+t)),d=y(d,"fields."+t+".autofilled"),s&&(d=c(d,"fields."+t+".touched",!0),d=c(d,"anyTouched",!0)),d},r[n.CLEAR_SUBMIT]=function(e){return S(e,"triggerSubmit")},r[n.CLEAR_SUBMIT_ERRORS]=function(e){var a=e;return S(a=y(a,"submitErrors"),"error")},r[n.CLEAR_ASYNC_ERROR]=function(e,a){return S(e,"asyncErrors."+a.meta.field)},r[n.CLEAR_FIELDS]=function(e,a){var r=a.meta,t=r.keepTouched,s=r.persistentSubmitErrors,o=r.fields,n=e;return o.forEach(function(a){n=y(n,"asyncErrors."+a),s||(n=y(n,"submitErrors."+a)),n=y(n,"fields."+a+".autofilled"),t||(n=S(n,"fields."+a+".touched"));var r=u(e,"initial."+a);n=r?c(n,"values."+a,r):y(n,"values."+a)}),n=A(p(u(n,"registeredFields")),function(e){return u(n,"fields."+e+".touched")})?c(n,"anyTouched",!0):S(n,"anyTouched")},r[n.FOCUS]=function(e,a){var r=a.meta.field,t=e;return t=c(t=S(t,"fields."+u(e,"active")+".active"),"fields."+r+".visited",!0),t=c(t,"fields."+r+".active",!0),t=c(t,"active",r)},r[n.INITIALIZE]=function(e,a){var r=a.payload,s=a.meta,o=s.keepDirty,n=s.keepSubmitSucceeded,_=s.updateUnregisteredFields,d=s.keepValues,i=T(r),S=l,R=u(e,"warning");R&&(S=c(S,"warning",R));var A=u(e,"syncWarnings");A&&(S=c(S,"syncWarnings",A));var I=u(e,"error");I&&(S=c(S,"error",I));var y=u(e,"syncErrors");y&&(S=c(S,"syncErrors",y));var O=u(e,"registeredFields");O&&(S=c(S,"registeredFields",O));var P=u(e,"values"),N=u(e,"initial"),D=i,C=P;if(o&&O){if(!t(D,N)){var g=function(e){var a=u(N,e);if(t(u(P,e),a)){var r=u(D,e);u(C,e)!==r&&(C=c(C,e,r))}};_||E(p(O),function(e){return g(e)}),E(p(D),function(e){if(void 0===u(N,e)){var a=u(D,e);C=c(C,e,a)}_&&g(e)})}}else C=D;return d&&(E(p(P),function(e){var a=u(P,e);C=c(C,e,a)}),E(p(N),function(e){var a=u(N,e);D=c(D,e,a)})),n&&u(e,"submitSucceeded")&&(S=c(S,"submitSucceeded",!0)),S=c(S,"values",C),S=c(S,"initial",D)},r[n.REGISTER_FIELD]=function(e,a){var r=a.payload,t=r.name,s=r.type,o="registeredFields['"+t+"']",n=u(e,o);if(n){var _=u(n,"count")+1;n=c(n,"count",_)}else n=T({name:t,type:s,count:1});return c(e,o,n)},r[n.RESET]=function(e){var a=l,r=u(e,"registeredFields");r&&(a=c(a,"registeredFields",r));var t=u(e,"initial");return t&&(a=c(a,"values",t),a=c(a,"initial",t)),a},r[n.RESET_SECTION]=function(e,a){var r=a.meta.sections,t=e;return r.forEach(function(a){t=y(t,"asyncErrors."+a),t=y(t,"submitErrors."+a),t=y(t,"fields."+a);var r=u(e,"initial."+a);t=r?c(t,"values."+a,r):y(t,"values."+a)}),t=A(p(u(t,"registeredFields")),function(e){return u(t,"fields."+e+".touched")})?c(t,"anyTouched",!0):S(t,"anyTouched")},r[n.SUBMIT]=function(e){return c(e,"triggerSubmit",!0)},r[n.START_ASYNC_VALIDATION]=function(e,a){return c(e,"asyncValidating",a.meta.field||!0)},r[n.START_SUBMIT]=function(e){return c(e,"submitting",!0)},r[n.STOP_ASYNC_VALIDATION]=function(e,a){var r=a.payload,t=e;if(t=S(t,"asyncValidating"),r&&Object.keys(r).length){var o=r._error,n=(0,s.default)(r,["_error"]);o&&(t=c(t,"error",o)),Object.keys(n).length&&(t=c(t,"asyncErrors",T(n)))}else t=S(t,"error"),t=S(t,"asyncErrors");return t},r[n.STOP_SUBMIT]=function(e,a){var r=a.payload,t=e;if(t=S(t,"submitting"),t=S(t,"submitFailed"),t=S(t,"submitSucceeded"),r&&Object.keys(r).length){var o=r._error,n=(0,s.default)(r,["_error"]);t=o?c(t,"error",o):S(t,"error"),t=Object.keys(n).length?c(t,"submitErrors",T(n)):S(t,"submitErrors"),t=c(t,"submitFailed",!0)}else t=S(t,"error"),t=S(t,"submitErrors");return t},r[n.SET_SUBMIT_FAILED]=function(e,a){var r=a.meta.fields,t=e;return t=S(t=c(t,"submitFailed",!0),"submitSucceeded"),t=S(t,"submitting"),r.forEach(function(e){return t=c(t,"fields."+e+".touched",!0)}),r.length&&(t=c(t,"anyTouched",!0)),t},r[n.SET_SUBMIT_SUCCEEDED]=function(e){var a=e;return c(a=S(a,"submitFailed"),"submitSucceeded",!0)},r[n.TOUCH]=function(e,a){var r=a.meta.fields,t=e;return r.forEach(function(e){return t=c(t,"fields."+e+".touched",!0)}),t=c(t,"anyTouched",!0)},r[n.UNREGISTER_FIELD]=function(e,a){var r=a.payload,s=r.name,o=r.destroyOnUnmount,n=e,_="registeredFields['"+s+"']",i=u(n,_);if(!i)return n;var E=u(i,"count")-1;if(E<=0&&o){t(u(n=S(n,_),"registeredFields"),l)&&(n=S(n,"registeredFields"));var T=u(n,"syncErrors");T&&(T=O(T,s),n=d.default.deepEqual(T,d.default.empty)?S(n,"syncErrors"):c(n,"syncErrors",T));var p=u(n,"syncWarnings");p&&(p=O(p,s),n=d.default.deepEqual(p,d.default.empty)?S(n,"syncWarnings"):c(n,"syncWarnings",p)),n=y(n,"submitErrors."+s),n=y(n,"asyncErrors."+s)}else i=c(i,"count",E),n=c(n,_,i);return n},r[n.UNTOUCH]=function(e,a){var r=a.meta.fields,t=e;return r.forEach(function(e){return t=S(t,"fields."+e+".touched")}),t=A(p(u(t,"registeredFields")),function(e){return u(t,"fields."+e+".touched")})?c(t,"anyTouched",!0):S(t,"anyTouched")},r[n.UPDATE_SYNC_ERRORS]=function(e,a){var r=a.payload,t=r.syncErrors,s=r.error,o=e;return s?(o=c(o,"error",s),o=c(o,"syncError",!0)):(o=S(o,"error"),o=S(o,"syncError")),o=Object.keys(t).length?c(o,"syncErrors",t):S(o,"syncErrors")},r[n.UPDATE_SYNC_WARNINGS]=function(e,a){var r=a.payload,t=r.syncWarnings,s=r.warning,o=e;return o=s?c(o,"warning",s):S(o,"warning"),o=Object.keys(t).length?c(o,"syncWarnings",t):S(o,"syncWarnings")},r);return function e(a){return a.plugin=function(a,r){var t=this;return void 0===r&&(r={}),e(function(e,s){void 0===e&&(e=l),void 0===s&&(s={type:"NONE"});var o=function(r,t){var o=u(r,t),n=a[t](o,s,u(e,t));return n!==o?c(r,t,n):r},n=t(e,s),_=s&&s.meta&&s.meta.form;return _&&!r.receiveAllFormActions?a[_]?o(n,_):n:Object.keys(a).reduce(o,n)})},a}((a=function(e,a){void 0===e&&(e=l);var r=g[a.type];return r?r(e,a):e},function(e,r){void 0===e&&(e=l),void 0===r&&(r={type:"NONE"});var t,s=r&&r.meta&&r.meta.form;if(!s||!((t=r)&&t.type&&t.type.length>n.prefix.length&&t.type.substring(0,n.prefix.length)===n.prefix))return e;if(r.type===n.DESTROY&&r.meta&&r.meta.form)return r.meta.form.reduce(function(e,a){return y(e,a)},e);var o=u(e,s),_=a(o,r);return _===o?e:c(e,s,_)}))}},730932:(e,a,r)=>{"use strict";var t=r(564836);a.__esModule=!0,a.default=void 0;var s=t(r(30084));a.default=function(e){var a=function(e){return function(a,r){return void 0!==e.getIn(a,r)}},r=e.deepEqual,t=e.empty,o=e.getIn,n=e.deleteIn,_=e.setIn;return function(d){return void 0===d&&(d=a),function a(i,l){if("]"===l[l.length-1]){var E=(0,s.default)(l);return E.pop(),o(i,E.join("."))?_(i,l):i}var u=i;d(e)(i,l)&&(u=n(i,l));var c=l.lastIndexOf(".");if(c>0){var S=l.substring(0,c);if("]"!==S[S.length-1]&&r(o(u,S),t))return a(u,S)}return u}}}},853824:(e,a,r)=>{"use strict";var t=r(564836);a.Z=void 0;var s=t(r(151107)),o=t(r(80020)),n=(0,s.default)(o.default);a.Z=n},525706:(e,a,r)=>{"use strict";var t=r(564836);a.__esModule=!0,a.default=void 0;var s=t(r(414293)),o=t(r(428368)),n=t(r(667294)),_=function(e){return(0,s.default)(e)||""===e||isNaN(e)},d=function(e,a){return e===a||(e||a?!(e&&a&&e._error!==a._error||e&&a&&e._warning!==a._warning||n.default.isValidElement(e)||n.default.isValidElement(a))&&void 0:_(e)===_(a))};a.default=function(e,a){return(0,o.default)(e,a,d)}},954826:(e,a,r)=>{"use strict";var t=r(564836);a.__esModule=!0,a.default=void 0;var s=t(r(310434)),o=t(r(30084));function n(e,a){if(null==e||null==a)return e;for(var r=arguments.length,t=Array(r>2?r-2:0),o=2;o<r;o++)t[o-2]=arguments[o];if(t.length){if(Array.isArray(e)){if(isNaN(a))throw Error('Must access array elements with a number, not "'+String(a)+'".');var _=Number(a);if(_<e.length){var d=n.apply(void 0,[e&&e[_]].concat(t));if(d!==e[_]){var i=[].concat(e);return i[_]=d,i}}return e}if(a in e){var l,E=n.apply(void 0,[e&&e[a]].concat(t));return e[a]===E?e:(0,s.default)({},e,((l={})[a]=E,l))}return e}if(Array.isArray(e)){if(isNaN(a))throw Error('Cannot delete non-numerical index from an array. Given: "'+String(a));var u=Number(a);if(u<e.length){var c=[].concat(e);return c.splice(u,1),c}return e}if(a in e){var S=(0,s.default)({},e);return delete S[a],S}return e}a.default=function(e,a){return n.apply(void 0,[e].concat((0,o.default)(a)))}},179298:(e,a,r)=>{"use strict";var t=r(564836);a.__esModule=!0,a.default=void 0;var s=t(r(30084));a.default=function(e,a){if(!e)return e;var r=(0,s.default)(a),t=r.length;if(t){for(var o=e,n=0;n<t&&o;++n)o=o[r[n]];return o}}},80020:(e,a,r)=>{"use strict";var t=r(564836);a.__esModule=!0,a.default=void 0;var s=t(r(968554)),o=t(r(179298)),n=t(r(759572)),_=t(r(525706)),d=t(r(954826)),i=t(r(792234)),l={allowsArrayErrors:!0,empty:{},emptyList:[],getIn:o.default,setIn:n.default,deepEqual:_.default,deleteIn:d.default,forEach:function(e,a){return e.forEach(a)},fromJS:function(e){return e},keys:i.default,size:function(e){return e?e.length:0},some:function(e,a){return e.some(a)},splice:s.default,equals:function(e,a){return a.every(function(a){return~e.indexOf(a)})},orderChanged:function(e,a){return a.some(function(a,r){return a!==e[r]})},toJS:function(e){return e}};a.default=l},792234:(e,a)=>{"use strict";a.__esModule=!0,a.default=void 0,a.default=function(e){return e?Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e):[]}},759572:(e,a,r)=>{"use strict";var t=r(564836);a.__esModule=!0,a.default=void 0;var s=t(r(310434)),o=t(r(30084)),n=function e(a,r,t,o){if(o>=t.length)return r;var n,_,d=t[o],i=e(a&&(Array.isArray(a)?a[Number(d)]:a[d]),r,t,o+1);if(!a){if(isNaN(d))return(_={})[d]=i,_;var l=[];return l[parseInt(d,10)]=i,l}if(Array.isArray(a)){var E=[].concat(a);return E[parseInt(d,10)]=i,E}return(0,s.default)({},a,((n={})[d]=i,n))};a.default=function(e,a,r){return n(e,r,(0,o.default)(a),0)}},968554:(e,a)=>{"use strict";a.__esModule=!0,a.default=void 0,a.default=function(e,a,r,t){if(a<(e=e||[]).length){if(void 0===t&&!r){var s=[].concat(e);return s.splice(a,0,!0),s[a]=void 0,s}if(null!=t){var o=[].concat(e);return o.splice(a,r,t),o}var n=[].concat(e);return n.splice(a,r),n}if(r)return e;var _=[].concat(e);return _[a]=t,_}},700280:(e,a,r)=>{"use strict";r.d(a,{E:()=>s,u:()=>o});var t=r(342513);let{Provider:s,useHook:o}=(0,t.Z)("legacyServerContext")},353866:(e,a,r)=>{"use strict";r.d(a,{default:()=>s});let t=new class{get instance(){return this.__storeInstance__}set instance(e){return this.__storeInstance__=e,e}set(e){return this.instance=e,e}},s=t},850895:(e,a,r)=>{"use strict";r.d(a,{Z:()=>o});var t=r(702497),s=r(139655);function o(e,a){let r="";if(e&&(r=e,a)){let o=(0,s.Z)(e,!0),n="/advertiser/",{hostname:_}=o;(null===_||_===t.KUo)&&(e.startsWith(t.auO)&&(e=e.replace(t.auO,"")),r=e.startsWith(n)?e:n+a+e)}return r}},526787:(e,a,r)=>{"use strict";function t(){return new Date(Date.now())}r.d(a,{Z:()=>t})},510989:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});var t=r(103322);let s=t.Z},84054:(e,a,r)=>{"use strict";r.d(a,{D:()=>o,G:()=>s});var t=r(26616);function s(e={},a){switch(a.type){case t.V$:let{experienceId:r,placementId:s,status:o}=a.payload,n={...e},_=n[s]||[],d=_.findIndex(e=>e.experience_id===r);return d>=0&&(["completed","dismissed"].includes(o)?_.splice(d,1):_[d].status=o),n;case t.$S:let{experiencesMulti:i}=a.payload;return{...i};default:return e}}function o(e={},a){switch(a.type){case t.iY:let{placementId:r,status:s}=a.payload,o={...e};return o[r]&&(["completed","dismissed"].includes(s)?delete o[r]:o[r].status=s),o;case t.mR:return{...e,...a.payload.experiences};case t._4:let{experiences:n}=a.payload;return{...n};default:return e}}},928617:(e,a,r)=>{"use strict";r.d(a,{Nq:()=>n,aK:()=>d,as:()=>o,pl:()=>s});var t=r(107366);let s="GUIDANCE_FETCH_RECOMMENDATION_DATA_START",o="GUIDANCE_FETCH_RECOMMENDATION_DATA_SUCCESS",n="GUIDANCE_FETCH_RECOMMENDATION_DATA_FAILURE";function _(e){return{type:o,payload:{data:e,error:null,isLoading:!1,isLoaded:!0}}}function d(e){let{advertiser_id:a}=e;return async r=>{try{if(r({type:s,payload:{error:null,isLoading:!0,lastCallParams:e}}),a){let s=await (0,t.Z)({url:"/ads/v4/notification_messages/RECOMMENDATIONS/",data:{...e,recipient_id:a,recipient_type:"ADVERTISER"}}),o=s.resource_response.data;r(_(o))}else r(_([]))}catch(e){r({type:n,payload:{data:[],error:e,isLoading:!1}})}}}},201417:(e,a,r)=>{"use strict";function t(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}r.d(a,{Z:()=>t})},203966:(e,a,r)=>{"use strict";r.d(a,{$4:()=>G,AQ:()=>j,ASPECT_RATIO_FORMAT_MAP:()=>V,Bj:()=>A,DB:()=>Z,FH:()=>ed,FM:()=>J,G9:()=>F,GX:()=>p,Hy:()=>eE,JO:()=>M,Ke:()=>v,LM:()=>s,Lc:()=>ec,Lr:()=>el,MN:()=>y,Mn:()=>ee,N8:()=>R,NB:()=>er,P0:()=>et,P9:()=>e_,Pn:()=>O,S:()=>b,TK:()=>N,TZ:()=>L,UU:()=>E,Uw:()=>$,W_:()=>ei,XB:()=>d,Xy:()=>U,YM:()=>D,aD:()=>eS,aj:()=>k,bA:()=>B,bo:()=>i,cH:()=>eA,dS:()=>g,eZ:()=>S,fk:()=>eo,g1:()=>eu,gU:()=>l,i2:()=>u,iR:()=>Y,jh:()=>eT,km:()=>c,lx:()=>h,mr:()=>Q,mt:()=>x,n_:()=>w,np:()=>W,of:()=>t,q:()=>eR,qY:()=>C,qm:()=>en,rc:()=>X,ro:()=>ep,sD:()=>n,sG:()=>T,u1:()=>z,uR:()=>_,v5:()=>o,v9:()=>q,vk:()=>ea,wj:()=>P,x1:()=>H,yC:()=>I,yI:()=>m,yX:()=>f,yb:()=>K,zr:()=>es});let t=880,s=340,o=380,n=510,_=40,d=20,i=4,l=474,E=134,u=96,c=800,S=186,T=40,p=10,R=48,A=88,I=183,y=130,O=24,P=400,N=50,D=8,C=8,g=5,f=20,L=29,U=5,m=20,G=m**2,v=100,M=500,b=800,h=500,B=40,F=100,Y=5,H=["attempted","publishing","succeeded","uploading"],V={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}],storyFARPortrait:[{w:1,h:2},{w:9,h:16},{w:2,h:3},{w:3,h:4},{w:4,h:5},{w:1,h:1}],storyFARLandscape:[{w:2,h:1},{w:16,h:9},{w:3,h:2},{w:4,h:3},{w:5,h:4},{w:1,h:1}]},w=["tl","tc","tr","bl","bc","br"],k=["left","center"],K=["top","center","bottom"],W=["none","uppercase"],x=["sm","md","lg"],j=[1,.75],Z=198,Q=132,q=1,z=56,$=240,X="cubic-bezier(0.66, 0.025, 0.33, 0.975)",J=1e3,ee=1500,ea=2,er=3,et=20,es=20,eo=2,en=["processing","publishing","saving"],e_=60.5,ed=120.5,ei=1,el=209715200,eE=2500,eu=3,ec="pin-builder-default-education-id",eS="pin-builder-default-tour-id",eT="pin-builder-editing-tour-id",ep="save_from_url",eR=["processing","edited","creating","saving","saved"],eA=2048},837639:(e,a,r)=>{"use strict";r.d(a,{NC:()=>o,Rc:()=>_,WK:()=>i,X9:()=>s,b9:()=>t,f9:()=>d,gu:()=>n});let t="pin-builder-font-faces",s="system-font-faces",o="pin-builder-education-font-faces",n="licensed",_="system",d="brand",i=4},622934:(e,a,r)=>{"use strict";r.d(a,{Z:()=>d});var t=r(288240),s=r(839967),o=r(419821);let n=e=>e&&e[0]!==s.q?e[0]:s.q,_=e=>({api_error_code:e.api_error_code,code:e.code,message:e.message,message_detail:e.message_detail,extraData:e.extraData||e.extra_data||void 0,httpStatus:e.httpStatus||e.http_status||void 0});function d(e={},a){if(a.type===o.se){let r={...e||{},[a.payload.resource]:{...(e||{})[a.payload.resource]||Object.freeze({})}},s="string"==typeof a.payload.optionsOrOptionsKey?a.payload.optionsOrOptionsKey:(0,t.Z)(a.payload.optionsOrOptionsKey);return delete r[a.payload.resource][s],0===Object.keys(r[a.payload.resource]).length&&delete r[a.payload.resource],r}if(a.type===o.zP||a.type===o.aW||a.type===o.cR||a.type===o.KK){let{options:r,resource:s}=a.payload,d=(0,t.Z)(r),i=e[s]||{},l=i[d],E=function(e,a){switch(e.type){case o.KK:return{...a||{},fetching:e.payload.isFetching,error:null};case o.cR:return{...a||{},fetching:!1,error:_(e.payload.error),data:null};default:let{options:r,resource:t,response:s}=e.payload,d=e.type===o.zP&&e.payload.isRefresh,i=n(r?.bookmarks||s.bookmarks),l=s.resource_response.error?_(s.resource_response.error):void 0,E=a?.auxData,u=d?void 0:a?.data,c=s.resource_response.data;return("BaseSearchResource"===t||"VisualLiveSearchResource"===t||"StoreFrontSearchResource"===t||"VisualSearchFlashlightUnifiedResource"===t||"NativeInteractionsResource"===t)&&u?Array.isArray(u.results)&&(c=c?{...u,results:[...u.results||[],...c.results||[]]}:u):Array.isArray(u)&&(c=[...u||[],...c||[]]),{...a||{},auxData:E?{...E,...s.auxData}:s.auxData,data:c,fetching:!1,nextBookmark:i,error:l}}}(a,l);return{...e,[s]:{...i,[d]:E}}}return e}},749886:(e,a,r)=>{"use strict";r.d(a,{Cc:()=>c,DL:()=>i,Gf:()=>p,LX:()=>s,Lc:()=>R,Ls:()=>S,Rf:()=>d,YL:()=>_,ap:()=>o,h8:()=>E,pE:()=>l,s5:()=>T,tQ:()=>u,yR:()=>n});var t=r(883119);let s={w:9,h:16},o=s.w/s.h,n=8,_=10,d=5e3,i=2e3;function l(e,a=1){return{x:(e??24)/5,y:(e??24)*(a-1)}}let E={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},u=[E.IMAGE,E.VIDEO],c={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},S=new t.Ry(1),T=new t.H3([S]),p=new t.H3([T]),R=e=>{let a=Math.floor(e||0),r=Math.floor(a/60),t=a-60*r,s=r<10?`${r}`:r,o=t<10?`0${t}`:t;return`${s}:${o}`}},193163:(e,a,r)=>{"use strict";r.d(a,{T7:()=>o,Y_:()=>i,bl:()=>_,d9:()=>E,nx:()=>l,xt:()=>d});var t=r(5859),s=r(149722);function o(e,a,r,t){let s=r.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return`/today/${a?"shop":0===e||2===e?"trending":1===e?"best":"article"}/${encodeURIComponent(s)}/${t}/`}let n={en:["US","GB","CA","IN","AU","ID"],es:["MX","PE","AR","CL","CO","ES","VE","UY","PY","EC","BO","CR","DO","SV","GT","HN","NI","PR","PA"],pt:["BR"],de:["DE","AT","CH"],fr:["FR"],id:["ID"],ja:["JP"],it:["IT"],sv:["SE"]};function _(){let e=(0,t.B)(),a=(0,s.Z)(),r=a.isAuth?a.country:e.country;if(void 0===e||void 0===e.locale)return!1;let o=e.locale.substring(0,2);return n[o]?.includes(r)}let d=(e,a,r)=>e||a||r||"",i=e=>"todayarticle"===e.type,l=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"story"===e.type),E=(e,a)=>(e??1)/(a??1)},202593:(e,a,r)=>{"use strict";r.d(a,{Z:()=>o});var t=r(850895),s=r(702497);function o({advertiser:e,isAdsSite:a,isAnalyticsSite:r,isTrendsSite:o,baseUrl:n,adsUrl:_,isQuickPromote:d,isShoppingCatalogs:i}){if(a&&!e&&!d)return"/";let l=n;return(a||r||o)&&!i?(_||(_=n),e?(l=(0,t.Z)(_,e.id),a||(l=s.auO+l)):l=a?_:s.auO+l):i?l=s.auO+(0,t.Z)(n,e?e.id:""):_||(l=s.auO+n),l}},192858:(e,a,r)=>{"use strict";r.d(a,{$:()=>s,X:()=>o});var t=r(730786);let s=e=>decodeURIComponent(e),o=e=>encodeURIComponent((0,t.t)(e))},520719:(e,a,r)=>{"use strict";r.d(a,{$o:()=>_,GW:()=>t,Jo:()=>o,Li:()=>y,MS:()=>N,Q8:()=>p,VX:()=>S,Zo:()=>i,aD:()=>l,b2:()=>u,e_:()=>I,g2:()=>c,it:()=>O,kY:()=>A,oM:()=>P,qN:()=>n,s4:()=>d,tK:()=>R,ym:()=>E,zQ:()=>T});let t="/business/hub/?show_vmp=true",s=["FR"],o=["US","GB","CA","AU","DE","FR"].concat(["ES","IT","AT","CH","NL","BR","MX"]).filter(e=>!s.includes(e)),n={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",DISAPPROVED:"DISAPPROVED",UNDER_REVIEW:"UNDER_REVIEW"},_={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},d=Object.freeze({APPLIED:"APPLIED",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED"}),i=Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"workflow-status-warning",REJECTED:"workflow-status-problem",RECOMMENDED:"info-circle"}),l=Object.freeze({UNSTARTED:"dark",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),E="Verified merchant program not yet available in this country",u=2e3,c={can_appeal:!0,is_appeal:!1,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2,review_reasons:[]},S=Object.freeze({ACCOUNT_AGE:"ACCOUNT_AGE",DOMAIN_AGE:"DOMAIN_AGE",PROFILE_IMAGE:"PROFILE_IMAGE",PROFILE_COVER_IMAGE:"PROFILE_COVER_IMAGE",BIO:"BIO",SHOP_TAB:"SHOP_TAB",PINNER_FEEDBACK:"PINNER_FEEDBACK"}),T=[S.ACCOUNT_AGE,S.DOMAIN_AGE,S.PROFILE_IMAGE,S.PROFILE_COVER_IMAGE,S.BIO,S.SHOP_TAB,S.PINNER_FEEDBACK],p=Object.freeze({PASS:"PASS",FAIL:"FAIL"}),R=30,A=6048e5,I="show_vmp",y="true",O=Object.freeze({ACTION_CARDS_BANNER:"ACTION_CARDS_BANNER",WELCOME_BANNER:"WELCOME_BANNER",CELEBRATION_BANNER:"CELEBRATION_BANNER"}),P=3,N=.5},730786:(e,a,r)=>{"use strict";function t(e){if(!e)return e;let a=e.replace(/%26/gi,"&");return(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(/%3F/gi,"?")).replace(/%23/gi,"#")).replace(/%2B/gi,"+")).replace(/%3B/gi,";")).replace(/%2C/gi,",")).replace(/%2F/gi,"/")).replace(/%3A/gi,":")).replace(/%40/gi,"@")).replace(/%3D/gi,"=")).replace(/%24/gi,"$")}function s(e){return Object.keys(e).reduce((a,r)=>({...a,[r]:t(e[r]??"")}),{})}r.d(a,{Z:()=>s,t:()=>t})},879932:(e,a,r)=>{"use strict";r.d(a,{Az:()=>R,DI:()=>O,Gl:()=>D,Hl:()=>G,Kb:()=>b,NA:()=>t,NG:()=>i,OC:()=>U,Pq:()=>f,QM:()=>S,Sk:()=>N,UF:()=>I,Uo:()=>L,WF:()=>_,Xm:()=>l,Zf:()=>o,_D:()=>M,_N:()=>c,ac:()=>n,dt:()=>p,e_:()=>u,gf:()=>A,hf:()=>C,i_:()=>d,jY:()=>y,ni:()=>P,qg:()=>E,rX:()=>s,vX:()=>g,wO:()=>v,yG:()=>T,yq:()=>m});let t="10",s=1,o=365,n=64,_=8,d=9,i=11,l=15,E=16,u=17,c=18,S=19,T=20,p=22,R=1e6,A=R,I="US";function y(e){let a="USD",r="$";switch(e){case"AT":case"BE":case"DE":case"ES":case"FI":case"FR":case"IE":case"IT":case"NL":case"PT":a="EUR",r="€";break;case"AU":a="AUD",r="$";break;case"CA":a="CAD",r="$";break;case"CH":a="CHF",r="CHF";break;case"DK":a="DKK",r="kr";break;case"GB":a="GBP",r="\xa3";break;case"NO":a="NOK",r="kr";break;case"NZ":a="NZD",r="$";break;case"SE":a="SEK",r="kr"}return[a,r]}let O={AU:{budget:1,duration:"10"},CA:{budget:1,duration:"10"},CZ:{budget:80,duration:"10"},FR:{budget:1,duration:"10"},GB:{budget:1,duration:"10"},IE:{budget:1,duration:"10"},NZ:{budget:1,duration:"10"},US:{budget:3,duration:"10"},AT:{budget:1,duration:"10"},DE:{budget:1,duration:"10"},IT:{budget:1,duration:"10"},ES:{budget:1,duration:"10"},NL:{budget:1,duration:"10"},PT:{budget:1,duration:"10"},BE:{budget:1,duration:"10"},CH:{budget:1,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:1,duration:"10"}},P={AU:{budget:10,duration:"10"},CA:{budget:9,duration:"10"},CZ:{budget:150,duration:"10"},FR:{budget:7,duration:"10"},GB:{budget:5,duration:"10"},IE:{budget:7,duration:"10"},NZ:{budget:10,duration:"10"},US:{budget:7,duration:"10"},AT:{budget:7,duration:"10"},DE:{budget:7,duration:"10"},IT:{budget:7,duration:"10"},ES:{budget:7,duration:"10"},NL:{budget:7,duration:"10"},PT:{budget:7,duration:"10"},BE:{budget:7,duration:"10"},CH:{budget:7,duration:"10"},SE:{budget:70,duration:"30"},NO:{budget:70,duration:"30"},DK:{budget:50,duration:"30"},FI:{budget:7,duration:"10"}},N={AT:1,AU:1,BE:1,CA:1,CH:1,CZ:11,DE:1,ES:1,DK:1,FI:1,FR:1,GB:1,IE:1,IT:1,NO:1,NZ:1,NL:1,PT:1,SE:1,US:1},D={PIN_SELECTION_MODAL:"PIN_SELECTION_MODAL",BUSINESS_FORM:"QUICK_PROMOTE_BUSINESS_FORM",BILLING_FORM:"QUICK_PROMOTE_BILLING_FORM",SUCCESS_MODAL:"SUCCESS_MODAL",ERROR_MODAL:"ERROR_MODAL",TAG_MODAL:"TAG_MODAL",GDPR_MODAL:"GDPR_MODAL"},C="QUICK_PROMOTE_PAGE",g=[D.GDPR_MODAL,D.PIN_SELECTION_MODAL,C,D.BUSINESS_FORM,D.BILLING_FORM,D.SUCCESS_MODAL,D.ERROR_MODAL],f={NARROW:"NARROW",MEDIUM:"MEDIUM",WIDE:"WIDE"},L=e=>e>=1&&e<=2,U="qp-fac-education-id",m="qp-fac-modal-education-id",G={CONSIDERATION:"CONSIDERATION",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES"},v={PINS:0,PRODUCT_GROUPS:1,BOARDS:2,SELECTED:3,SEARCH_RESULTS:4},M={MOST_RECENT:"RECENT",PROMOTED_PINS:"PROMOTED"},b=300},614137:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});var t=r(996523);let s=function(e,a){let r=a=>!!(a.entities&&a.entities[e]);return(s,o)=>{let n=a(s,o);if(o.payload&&!Array.isArray(o.payload)){let{normalizedResponse:a}=o.payload;if(a&&r(a)){var _;return Object.keys(_=a.entities[e]).reduce((e,a)=>({...e,[a]:(0,t.Z)(e[a],_[a])}),n)}}return n}}},125227:(e,a,r)=>{"use strict";r.d(a,{Z:()=>ab});var t=r(853824);let s={isUnderageConfirmationModalVisible:!1},o=(e=s,a)=>{if("SET_IS_UNDERAGE_CONFIRMATION_MODAL_VISIBLE"===a.type){let{isUnderageConfirmationModalVisible:r}=a.payload;return{...e,isUnderageConfirmationModalVisible:r}}return e},n=(e=null,a)=>e;var _=r(84054),d=r(928617);let i={adsNotifications:{data:[],error:null,isLoading:!1,isLoaded:!1,lastCallParams:null}};function l(e=i,a){switch(a.type){case d.pl:case d.as:case d.Nq:return{...e,adsNotifications:{...e.adsNotifications,...a.payload}};default:return e}}var E=r(622934),u=r(14890);let c={data:null,loading:!1,error:null},S={data:{},loading:!1,error:void 0,businessIdsAssociatedWithAoaas:[]},T={requests:{},loading:!1,error:void 0},p={assetGroups:{},owners:{adAccountOwners:[],profileOwners:[],aoaaIds:[]},selectedAssetGroupId:void 0,loading:!1,error:void 0,ownerError:void 0,adAccountsLoading:!1,profilesLoading:!1,catalogsLoading:!1,employeesLoading:!1,ownersLoading:!1,partnersLoading:!1,adAccountsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},profilesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},catalogsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},employeesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},partnersTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1}},R={audiences:{sharedAudiences:[],receivedAudiences:[],sharedAudiencesLoading:!0,receivedAudiencesLoading:!0,error:null},sharedAccounts:{accounts:{},loading:!1,error:null}},A={adAccounts:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},catalogs:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},assetGroups:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},businessHierarchyBusinessMembers:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},profiles:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},employees:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},partners:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},pending:{childBusinesses:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1}},organizationManagers:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1}},loading:!1,error:void 0}},I={data:{},loading:!1,selectedCatalogId:void 0,error:void 0,employeesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},employeesLoading:!1,partnersTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},partnersLoading:!1},y={data:[],loading:!1,error:void 0},O={employees:{},invites:{},loading:!1,currentBusiness:void 0,invitesLoading:!1,selectedEmployeeId:void 0,selectedEmployeeInviteId:void 0,error:void 0,adAccountsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},adAccountsLoading:!1,profilesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},profilesLoading:!1,assetGroupsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},assetGroupsLoading:!1,catalogsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},catalogsLoading:!1,adAccountError:void 0,profileError:void 0,assetGroupsError:void 0,catalogError:void 0,assetRoles:void 0},P={list:null,isLoading:!1,error:null};var N=r(707069),D=r(526787),C=r(485330);let g={data:{},loading:!1,error:null,dateRange:{startDate:(0,C.Z)((0,N.Z)((0,D.Z)(),7)).toISOString(),endDate:(0,C.Z)((0,N.Z)((0,D.Z)(),1)).toISOString()}},f={invites:{},requests:{},loading:!1,error:void 0},L={invites:{people:{},partner:{}},requests:{partner:{}},type:"PENDING",loading:!1,error:void 0},U={data:{},loading:!1,error:null,invoiceTabVisibility:"PROGRESS"},m={data:{},loading:!1,error:void 0},G={users:{collapse:!1},accounts:{collapse:!1},isLoading:!1},v={data:{},loading:!1,error:void 0,isSelectedPartnerAssociatedWithAoaa:!1},M={people:{},partner:{},type:["PENDING","EXPIRED"],loading:!1,error:void 0},b={data:{},loading:!1,error:void 0},h={data:{},loading:!1,error:null},B={visibleData:[],page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:""},F={tags:{},loading:!1,selectedTagId:void 0,error:void 0,adAccountsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},adAccountsLoading:!1,adAccountError:void 0,selectedAdAccounts:[],overlayOpen:!1},Y={previousPermissions:void 0,selectedId:void 0,loading:!1,error:void 0},H={loading:!1,error:null,data:[]},V={loading:!1,error:void 0,data:[]},w=(0,u.combineReducers)({people:(e=b,a)=>{switch(a.type){case"GET_PERSON":case"DELETE_PEOPLE":case"GET_PEOPLE":case"GET_AD_ACCOUNTS_PEOPLE":case"GET_PROFILE_DETAIL_PEOPLE":case"CREATE_PEOPLE_INVITE":case"GET_BUSINESS_HIERARCHY_MANAGERS":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE":return{...e,loading:!0};case"GET_PERSON_ERROR":case"DELETE_PEOPLE_ERROR":case"GET_PEOPLE_ERROR":case"GET_AD_ACCOUNTS_PEOPLE_ERROR":case"GET_PROFILE_DETAIL_PEOPLE_ERROR":case"CREATE_PEOPLE_INVITE_ERROR":case"GET_BUSINESS_HIERARCHY_MANAGERS_ERROR":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE_ERROR":return{...e,error:a.error,loading:!1};case"DELETE_PEOPLE_SUCCESS":case"CREATE_PEOPLE_INVITE_SUCCESS":return{...e,loading:!1,error:void 0};case"GET_PERSON_SUCCESS":case"GET_PEOPLE_SUCCESS":case"GET_BUSINESS_HIERARCHY_MANAGERS_SUCCESS":return{...e,loading:!1,data:{...e.data,...a.payload?.data??{}},error:void 0};case"GET_AD_ACCOUNTS_PEOPLE_SUCCESS":case"GET_PROFILE_DETAIL_PEOPLE_SUCCESS":return{...e,loading:!1,error:void 0,data:{...e.data,...Object.keys(a.payload?.data||{}).reduce((e,r)=>({...e,...!!r&&{[r]:{...a.payload?.data[r],roles:a.payload?.data[r].roles||a.payload?.data[r].permissions,permissions:a.payload?.data[r].roles||a.payload?.data[r].permissions}}}),{})}};case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE_SUCCESS":if(!a.payload?.data?.userId||"string"!=typeof a.payload.data.userId||!e.data[a.payload.data.userId]||!a.payload.data.adAccountId||!a.payload.data.userId||!a.payload.data.roles)return{...e,error:a.error,loading:!1};return{...e,loading:!1,error:void 0,data:{...e.data,[a.payload.data.userId]:{...e.data[a.payload.data.userId],roles:a.payload.data.roles}}};case"CLEAR_ERROR":return{...e,error:void 0};case"UPDATE_PEOPLE_TOTAL_COUNT":return{...e,loading:!1,totalCount:a.payload?.totalCount};default:return e}},invitesOrRequests:(e=L,a)=>{let{type:r,data:t,id:s}=a.payload??{};switch(a.type){case"GET_PEOPLE_INVITES":case"GET_PARTNERS_INVITES":case"GET_PARTNERS_REQUESTS":case"CREATE_PARTNER_INVITE":case"CREATE_PARTNER_REQUEST":return{...e,loading:!0};case"GET_PEOPLE_INVITES_ERROR":case"GET_PARTNERS_INVITES_ERROR":case"GET_PARTNERS_REQUESTS_ERROR":case"CREATE_PARTNER_INVITE_ERROR":case"CREATE_PARTNER_REQUEST_ERROR":return{...e,error:a.error,loading:!1};case"CREATE_PARTNER_INVITE_SUCCESS":case"CREATE_PARTNER_REQUEST_SUCCESS":return{...e,loading:!1,error:void 0};case"GET_PEOPLE_INVITES_SUCCESS":case"GET_PARTNERS_INVITES_SUCCESS":return{...e,loading:!1,invites:{...e.invites,[r]:{...e.invites[r],...t}}};case"GET_PARTNERS_REQUESTS_SUCCESS":return{...e,loading:!1,requests:{...e.requests,[r]:{...e.requests[r],...t}}};case"CLEAR_ERROR":return{...e,error:void 0};case"CLEAR_INVITE":if(e.invites.partner){let{[s]:a,...r}=e.invites.partner;return{...e,invites:{...e.invites,partner:{...r}}}}return e;case"CLEAR_REQUEST":if(e.requests.partner){let{[s]:a,...r}=e.requests.partner;return{...e,requests:{...e.requests,partner:{...r}}}}return e;default:return e}},partners:(e=v,a)=>{switch(a.type){case"GET_PARTNER":case"UPDATE_PARTNERS":case"DELETE_PARTNERS":case"GET_PARTNERS":case"GET_AD_ACCOUNTS_PARTNERS":case"GET_PROFILE_DETAIL_PARTNERS":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER":case"GET_IS_PARTNER_ASSOCIATED_WITH_AOAA":return{...e,loading:!0};case"GET_PARTNER_ERROR":case"UPDATE_PARTNERS_ERROR":case"DELETE_PARTNERS_ERROR":case"GET_PARTNERS_ERROR":case"GET_AD_ACCOUNTS_PARTNERS_ERROR":case"GET_PROFILE_DETAIL_PARTNERS_ERROR":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER_ERROR":case"GET_IS_PARTNER_ASSOCIATED_WITH_AOAA_ERROR":return{...e,error:a.error,loading:!1};case"UPDATE_PARTNERS_SUCCESS":case"DELETE_PARTNERS_SUCCESS":return{...e,loading:!1,error:void 0};case"GET_PARTNER_SUCCESS":case"GET_PARTNERS_SUCCESS":return{...e,loading:!1,data:{...e.data,...a.payload?.data??{}}};case"GET_AD_ACCOUNTS_PARTNERS_SUCCESS":case"GET_PROFILE_DETAIL_PARTNERS_SUCCESS":return{...e,loading:!1,data:{...e.data,...Object.keys(a.payload?.data??{}).reduce((e,r)=>({...e,[r??""]:{...a.payload?.data[r],permissions:a.payload?.data[r].permissions||a.payload?.data[r].roles,roles:a.payload?.data[r].permissions||a.payload?.data[r].roles}}),{})}};case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER_SUCCESS":if(!a.payload?.data?.userId||"string"!=typeof a.payload.data.userId||!e.data[a.payload.data.userId]||!a.payload.data.adAccountId||!a.payload.data.userId||!a.payload.data.roles)return{...e,error:a.error,loading:!1};return{...e,loading:!1,error:void 0,data:{...e.data,[a.payload.data.userId]:{...e.data[a.payload.data.userId],roles:a.payload.data.roles}}};case"GET_IS_PARTNER_ASSOCIATED_WITH_AOAA_SUCCESS":return{...e,loading:!1,error:void 0,isSelectedPartnerAssociatedWithAoaa:a.payload??!1};case"CLEAR_ERROR":return{...e,error:void 0};case"UPDATE_PARTNERS_TOTAL_COUNT":return{...e,loading:!1,totalCount:a.payload?.totalCount};default:return e}},employers:(e=P,a)=>{switch(a.type){case"GET_EMPLOYERS":return{...e,error:null,isLoading:!0};case"GET_EMPLOYERS_SUCCESS":if(a.payload?.showTooltip){let r=[];for(let t of a.payload.data)e&&e.list&&!e.list.some(({id:e})=>e===t.id)?r.push({...t,showInTooltip:!0}):r.push(t);return{...e,list:r,isLoading:!1}}return{...e,list:a.payload?.data,isLoading:!1};case"GET_EMPLOYERS_ERROR":return{...e,list:[],error:a.error,isLoading:!1};case"HIDE_EMPLOYERS_TOOLTIP":return{...e,list:e.list?.map(({showInTooltip:e,...a})=>a)};default:return e}},adAccounts:(e=S,a)=>{switch(a.type){case"CREATE_AD_ACCOUNTS":case"GET_MULTIPLE_AD_ACCOUNTS":case"GET_PERSON_ASSETS":case"GET_PARTNER_ASSETS":case"GET_AD_ACCOUNT":case"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT":case"GET_BUSINESS_IDS_ASSOCIATED_WITH_AOAAS":case"GET_AD_ACCOUNTS_SETTINGS":case"UPDATE_AD_ACCOUNTS_SETTINGS":return{...e,loading:!0};case"CREATE_AD_ACCOUNTS_ERROR":case"GET_MULTIPLE_AD_ACCOUNTS_ERROR":case"GET_PERSON_ASSETS_ERROR":case"GET_PARTNER_ASSETS_ERROR":case"GET_AD_ACCOUNT_ERROR":case"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT_ERROR":case"GET_AD_ACCOUNTS_ASSET_GROUPS_ERROR":case"GET_BUSINESS_IDS_ASSOCIATED_WITH_AOAAS_ERROR":case"GET_AD_ACCOUNTS_SETTINGS_ERROR":case"UPDATE_AD_ACCOUNTS_SETTINGS_ERROR":return{...e,error:a.error,loading:!1};case"CREATE_AD_ACCOUNTS_SUCCESS":return{...e,loading:!1,error:void 0};case"GET_MULTIPLE_AD_ACCOUNTS_SUCCESS":case"GET_PERSON_ASSETS_SUCCESS":case"GET_PARTNER_ASSETS_SUCCESS":case"GET_AD_ACCOUNT_SUCCESS":return{...e,loading:!1,data:{...e.data,...a.payload?.data??{}},error:void 0};case"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT_SUCCESS":if(!a.payload?.data?.adAccountId||"string"!=typeof a.payload.data.adAccountId||!e.data[a.payload.data.adAccountId]||!a.payload.data.adAccountId||!a.payload.data.userId||!a.payload.data.roles&&!a.payload.data.permissions)return{...e,error:a.error,loading:!1};return{...e,loading:!1,error:void 0,data:{...e.data,[a.payload.data.adAccountId]:{...e.data[a.payload.data.adAccountId],roles:a.payload.data.roles||a.payload.data.permissions,permissions:a.payload.data.roles||a.payload.data.permissions}}};case"CLEAR_ERROR":return{...e,error:void 0};case"UPDATE_AD_ACCOUNTS_TOTAL_COUNT":return{...e,loading:!1,totalCount:a.payload?.totalCount};case"GET_BUSINESS_IDS_ASSOCIATED_WITH_AOAAS_SUCCESS":return{...e,loading:!1,businessIdsAssociatedWithAoaas:a.payload?.businessIdsAssociatedWithAoaas||[]};case"GET_AD_ACCOUNTS_SETTINGS_SUCCESS":case"UPDATE_AD_ACCOUNTS_SETTINGS_SUCCESS":if(!a.payload?.data?.adAccountId||"string"!=typeof a.payload.data.adAccountId||!e.data[a.payload.data.adAccountId])return{...e,loading:!1};return{...e,loading:!1,data:{...e.data,[a.payload.data.adAccountId]:{...e.data[a.payload.data.adAccountId],settings:a.payload.data.settings??{}}}};default:return e}},actingUser:(e=c,a)=>{switch(a.type){case"GET_ACTING_USER":return{...e,loading:!0,error:null};case"GET_ACTING_USER_SUCCESS":return{...e,data:a.payload,loading:!1};case"GET_ACTING_USER_ERROR":return{...e,loading:!1,error:a.error};default:return e}},table:(e=B,a)=>{switch(a.type){case"GET_BUSINESS_HIERARCHY_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILES_SUCCESS":case"GET_BUSINESS_HIERARCHY_ASSET_GROUPS_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS_SUCCESS":case"GET_PEOPLE_SUCCESS":case"GET_PEOPLE_INVITES_SUCCESS":case"GET_PARTNERS_INVITES_SUCCESS":case"GET_PARTNERS_REQUESTS_SUCCESS":case"GET_PARTNERS_SUCCESS":case"GET_MULTIPLE_AD_ACCOUNTS_SUCCESS":case"GET_PERSON_ASSETS_SUCCESS":case"GET_PARTNER_ASSETS_SUCCESS":case"GET_PERSON_PROFILES_SUCCESS":case"GET_PERSON_ASSET_GROUPS_SUCCESS":case"GET_PARTNER_ASSET_GROUPS_SUCCESS":case"GET_AD_ACCOUNTS_ASSET_GROUPS_SUCCESS":case"GET_AD_ACCOUNTS_PARTNERS_SUCCESS":case"GET_AD_ACCOUNTS_PEOPLE_SUCCESS":case"GET_PROFILE_DETAIL_PEOPLE_SUCCESS":case"GET_PROFILE_DETAIL_PARTNERS_SUCCESS":case"GET_ALL_PROFILES_SUCCESS":case"GET_PENDING_PEOPLE_SUCCESS":case"GET_PENDING_PARTNERS_SUCCESS":case"GET_AOAA_REQUESTS_SUCCESS":case"GET_HISTORY_SUCCESS":case"GET_MANAGED_CLIENTS_SUCCESS":case"GET_BUSINESS_HIERARCHY_MANAGERS_SUCCESS":case"GET_BILLING_INVOICES_SUCCESS":case"GET_ASSET_GROUP_ASSETS_SUCCESS":case"GET_PROFILE_ASSET_GROUPS_SUCCESS":case"GET_SHARED_AUDIENCE_ACCOUNTS_SUCCESS":case"GET_TAG_ASSETS_SUCCESS":{let{updateDataOnly:r,data:t,ids:s,...o}=a.payload??{};if(r)return e;let n=o?.table??{};return{...e,visibleData:s,...o,...n}}case"SET_ROUTER_PARAMS":return B;case"SET_SORT_PARAMS":return{...e,sortBy:a.payload?.sortBy,sortDirection:a.payload?.sortDirection||"ASCENDING"};default:return e}},history:(e=g,a)=>{switch(a.type){case"GET_HISTORY":return{...e,loading:!0,error:null};case"GET_HISTORY_SUCCESS":return{...e,data:{...e.data,...a.payload?.data??{}},loading:!1};case"GET_HISTORY_ERROR":return{...e,loading:!1,error:a.error};case"SET_HISTORY_DATE_RANGE":return{...e,dateRange:a.dateRange};default:return e}},inviteOrRequestData:(e=f,a)=>{let{updateDataOnly:r,type:t,...s}=a.payload??{};switch(a.type){case"GET_INVITE_DATA":case"GET_REQUEST_DATA":return{...e,loading:!0};case"GET_INVITE_DATA_ERROR":case"GET_REQUEST_DATA_ERROR":return{...e,loading:!1,error:a.error};case"GET_INVITE_DATA_SUCCESS":return{...e,invites:{...e.invites,[t]:{...e.invites[t],...s}},loading:!1};case"GET_REQUEST_DATA_SUCCESS":return{...e,requests:{...e.requests,[t]:{...s,...e.requests[t]}},loading:!1};case"CLEAR_PARTNER_INVITE_DATA":return{...e,invites:{...e.invites,partners:{}}};case"CLEAR_PARTNER_REQUEST_DATA":return{...e,requests:{...e.requests,partners:{}}};default:return e}},dashboardRecentlyAdded:(e=y,a)=>{switch(a.type){case"GET_DASHBOARD_RECENTLY_ADDED":return{...e,loading:!0};case"GET_DASHBOARD_RECENTLY_ADDED_ERROR":return{...e,error:a.error,loading:!1};case"GET_DASHBOARD_RECENTLY_ADDED_SUCCESS":return{...e,loading:!1,data:[...a.payload],error:void 0};default:return e}},pending:(e=M,a)=>{switch(a.type){case"GET_PENDING_PEOPLE":case"GET_PENDING_PARTNERS":return{...e,loading:!0};case"GET_PENDING_PEOPLE_ERROR":case"GET_PENDING_PARTNERS_ERROR":return{...e,error:a.error,loading:!1};case"GET_PENDING_PEOPLE_SUCCESS":return{...e,loading:!1,people:{...e.people,...a.payload.data??{}},type:a.payload.inviteStatus??["PENDING","EXPIRED"]};case"GET_PENDING_PARTNERS_SUCCESS":return{...e,loading:!1,partner:{...e.partner,...a.payload.data??{}},type:a.payload.inviteStatus??["PENDING","EXPIRED"]};case"CLEAR_PENDING_DATA":return{...e,loading:!1,people:{},partner:{}};case"CLEAR_ERROR":return{...e,error:void 0};default:return e}},aoaaRequests:(e=T,a)=>{switch(a.type){case"GET_AOAA_REQUESTS":case"UPDATE_AOAA_REQUEST":return{...e,loading:!0};case"UPDATE_AOAA_REQUEST_ERROR":case"GET_AOAA_REQUESTS_ERROR":return{...e,error:a.error,loading:!1};case"GET_AOAA_REQUESTS_SUCCESS":return{...e,loading:!1,requests:{...e.requests,...a.payload.data??{}}};case"UPDATE_AOAA_REQUEST_SUCCESS":if(!a.payload.requestId||"string"!=typeof a.payload.requestId||!e.requests||!e.requests[a.payload.requestId])return{...e,error:a.error,loading:!1};return{...e,loading:!1,requests:{...e.requests,...a.payload.data??{},[a.payload.requestId]:{...e.requests[a.payload.requestId],permissions:a.payload.businessIdToPermissions}}};case"CLEAR_AOAA_REQUESTS":return{...e,loading:!1,requests:{}};case"CLEAR_ERROR":return{...e,error:void 0};default:return e}},assetGroups:(e=p,a)=>{switch(a.type){case"GET_ASSET_GROUPS":return{...e,loading:!0,loadingAssetGroups:!0};case"GET_ASSET_GROUPS_ERROR":return{...e,error:a.error,loading:!1,loadingAssetGroups:!1};case"GET_ASSET_GROUPS_SUCCESS":return{...e,loadingAssetGroups:!1,loading:!1,assetGroups:{...(Array.isArray(a.payload?.data)?a.payload.data:[]).reduce((e,a)=>("id"in a&&(e[a.id]=a),e),{})}};case"CREATE_ASSET_GROUP":case"EDIT_ASSET_GROUP":case"DELETE_ASSET_GROUP":case"UPDATE_EMPLOYEE_PERMISSION_TO_ASSET_GROUP":case"UPDATE_PARTNER_PERMISSION_TO_ASSET_GROUP":case"ADD_PARTNERS_TO_ASSET_GROUP":return{...e,loading:!0};case"CREATE_ASSET_GROUP_ERROR":case"EDIT_ASSET_GROUP_ERROR":case"DELETE_ASSET_GROUP_ERROR":case"UPDATE_EMPLOYEE_PERMISSION_TO_ASSET_GROUP_ERROR":case"UPDATE_PARTNER_PERMISSION_TO_ASSET_GROUP_ERROR":case"ADD_PARTNERS_TO_ASSET_GROUP_ERROR":return{...e,error:a.error,loading:!1};case"CREATE_ASSET_GROUP_SUCCESS":let r=a.payload?.data;if("object"==typeof r&&!Array.isArray(r)&&"string"==typeof r.id)return{...e,loading:!1,error:void 0,selectedAssetGroupId:r.id,assetGroups:{...e.assetGroups,[r.id]:{...r,profiles:[],adAccounts:[],employees:[],partners:[]}}};return e;case"EDIT_ASSET_GROUP_SUCCESS":let t=a.payload?.data;if("object"==typeof t&&"object"==typeof a.payload?.data&&!Array.isArray(t)&&!Array.isArray(a.payload.data)&&"string"==typeof t.id)return{...e,loading:!1,assetGroups:{...e.assetGroups,[t.id]:{...e.assetGroups[t.id],...a.payload.data}}};return e;case"DELETE_ASSET_GROUP_SUCCESS":let s={...e.assetGroups},o=a.payload?.data,n={};if("string"!=typeof o)return e;{Object.keys(s).forEach(e=>{e!==o&&(n[e]=s[e])});let a=Object.keys(n).length>0?Object.keys(n)[0]:void 0;return{...e,loading:!1,loadingAssetGroups:!1,assetGroups:n,selectedAssetGroupId:a}}case"SELECT_ASSET_GROUP":return{...e,selectedAssetGroupId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"UPDATE_EMPLOYEE_PERMISSION_ASSET_GROUP_SUCCESS":if(!a.payload?.data?.assetGroupId||"string"!=typeof a.payload.data.assetGroupId||!e.assetGroups[a.payload.data.assetGroupId]||!a.payload.data.assetGroupId||!a.payload.data.employeeId||!a.payload.data.newPermissions)return{...e,error:a.error,loading:!1};let _=a.payload.data.employeeId,d=a.payload.data.newPermissions;return{...e,loading:!1,assetGroups:{...e.assetGroups,[a.payload.data.assetGroupId]:{...e.assetGroups[a.payload.data.assetGroupId],employees:(e.assetGroups[a.payload.data.assetGroupId].employees||[]).map(e=>e.id===_?{...e,permissions:d}:e)}}};case"UPDATE_PARTNER_PERMISSION_TO_ASSET_GROUP_SUCCESS":if(!a.payload?.data?.assetGroupId||"string"!=typeof a.payload.data.assetGroupId||!e.assetGroups[a.payload.data.assetGroupId]||!a.payload.data.assetGroupId||!a.payload.data.partnerId||!a.payload.data.newPermissions)return{...e,error:a.error,loading:!1};let i=a.payload.data.partnerId,l=a.payload.data.newPermissions;return{...e,loading:!1,assetGroups:{...e.assetGroups,[a.payload.data.assetGroupId]:{...e.assetGroups[a.payload.data.assetGroupId],partners:(e.assetGroups[a.payload.data.assetGroupId].partners||[]).map(e=>e.id===i?{...e,permissions:l}:e)}}};case"ADD_PARTNERS_TO_ASSET_GROUP_SUCCESS":if(!a.payload?.data?.assetGroupId||"string"!=typeof a.payload.data.assetGroupId||!Array.isArray(a.payload.data.partners)||!e.assetGroups[a.payload.data.assetGroupId]||!a.payload.data.partners)return{...e,error:a.error,loading:!1};return{...e,loading:!1,assetGroups:{...e.assetGroups,[a.payload.data.assetGroupId]:{...e.assetGroups[a.payload.data.assetGroupId],partners:[...e.assetGroups[a.payload.data.assetGroupId].partners||[],...a.payload.data.partners]}}};case"GET_ASSET_GROUP_ASSETS":if(a.payload?.data==="AD_ACCOUNT")return{...e,loading:!1,adAccountsLoading:!0};if(a.payload?.data==="PROFILE")return{...e,loading:!1,profilesLoading:!0};return{...e,loading:!1};case"GET_ASSET_GROUP_ASSETS_SUCCESS":if(!a.payload?.data?.assetGroupId||"string"!=typeof a.payload.data.assetGroupId||!e.assetGroups[a.payload.data.assetGroupId])return{...e,error:a.error,loading:!1};let{assetGroupId:E}=a.payload.data,u=a.payload.data.child_asset_ids||[];if(Array.isArray(a.payload.data.adAccounts))return{...e,loading:!1,adAccountsLoading:!1,assetGroups:{...e.assetGroups,[E]:{...e.assetGroups[E],adAccounts:a.payload.data.adAccounts,...u&&{child_ad_account_ids:u}}}};if(Array.isArray(a.payload.data.profiles))return{...e,loading:!1,profilesLoading:!1,assetGroups:{...e.assetGroups,[E]:{...e.assetGroups[E],profiles:a.payload.data.profiles,...u&&{child_profile_ids:u}}}};if(Array.isArray(a.payload.data.catalogs))return{...e,loading:!1,catalogsLoading:!1,assetGroups:{...e.assetGroups,[E]:{...e.assetGroups[E],catalogs:a.payload.data.catalogs,...u&&{child_profile_ids:u}}}};return{...e,loading:!1,profilesLoading:!1,adAccountsLoading:!1};case"GET_ASSET_GROUP_ASSETS_ERROR":return{...e,error:a.error,loading:!1,profilesLoading:!1,adAccountsLoading:!1};case"GET_ASSET_GROUP_USERS":if(a.payload?.data==="PEOPLE")return{...e,loading:!1,employeesLoading:!0};if(a.payload?.data==="PARTNER")return{...e,loading:!1,partnersLoading:!0};return{...e,loading:!1};case"GET_ASSET_GROUP_USERS_SUCCESS":if(!a.payload?.data?.assetGroupId||"string"!=typeof a.payload.data.assetGroupId||!e.assetGroups[a.payload.data.assetGroupId])return{...e,error:a.error,loading:!1,employeesLoading:!1,partnersLoading:!1};let c=a.payload.data.assetGroupId;if(Array.isArray(a.payload.data.people))return{...e,loading:!1,employeesLoading:!1,assetGroups:{...e.assetGroups,[c]:{...e.assetGroups[c],employees:a.payload.data.people}}};if(Array.isArray(a.payload.data.partners))return{...e,loading:!1,partnersLoading:!1,assetGroups:{...e.assetGroups,[c]:{...e.assetGroups[c],partners:a.payload.data.partners}}};return{...e,loading:!1,employeesLoading:!1,partnersLoading:!1};case"GET_ASSET_GROUP_USERS_ERROR":return{...e,error:a.error,loading:!1,employeesLoading:!1,partnersLoading:!1};case"GET_ASSET_GROUP_OWNERS":return{...e,loading:!1,ownersLoading:!0};case"GET_ASSET_GROUP_OWNERS_SUCCESS":if(!a.payload||!a.payload.data||"object"!=typeof a.payload.data||"string"!=typeof a.payload.data.resourceType||!a.payload.data.owners||!a.payload.data.aoaaIds||!Array.isArray(a.payload.data.owners)||!Array.isArray(a.payload.data.aoaaIds))return{...e,loading:!1};let S=[];a.payload.data.owners.forEach(e=>{e&&"object"==typeof e&&S.push({id:"string"==typeof e.id?e.id:"",fullName:"string"==typeof e.fullName?e.fullName:"",assetIds:Array.isArray(e.assetIds)?e.assetIds.map(e=>"string"==typeof e?e:""):[]})});let T=Array.isArray(a.payload?.data?.aoaaIds)?a.payload.data.aoaaIds.map(e=>"string"==typeof e?e:""):[];return a.payload?.data?.resourceType==="AD_ACCOUNT"?{...e,loading:!1,ownersLoading:!1,owners:{...e.owners,adAccountOwners:S,aoaaIds:T}}:{...e,loading:!1,ownersLoading:!1,owners:{...e.owners,profileOwners:S}};case"GET_ASSET_GROUP_OWNERS_ERROR":return{...e,ownerError:a.error,loading:!1,ownersLoading:!1};case"CLEAR_ERROR":return{...e,error:void 0};case"SET_TABLE_STATE":if(!a.payload?.data?.table)return{...e};if("AD_ACCOUNT"===a.payload.data.assetOrMemberType)return{...e,adAccountsTable:{...e.adAccountsTable,...a.payload.data.table}};if("PROFILE"===a.payload.data.assetOrMemberType)return{...e,profilesTable:{...e.profilesTable,...a.payload.data.table}};if("PEOPLE"===a.payload.data.assetOrMemberType)return{...e,employeesTable:{...e.employeesTable,...a.payload.data.table}};if("PARTNER"===a.payload.data.assetOrMemberType)return{...e,partnersTable:{...e.partnersTable,...a.payload.data.table}};return{...e};case"GET_PERSON_ASSET_GROUPS":case"GET_AD_ACCOUNTS_ASSET_GROUPS":case"GET_PROFILE_ASSET_GROUPS":case"GET_PARTNER_ASSET_GROUPS":return{...e,loadingAssetGroups:!0,loading:!0};case"GET_PERSON_ASSET_GROUPS_ERROR":case"GET_AD_ACCOUNTS_ASSET_GROUPS_ERROR":case"GET_PROFILE_ASSET_GROUPS_ERROR":case"GET_PARTNER_ASSET_GROUPS_ERROR":return{...e,loadingAssetGroups:!1,loading:!1,error:a.error??void 0};case"GET_PERSON_ASSET_GROUPS_SUCCESS":case"GET_AD_ACCOUNTS_ASSET_GROUPS_SUCCESS":case"GET_PROFILE_ASSET_GROUPS_SUCCESS":case"GET_PARTNER_ASSET_GROUPS_SUCCESS":let R="object"!=typeof a.payload?.data||Array.isArray(a.payload.data)?{}:a.payload.data;return{...e,loadingAssetGroups:!1,loading:!1,assetGroups:Object.keys(R).reduce((e,a)=>({...e,[a]:{entity_type:"ASSET_GROUP",id:a,name:R[a]?.asset.name,description:R[a]?.asset.description,asset_group_types:R[a]?.asset.asset_group_types,adAccounts:[],profiles:[],child_ad_account_ids:R[a]?.asset.child_ad_account_ids||[],child_profile_ids:R[a]?.asset.child_profile_ids||[],employees:[],partners:[],created_by:{username:R[a]?.created_by.username,full_name:R[a]?.created_by.full_name},created_time:R[a]?.asset.created_time,owner:{username:R[a]?.owner.username,full_name:R[a]?.owner.full_name,id:R[a]?.owner.id},permissions:R[a]?.permissions}}),{})};default:return e}},profiles:(e=h,a)=>{switch(a.type){case"GET_ALL_PROFILES":case"GET_DASHBOARD_PROFILES":case"GET_PROFILE_META":case"GET_PERSON_PROFILES":return{...e,loading:!0,error:null};case"GET_ALL_PROFILES_ERROR":case"GET_DASHBOARD_PROFILES_ERROR":case"GET_PERSON_PROFILES_ERROR":case"GET_PROFILE_META_ERROR":return{...e,loading:!1,error:a.error};case"GET_ALL_PROFILES_SUCCESS":case"GET_PROFILE_META_SUCCESS":case"GET_PERSON_PROFILES_SUCCESS":return{...e,loading:!1,error:null,data:{...e.data,...a.payload?.data}};case"GET_DASHBOARD_PROFILES_SUCCESS":return{...e,loading:!1,error:null,data:{...e.data,...a.payload?.data},dashboardVisibleData:a.payload?.ids};default:return e}},viewerInvites:(e=V,a)=>{switch(a.type){case"GET_VIEWER_INVITES":return{...e,loading:!0};case"GET_VIEWER_INVITES_ERROR":return{...e,loading:!1,error:a.error};case"GET_VIEWER_INVITES_SUCCESS":return{...e,loading:!1,data:a.payload?.data??[]};default:return e}},viewerBusinessHierarchyInvites:(e=H,a)=>{switch(a.type){case"GET_VIEWER_BUSINESS_HIERARCHY_INVITES":return{...e,loading:!0};case"GET_VIEWER_BUSINESS_HIERARCHY_INVITES_ERROR":return{...e,loading:!1,error:a.error};case"GET_VIEWER_BUSINESS_HIERARCHY_INVITES_SUCCESS":return{...e,loading:!1,data:a.payload?.data??[]};default:return e}},navigation:(e=G,a)=>{switch(a.type){case"TOGGLE_USERS":return{...e,users:{collapse:!e.users.collapse},isLoading:!1};case"TOGGLE_ACCOUNTS":return{...e,accounts:{collapse:!e.accounts.collapse},isLoading:!1};default:return e}},managedClients:(e=m,a)=>{switch(a.type){case"GET_MANAGED_CLIENTS":return{...e,loading:!0};case"GET_MANAGED_CLIENTS_SUCCESS":return{...e,loading:!1,data:{...e.data,...a.payload?.data??Object.freeze({})},error:void 0};case"GET_MANAGED_CLIENTS_ERROR":return{...e,error:a.error,loading:!1};default:return e}},invoiceManagement:(e=U,a)=>{switch(a.type){case"GET_BILLING_INVOICES":return{...e,loading:!0,error:null};case"GET_BILLING_INVOICES_SUCCESS":return{...e,data:{...e.data,...a.payload?.data??U.data},loading:!1};case"GET_BILLING_INVOICES_ERROR":return{...e,loading:!1,error:a.error};case"SET_BILLING_INVOICES_VISIBILITY":return{...e,invoiceTabVisibility:a.payload};default:return e}},businessHierarchy:(e=A,a)=>{switch(a.type){case"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS":return{...e,adAccounts:{...e.adAccounts,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS_ERROR":return{...e,adAccounts:{...e.adAccounts,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS_SUCCESS":return{...e,adAccounts:{...e.adAccounts,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...e.adAccounts.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_PROFILES":return{...e,profiles:{...e.profiles,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_PROFILES_ERROR":return{...e,profiles:{...e.profiles,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_PROFILES_SUCCESS":return{...e,profiles:{...e.profiles,data:Array.isArray(a.payload?.data)?a.payload.data.map(e=>({...e,roles:e.roles||e.permissions,permissions:e.roles||e.permissions})):[],table:{...e.profiles.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_ASSET_GROUPS":return{...e,assetGroups:{...e.assetGroups,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_ASSET_GROUPS_ERROR":return{...e,assetGroups:{...e.assetGroups,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_ASSET_GROUPS_SUCCESS":return{...e,assetGroups:{...e.assetGroups,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...e.assetGroups.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_CATALOGS":return{...e,catalogs:{...e.catalogs,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_CATALOGS_ERROR":return{...e,catalogs:{...e.catalogs,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_CATALOGS_SUCCESS":return{...e,catalogs:{...e.catalogs,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...e.catalogs.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_EMPLOYEES":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES":case"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES":return{...e,employees:{...e.employees,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS":return{...e,businessHierarchyBusinessMembers:{...e.businessHierarchyBusinessMembers,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS_ERROR":return{...e,businessHierarchyBusinessMembers:{...e.businessHierarchyBusinessMembers,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS_SUCCESS":return{...e,businessHierarchyBusinessMembers:{...e.businessHierarchyBusinessMembers,data:a.payload?.data||[],table:{...e.businessHierarchyBusinessMembers.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_EMPLOYEES_ERROR":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES_ERROR":case"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES_ERROR":return{...e,employees:{...e.employees,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES_SUCCESS":return{...e,employees:{...e.employees,data:Array.isArray(a.payload?.data)?a.payload.data.map(e=>({...e,permissions:e.permissions||e.roles,roles:e.permissions||e.roles})):[],table:{...e.employees.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_PARTNERS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS":case"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS":return{...e,partners:{...e.partners,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_PARTNERS_ERROR":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS_ERROR":case"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS_ERROR":return{...e,partners:{...e.partners,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_PARTNERS_SUCCESS":return{...e,partners:{...e.partners,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...e.partners.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS_SUCCESS":return{...e,partners:{...e.partners,data:Array.isArray(a.payload?.data)?a.payload.data.map(e=>({...e,permissions:e.permissions||e.roles,roles:e.permissions||e.roles})):[],table:{...e.partners.table,...a.payload?.table},loading:!1,error:void 0}};case"CREATE_BUSINESS_HIERARCHY_INVITE":case"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES":case"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS":return{...e,pending:{...e.pending,loading:!0}};case"CREATE_BUSINESS_HIERARCHY_INVITE_ERROR":case"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES_ERROR":case"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS_ERROR":return{...e,pending:{...e.pending,error:a.error,loading:!1}};case"CREATE_BUSINESS_HIERARCHY_INVITE_CHILD_BUSINESSES_SUCCESS":case"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES_SUCCESS":return{...e,pending:{...e.pending,childBusinesses:{...e.pending.childBusinesses,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...e.pending.childBusinesses.table,...a.payload?.table}},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS_SUCCESS":return{...e,pending:{...e.pending,organizationManagers:{...e.pending.organizationManagers,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...e.pending.organizationManagers.table,...a.payload?.table}},loading:!1,error:void 0}};default:return e}},tags:(e=F,a)=>{switch(a.type){case"GET_TAGS":case"DELETE_TAGS":return{...e,loading:!0};case"GET_TAGS_ERROR":case"DELETE_TAGS_ERROR":return{...e,error:a.error,loading:!1};case"GET_TAGS_SUCCESS":let r=(e,a,r)=>({id:a?e.id:e.leader_tag_id??"",name:a?e.name:e.leader_tag_name??"",automatic_enhanced_match:e.automatic_enhanced_match,ad_account_id:a?e.ad_account_id:e.leader_tag_ad_account_id??"",business_id:a?e.business_id:e.leader_tag_business_id??"",created_time:e.created_time,last_fired_event:e.last_fired_event,tags:r??[],adAccounts:[]});return{...e,loading:!1,tags:{...(Array.isArray(a.payload?.data)?a.payload.data:[]).reduce((e,a)=>{if(a.leader_tag_id)e[a.leader_tag_id]&&(e[a.leader_tag_id].tags=e[a.leader_tag_id].tags.concat(a));else if(a.id){let t=e[a.id]?e[a.id].tags:[];e[a.id]={...r(a,!0,t)}}return e},{})}};case"DELETE_TAGS_SUCCESS":let t={...e.tags},s=a.payload?.data&&a.payload.data.id?a.payload.data.id:void 0,o={};if("string"!=typeof s||!(s in t))return e;{Object.keys(t).forEach(e=>{e!==s&&(o[e]=t[e])});let a=Object.keys(o).length>0?Object.keys(o)[0]:void 0;return{...e,loading:!1,tags:o,selectedTagId:a}}case"SELECT_TAGS":return{...e,selectedTagId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"SET_OVERLAY":return{...e,overlayOpen:!("object"!=typeof a.payload?.data||Array.isArray(a.payload.data))&&(a.payload.data.overlayState??!1)};case"SELECT_TAG_AD_ACCOUNTS":return{...e,selectedAdAccounts:"object"!=typeof a.payload?.data||Array.isArray(a.payload.data)?[]:a.payload.data.adAccounts??[]};case"CLEAR_ERROR":return{...e,error:void 0};case"SET_TABLE_STATE":if(!a.payload?.data?.table)return{...e};return{...e,adAccountsTable:{...e.adAccountsTable,...a.payload.data.table}};case"GET_TAG_ASSETS_SUCCESS":if(!a.payload?.data?.tagId||"string"!=typeof a.payload.data.tagId||!e.tags[a.payload.data.tagId])return{...e,error:a.error,loading:!1};let{tagId:n}=a.payload.data,_={};if(a.payload.data.ownerAdAccount&&"object"==typeof a.payload.data.ownerAdAccount&&!Array.isArray(a.payload.data.ownerAdAccount)&&(_={ownerAdAccount:a.payload.data.ownerAdAccount}),Array.isArray(a.payload.data.adAccounts))return{...e,loading:!1,adAccountsLoading:!1,tags:{...e.tags,[n]:{...e.tags[n],adAccounts:a.payload.data.adAccounts,..._}}};return{...e,loading:!1,adAccountsLoading:!1};case"GET_TAG_ASSETS":case"ADD_TAG_ASSETS_AD_ACCOUNT":case"REVOKE_TAG_ASSETS_AD_ACCOUNT":return{...e,adAccountsLoading:!0};case"GET_TAG_ASSETS_ERROR":case"ADD_TAG_ASSETS_AD_ACCOUNT_ERROR":case"REVOKE_TAG_ASSETS_AD_ACCOUNT_ERROR":return{...e,adAccountsLoading:!1,adAccountError:a.error??void 0};case"ADD_TAG_ASSETS_AD_ACCOUNT_SUCCESS":case"REVOKE_TAG_ASSETS_AD_ACCOUNT_SUCCESS":if(!a.payload?.data?.tagId||"string"!=typeof a.payload.data.tagId||!e.tags[a.payload.data.tagId])return{...e,error:a.error,loading:!1};if(Array.isArray(a.payload.data.adAccounts)&&Array.isArray(a.payload.data.tags))return{...e,adAccountsLoading:!1,tags:{...e.tags,[a.payload.data.tagId]:{...e.tags[a.payload.data.tagId],tags:a.payload.data.tags,adAccounts:a.payload.data.adAccounts}}};return{...e,adAccountsLoading:!1};default:return e}},audienceSharing:(e=R,a)=>{switch(a.type){case"GET_SHARED_AUDIENCES":return{...e,audiences:{...e.audiences,sharedAudiencesLoading:!0,error:null}};case"GET_SHARED_AUDIENCES_SUCCESS":return{...e,audiences:{...e.audiences,sharedAudiences:a.data||[],sharedAudiencesLoading:!1}};case"GET_SHARED_AUDIENCES_ERROR":return{...e,audiences:{...e.audiences,sharedAudiencesLoading:!1,error:a.error}};case"GET_RECEIVED_AUDIENCES":return{...e,audiences:{...e.audiences,receivedAudiencesLoading:!0,error:null}};case"GET_RECEIVED_AUDIENCES_SUCCESS":return{...e,audiences:{...e.audiences,receivedAudiences:a.data||[],receivedAudiencesLoading:!1}};case"GET_RECEIVED_AUDIENCES_ERROR":return{...e,audiences:{...e.audiences,receivedAudiencesLoading:!1,error:a.error}};case"SELECTED_AUDIENCE_ID":return{...e,audiences:{...e.audiences,selectedAudienceId:a.id,sharedAudiencesLoading:!1,receivedAudiencesLoading:!1}};case"GET_SHARED_AUDIENCE_ACCOUNTS":return{...e,sharedAccounts:{...e.sharedAccounts,accounts:{},loading:!0,error:null}};case"GET_SHARED_AUDIENCE_ACCOUNTS_SUCCESS":return{...e,sharedAccounts:{...e.sharedAccounts,accounts:{...e.sharedAccounts.accounts,...a.payload.data??{}},loading:!1}};case"GET_SHARED_AUDIENCE_ACCOUNTS_ERROR":return{...e,sharedAccounts:{...e.sharedAccounts,loading:!1,error:a.error}};default:return e}},updatePermissions:(e=Y,a)=>{switch(a.type){case"UPDATE_PERMISSION":return{...e,loading:!0};case"UPDATE_PERMISSION_ERROR":return{...e,error:a.error,loading:!1};case"UPDATE_PERMISSION_SUCCESS":return{...e,loading:!1,error:void 0};case"SET_SELECTED_ID":return{...e,selectedId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"SET_PREVIOUS_PERMISSIONS":return{...e,previousPermissions:a.payload?.previousPermissions};default:return e}},employees:(e=O,a)=>{switch(a.type){case"GET_EMPLOYEES":case"DELETE_EMPLOYEES":case"UPDATE_EMPLOYEES_ROLE":return{...e,loading:!0};case"GET_EMPLOYEES_ERROR":case"DELETE_EMPLOYEES_ERROR":case"UPDATE_EMPLOYEES_ROLE_ERROR":return{...e,error:a.error,loading:!1};case"GET_EMPLOYEES_SUCCESS":return{...e,loading:!1,employees:{...e.employees,...(Array.isArray(a.payload?.data)?a.payload.data:[]).reduce((e,a)=>("id"in a&&(e[a.id]=a),e),{})}};case"GET_EMPLOYEES_INVITES":case"ADD_EMPLOYEES_INVITES":case"DELETE_EMPLOYEES_INVITES":return{...e,invitesLoading:!0};case"GET_EMPLOYEES_INVITES_ERROR":case"ADD_EMPLOYEES_INVITES_ERROR":case"DELETE_EMPLOYEES_INVITES_ERROR":return{...e,error:a.error,invitesLoading:!1};case"GET_EMPLOYEES_INVITES_SUCCESS":let r="object"!=typeof a.payload?.data||Array.isArray(a.payload.data)?[]:a.payload.data.invites??[];return{...e,invitesLoading:!1,invites:r.reduce((e,a)=>("id"in a&&(e[a.id]=a),e),{})};case"ADD_EMPLOYEES_INVITES_SUCCESS":let t="object"!=typeof a.payload?.data||Array.isArray(a.payload.data)?[]:a.payload.data.invites??[],s=t.reduce((e,a)=>("id"in a&&(e[a.id]=a),e),{});return{...e,invitesLoading:!1,invites:{...s,...e.invites}};case"DELETE_EMPLOYEES_INVITES_SUCCESS":let o="string"==typeof a.payload?.data?a.payload.data:void 0;if(!o||!e.invites[o])return e;{let a={...e.invites},r={};Object.keys(a).forEach(e=>{e!==o&&(r[e]=a[e])});let t=Object.keys(r),s=t.length>0?t[0]:void 0;return{...e,loading:!1,invites:r,selectedEmployeeInviteId:s}}case"UPDATE_EMPLOYEES_ROLE_SUCCESS":let n="string"==typeof a.payload?.data?.employeeId?a.payload.data.employeeId:void 0;if(n&&e.employees[n])return{...e,loading:!1,employees:{...e.employees,[n]:{...e.employees[n],business_roles:a.payload?.data?.role?[a.payload.data.role]:[]}}};return e;case"DELETE_EMPLOYEES_SUCCESS":let _="string"==typeof a.payload?.data?a.payload.data:void 0;if(!_||!e.employees[_])return e;{let a={...e.employees},r={};Object.keys(a).forEach(e=>{e!==_&&(r[e]=a[e])});let t=Object.keys(r).length>0?Object.keys(r)[0]:void 0;return{...e,loading:!1,employees:r,selectedEmployeeId:t}}case"SELECT_EMPLOYEES":return{...e,selectedEmployeeId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"SET_BUSINESS":return{...e,currentBusiness:"string"==typeof a.payload?.data?a.payload.data:void 0};case"SELECT_EMPLOYEES_INVITES":return{...e,selectedEmployeeInviteId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"REFRESH_EMPLOYEE_INVITE_DATE":if(!a.payload?.data||"string"!=typeof a.payload.data||!e.invites[a.payload.data])return e;return{...e,invites:{...e.invites,[a.payload.data]:{...e.invites[a.payload.data],invite_data:{...e.invites[a.payload.data].invite_data,sent_at:Date.now()}}}};case"CLEAR_ERROR":return{...e,error:void 0};case"GET_EMPLOYEE_ROLES_SUCCESS":return{...e,assetRoles:"object"!=typeof a.payload?.data||Array.isArray(a.payload.data)?{}:a.payload.data.assetRoles??{},adAccountsLoading:!1};case"GET_EMPLOYEE_ROLES":case"GET_EMPLOYEE_ADACCOUNTS":case"DELETE_EMPLOYEES_ADACCOUNT":case"ADD_EMPLOYEES_ADACCOUNT":return{...e,adAccountsLoading:!0};case"GET_EMPLOYEE_ROLES_ERROR":case"GET_EMPLOYEE_ADACCOUNTS_ERROR":case"DELETE_EMPLOYEES_ADACCOUNT_ERROR":case"ADD_EMPLOYEES_ADACCOUNT_ERROR":return{...e,adAccountsLoading:!1,adAccountError:a.error??void 0};case"GET_EMPLOYEE_ADACCOUNTS_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!e.employees[a.payload.data.employeeId])return{...e,error:a.error,loading:!1};let{employeeId:d}=a.payload.data;if(Array.isArray(a.payload.data.adAccounts))return{...e,loading:!1,adAccountsLoading:!1,employees:{...e.employees,[d]:{...e.employees[d],adAccounts:a.payload.data.adAccounts}}};return{...e,loading:!1,adAccountsLoading:!1};case"SET_ADACCOUNTS_TABLE_STATE":if(!a.payload?.data?.table)return{...e};return{...e,adAccountsTable:{...e.adAccountsTable,...a.payload.data.table,sortBy:a.payload.data.table.sortBy||e?.adAccountsTable.sortBy,sortDirection:a.payload.data.table.sortDirection||e?.adAccountsTable.sortDirection}};case"GET_EMPLOYEE_PROFILES_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!e.employees[a.payload.data.employeeId])return{...e,error:a.error,loading:!1};if(Array.isArray(a.payload.data.profiles))return{...e,loading:!1,profilesLoading:!1,employees:{...e.employees,[a.payload.data.employeeId]:{...e.employees[a.payload.data.employeeId],profiles:a.payload.data.profiles}}};return{...e,loading:!1,profilesLoading:!1};case"GET_EMPLOYEE_PROFILES":case"DELETE_EMPLOYEES_PROFILE":case"ADD_EMPLOYEES_PROFILE":return{...e,profilesLoading:!0};case"GET_EMPLOYEE_PROFILES_ERROR":case"DELETE_EMPLOYEES_PROFILE_ERROR":case"ADD_EMPLOYEES_PROFILE_ERROR":return{...e,profilesLoading:!1,profileError:a.error??void 0};case"ADD_EMPLOYEES_ADACCOUNT_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!e.employees[a.payload.data.employeeId])return{...e,loading:!1,adAccountsLoading:!1};let i=a.payload.data.employeeId,l=e.employees[i].assets_summary?e.employees[i].assets_summary:{ad_accounts:[],profiles:[]},E="object"==typeof a.payload.data&&!Array.isArray(a.payload.data)&&Array.isArray(a.payload.data.addedAdAccounts)?a.payload.data.addedAdAccounts:[],u=E.map(e=>({id:e.asset.id,permissions:e.roles}));return l.ad_accounts=(l.ad_accounts||[]).concat(u),{...e,loading:!1,adAccountsLoading:!1,employees:{...e.employees,[i]:{...e.employees[i],assets_summary:l,adAccounts:e.employees[i].adAccounts?.concat(E)}}};case"DELETE_EMPLOYEES_ADACCOUNT_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!e.employees[a.payload.data.employeeId])return{...e,loading:!1,adAccountsLoading:!1};let c=a.payload.data.employeeId,S="object"!=typeof a.payload.data||Array.isArray(a.payload.data)?"":a.payload.data.adAccountId;if(S){let a=(e.employees[c].assets_summary?.ad_accounts||[]).filter(e=>e.id!==S),r=e.employees[c].assets_summary?e.employees[c].assets_summary:{ad_accounts:[],profiles:[]};return r.ad_accounts=a,{...e,loading:!1,adAccountsLoading:!1,employees:{...e.employees,[c]:{...e.employees[c],assets_summary:r,adAccounts:e.employees[c].adAccounts?.filter(e=>e.asset_id!==S)}}}}return{...e,loading:!1,adAccountsLoading:!1};case"UPDATE_EMPLOYEES_ADACCOUNT_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!e.employees[a.payload.data.employeeId]||!a.payload.data.adAccountId||"string"!=typeof a.payload.data.adAccountId)return{...e,loading:!1,adAccountsLoading:!1};let T=a.payload.data.employeeId,p=a.payload.data.adAccountId,R=e.employees[T].assets_summary?e.employees[T].assets_summary:{ad_accounts:[],profiles:[]},A="object"==typeof a.payload.data&&!Array.isArray(a.payload.data)&&Array.isArray(a.payload.data.permissions)?a.payload.data.permissions:[];return R.ad_accounts=(R.ad_accounts||[]).map(e=>e.id===p?{...e,permissions:A}:e),{...e,loading:!1,profilesLoading:!1,employees:{...e.employees,[T]:{...e.employees[T],assets_summary:R,adAccounts:e.employees[T].adAccounts?.map(e=>e.asset.id===p?{...e,roles:A}:e)}}};case"ADD_EMPLOYEES_PROFILE_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!e.employees[a.payload.data.employeeId])return{...e,loading:!1,adAccountsLoading:!1};let I=a.payload.data.employeeId,y=e.employees[I].assets_summary?e.employees[I].assets_summary:{ad_accounts:[],profiles:[]},P="object"==typeof a.payload.data&&!Array.isArray(a.payload.data)&&Array.isArray(a.payload.data.addedProfiles)?a.payload.data.addedProfiles:[],N=P.map(e=>({id:e.asset.id,permissions:e.roles}));return y.profiles=(y.profiles||[]).concat(N),{...e,loading:!1,profilesLoading:!1,employees:{...e.employees,[I]:{...e.employees[I],assets_summary:y,profiles:e.employees[I].profiles?.concat(P)}}};case"DELETE_EMPLOYEES_PROFILE_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!e.employees[a.payload.data.employeeId])return{...e,loading:!1,adAccountsLoading:!1};let D=a.payload.data.employeeId,C="object"!=typeof a.payload.data||Array.isArray(a.payload.data)?"":a.payload.data.profileId;if(C){let a=(e.employees[D].assets_summary?.profiles||[]).filter(e=>e.id!==C),r=e.employees[D].assets_summary?e.employees[D].assets_summary:{ad_accounts:[],profiles:[]};return r.profiles=a,{...e,loading:!1,profilesLoading:!1,employees:{...e.employees,[D]:{...e.employees[D],assets_summary:r,profiles:e.employees[D].profiles?.filter(e=>e.asset_id!==C)}}}}return{...e,loading:!1,adAccountsLoading:!1};case"SET_PROFILES_TABLE_STATE":if(!a.payload?.data?.table)return{...e};return{...e,profilesTable:{...e.profilesTable,...a.payload.data.table,sortBy:a.payload.data.table.sortBy||e?.adAccountsTable.sortBy,sortDirection:a.payload.data.table.sortDirection||e?.adAccountsTable.sortDirection}};case"GET_EMPLOYEE_ASSET_GROUPS_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!e.employees[a.payload.data.employeeId])return{...e,error:a.error,loading:!1};if(Array.isArray(a.payload.data.assetGroups))return{...e,assetGroupsLoading:!1,employees:{...e.employees,[a.payload.data.employeeId]:{...e.employees[a.payload.data.employeeId],assetGroups:a.payload.data.assetGroups}}};return{...e,loading:!1,assetGroupsLoading:!1};case"GET_EMPLOYEE_ASSET_GROUPS":return{...e,assetGroupsLoading:!0};case"GET_EMPLOYEE_ASSET_GROUPS_ERROR":return{...e,assetGroupsLoading:!1,assetGroupsError:a.error??void 0};case"SET_ASSET_GROUPS_TABLE_STATE":if(!a.payload?.data?.table)return{...e};return{...e,assetGroupsTable:{...e.assetGroupsTable,...a.payload.data.table}};case"GET_EMPLOYEE_CATALOGS_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!e.employees[a.payload.data.employeeId])return{...e,error:a.error,catalogsLoading:!1};if(Array.isArray(a.payload.data.catalogs))return{...e,catalogsLoading:!1,employees:{...e.employees,[a.payload.data.employeeId]:{...e.employees[a.payload.data.employeeId],catalogs:a.payload.data.catalogs}}};return{...e,loading:!1,catalogsLoading:!1};case"GET_EMPLOYEE_CATALOGS":return{...e,catalogsLoading:!0};case"GET_EMPLOYEE_CATALOGS_ERROR":return{...e,catalogsLoading:!1,catalogError:a.error??void 0};case"SET_CATALOGS_TABLE_STATE":if(!a.payload?.data?.table)return{...e};return{...e,catalogsTable:{...e.catalogsTable,...a.payload.data.table}};default:return e}},catalogs:(e=I,a)=>{switch(a.type){case"GET_CATALOGS_ERROR":return{...e,error:a.error,loading:!1};case"GET_CATALOGS":return{...e,loading:!0};case"GET_CATALOGS_SUCCESS":if(!a.payload?.data||!Array.isArray(a.payload.data))return{...e,loading:!1};return{...e,data:a.payload.data.reduce((e,a)=>({...e,[a.id]:a}),{}),loading:!1};case"GET_CATALOG_EMPLOYEES_SUCCESS":if(!a.payload?.data?.catalogId||"string"!=typeof a.payload.data.catalogId||!e.data[a.payload.data.catalogId])return{...e,error:a.error,loading:!1};let{catalogId:r}=a.payload.data;if(Array.isArray(a.payload.data.employees))return{...e,loading:!1,employeesLoading:!1,data:{...e.data,[r]:{...e.data[r],employees:a.payload.data.employees}}};return{...e,loading:!1,employeesLoading:!1};case"GET_CATALOG_EMPLOYEES":return{...e,employeesLoading:!0,employeesError:void 0};case"GET_CATALOG_EMPLOYEES_ERROR":return{...e,employeesLoading:!1,employeesError:a.error??void 0};case"SET_CATALOG_EMPLOYEES_TABLE_STATE":if(!a.payload?.data?.table)return{...e};return{...e,employeesTable:{...e.employeesTable,...a.payload.data.table}};case"GET_CATALOG_PARTNERS_SUCCESS":if(!a.payload?.data?.catalogId||"string"!=typeof a.payload.data.catalogId||!e.data[a.payload.data.catalogId])return{...e,error:a.error,loading:!1};let{catalogId:t}=a.payload.data;if(Array.isArray(a.payload.data.partners))return{...e,loading:!1,partnersLoading:!1,data:{...e.data,[t]:{...e.data[t],partners:a.payload.data.partners}}};return{...e,loading:!1,partnersLoading:!1};case"GET_CATALOG_PARTNERS":return{...e,partnersLoading:!0,partnersError:void 0};case"GET_CATALOG_PARTNERS_ERROR":return{...e,partnersLoading:!1,partnersError:a.error??void 0};case"SET_CATALOG_PARTNERS_TABLE_STATE":if(!a.payload?.data?.table)return{...e};return{...e,partnersTable:{...e.partnersTable,...a.payload.data.table}};case"SET_SELECTED_CATALOG_ID":return{...e,selectedCatalogId:"string"==typeof a.payload?.data?a.payload.data:""};default:return e}}});var k=r(614137);let K=(0,k.Z)("articles",(e={})=>e),W=(e={businessInformationForm:{},billingInformationForm:{},autoFillQPBillingChecked:!0},a)=>{if("STERLING_UPDATE_BUSINESS_INFORMATION_FORM"===a.type||"STERLING_UPDATE_BILLING_INFORMATION_FORM"===a.type){let r={...e,[a.formName]:{...e[a.formName],...a.values}};return r}return"QUICK_PROMOTE_COPY_BUSINESS_INFO"===a.type?{...e,autoFillQPBillingChecked:a.isChecked}:e};var x=r(419821),j=r(192858);let Z=["BoardsResource","BoardFollowingResource","SearchResource","BoardArchiveResource"],Q=(e,a)=>({...e,[a.id]:e[a.id]?{...e[a.id],...a}:{...a}}),q=(e,{payload:{boardId:a,collaboratingUser:r}})=>{let t=e[a];return Q(e,{id:a,collaborating_users:(t.collaborating_users||[]).concat(r)})},z=(e,{payload:{userId:a,boardId:r,viewingUser:t}})=>{let s=e[r],o=s.collaborating_users?s.collaborating_users.indexOf(a):-1;return Q(e,{id:r,...s.collaborator_count?{collaborator_count:s.collaborator_count-1}:Object.freeze({}),...s.collaborated_by_me?{collaborated_by_me:t!==a&&s.collaborated_by_me}:Object.freeze({}),...s.access&&{access:t===a?[]:s.access},...o>-1?{collaborating_users:(s.collaborating_users??[]).filter((e,a)=>a!==o)}:Object.freeze({})})},$=(e,{payload:{boardId:a,viewingUser:r,status:t,collaboratingUsers:s}})=>{let o=e[a],n=s.map(e=>e?.id).filter(Boolean);return"accepted"===t?Q(e,{id:a,...o.collaborator_count||0===o.collaborator_count?{collaborator_count:o.collaborator_count+n.length}:{},...o.collaborated_by_me||!1===o.collaborated_by_me?{collaborated_by_me:o.collaborated_by_me||n.includes(r)}:{},...o.access&&{access:n.includes(r)?["write","delete"]:o.access},...o.collaborating_users&&{collaborating_users:[...o.collaborating_users??[],...s]}}):e},X=(e,a)=>{let{options:r={}}=a.payload,{data:t}=a.payload.response.resource_response;return a.type===x.zP&&r.slug&&!t?.url?.includes(r.slug)?{oldSlugUrl:`/${r.username}/${(0,j.X)(r.slug)}/`}:{}},J=(e,a)=>{let{response:r}=a.payload,t=r.resource_response.data;return t?.length?{...e,related_interest_ids:t.map(e=>e.id)}:e};function ee(e={},a){switch(a.type){case x.zP:case x.aW:{let{resource:r}=a.payload,{data:t}=a.payload.response.resource_response;if("BoardResource"===r||"BoardPageResource"===r){let r=X(e,a);return{...e,...r,...t||{},cover_images:{...e.cover_images,...(t||{}).cover_images},images:{...e.images,...(t||{}).images}}}if("BoardSectionResource"===r)return{...e,...t?.board||{},cover_images:{...e.cover_images,...t?.board?.cover_images||{}},images:{...e.images,...t?.board?.images||{}}};if(a.type===x.zP&&"ApiResource"===r)return J(e,a);return e}case"BOARD_CREATE_COMPLETE":{let{board:r}=a.payload;return{...e,...r}}case"BOARD_UPDATE_COMPLETE":{let{board:r}=a.payload;return{...e,...r,sensitivity:r.sensitivity}}case"BOARD_PIN_COUNT_CHANGED":{let{pin_count:r,sectionless_pin_count:t}=e||{},{sectionId:s}=a.payload,o="BOARD_PIN_COUNT_CHANGED"===a.type?a.payload.increment:1;return{...e,pin_count:"number"==typeof r?Math.max(0,r+o):r,sectionless_pin_count:s||"number"!=typeof t?t:Math.max(0,t+o)}}case"USER_FOLLOW":{let{id:r,value:t}=a.payload;if(!e.owner||r!==e.owner.id)return e;return{...e,followed_by_me:t}}case"BOARD_FOLLOW":{let{boardId:r,value:t}=a.payload;return{...e,id:r,followed_by_me:t}}case"BOARD_OWNERSHIP_TRANSFER_REQUEST":{let{collaboratorId:r}=a.payload;return{...e,pending_ownership_transfer:r}}case"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL":return{...e,pending_ownership_transfer:null};case"BOARD_DISMISS_SENSITIVITY_SCREEN":return{...e,sensitivity_screen:{reason:null,show_warning:!1}};case"BOARD_INVITE_ACCEPTED_BY_VIEWER":{let{collaborator_count:r,collaborating_users:t}=e||{},{boardId:s,collaboratingUser:o}=a.payload;return{...e,id:s,access:["write"],collaborated_by_me:!0,is_collaborative:!0,collaborator_count:"number"==typeof r?r+1:0,...o?{collaborating_users:(t||[]).concat(o)}:Object.freeze({})}}case"BOARD_REQUEST_TO_JOIN":{let{boardId:r,value:t}=a.payload;return{...e,id:r,viewer_collaborator_join_requested:t}}case"BOARD_ARCHIVE":return{...e,archived_by_me_at:new Date().toString()};case"BOARD_UNARCHIVE":{let{boardId:r}=a.payload;return{...e,id:r,archived_by_me_at:void 0}}case"BOARD_COVER_IMAGE_UPDATED":{let{boardId:r,coverPin:t}=a.payload;return{...e,id:r,cover_pin:t}}case"BOARD_DISABLE_MORE_IDEAS_BADGING":return{...e,has_fresh_more_ideas_tab:!1};case"SECTION_ADDED":{let{section_count:a}=e||{};return{...e,section_count:(a||0)+1}}case"SECTION_DELETED":{let{section_count:a}=e||{};return{...e,section_count:(a||1)-1}}case"BOARD_INVITE_APPROVED_BY_VIEWER":return q(e,a);case"BOARD_COLLABORATOR_DELETE":return z(e,a);case"BOARD_COLLABORATOR_ADD":return $(e,a);case"PIN_ADD":{let{pin_count:a}=e||{};return{...e,pin_count:(a??0)+1}}case"PIN_DELETE":{let{pin_count:a}=e||{};return{...e,pin_count:(a??0)-1}}case"BOARD_SECTION_DELETE":{let{pinCount:r}=a.payload,t=e.section_count||0;return{...e,section_count:Math.max(t-1,0),pin_count:(e.pin_count??0)-r}}case"CREATE_COMPLETE":{let{section_count:a}=e||{};return{...e,section_count:(a||0)+1}}default:return e}}let ea=(e,a)=>{let{boardId:r}=a.payload;if(!r)return e;let{[r]:t,...s}=e;return s},er=(e,{payload:{id:a,value:r}})=>{if(!r)return e;let t=Object.keys(e).filter(r=>e[r].owner&&e[r].owner.id===a);if(!t.length)return e;let s=t.reduce((a,r)=>{let t=e[r];return a[r]={...t,followed_by_me:!1},a},{});return{...e,...s}},et=(e,a,r,t)=>a===r?e:{...e,...a&&e[a]?{[a]:{...e[a],pin_count:Math.max(0,(e[a].pin_count??0)-t)}}:{},...r&&e[r]?{[r]:{...e[r],pin_count:(e[r].pin_count||0)+t}}:{}},es=(e,a)=>{let{boardId:r,source:{boardId:t}}=a.payload;return et(e,t,r,1)},eo=(e,a)=>{let{pinIds:r,source:{boardId:t},target:{boardId:s}}=a.payload;return t===s?e:et(e,t,s,r.length)},en=(0,k.Z)("boards",(e={},a)=>{switch(a.type){case x.zP:case x.aW:{let{options:r,resource:t}=a.payload,{data:s}=a.payload.response.resource_response;if(Z.includes(t)&&s){let a={...e};return(s||[]).forEach(e=>{e.type&&"board"!==e.type||(a[e.id]={...a[e.id],...e})}),a}if("BoardResource"===t||"BoardPageResource"===t){let t=r?.board_id||(s||{}).id;return{...e,[t]:ee(e[t],a)}}if("BoardSectionResource"===t){let r=s?.board?.id;if(r)return{...e,[r]:ee(e[r],a)}}else if("ApiResource"===t&&a.payload.options?.url?.match(/\/v3\/boards\/([0-9]|[a-z]|[A-Z])+\/interests\//)){let{options:r}=a.payload,t=r?.url?.split("/")?.[3];if(t)return{...e,[t]:ee(e[t],a)}}return e}case"BOARD_CREATE_COMPLETE":{let{board:r}=a.payload;if(r&&r.id)return{...e,[r.id]:ee(e[r.id],a)};return e}case"BOARD_UPDATE_COMPLETE":{let{board:r}=a.payload;return{...e,[r.id]:ee(e[r.id],a)}}case"BOARD_ARCHIVE":case"BOARD_COVER_IMAGE_UPDATED":case"BOARD_DISABLE_MORE_IDEAS_BADGING":case"BOARD_DISMISS_SENSITIVITY_SCREEN":case"BOARD_FOLLOW":case"BOARD_SECTION_DELETE":case"BOARD_INVITE_ACCEPTED_BY_VIEWER":case"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL":case"BOARD_OWNERSHIP_TRANSFER_REQUEST":case"BOARD_PIN_COUNT_CHANGED":case"BOARD_REQUEST_TO_JOIN":case"BOARD_UNARCHIVE":case"PIN_ADD":case"PIN_DELETE":case"SECTION_ADDED":case"SECTION_DELETED":let{boardId:r}=a.payload;return{...e,[r]:ee(e[r],a)};case"USER_FOLLOW":{let{id:r}=a.payload,t=Object.keys(e).filter(a=>e[a].owner&&e[a].owner.id===r),s=t.reduce((r,t)=>(r[t]=ee(e[t],a),r),{});return{...e,...s}}case"BOARD_DELETE":return ea(e,a);case"USER_BLOCK":return er(e,a);case"PIN_EDIT":return es(e,a);case"PINS_MOVE":return eo(e,a);case"PINS_MOVE_ALL":default:return e;case"CREATE_COMPLETE":{let{resource:r,normalizedResponse:t}=a.payload;if("BoardSectionResource"===r&&t){let{result:r,entities:{boardsections:s}}=t,o=s[r].board;return{...e,[o]:ee(e[o],a)}}return e}}}),e_=(e,a)=>({...e,[a.id]:{...a&&e[a.id]||{},...a}}),ed=(e,a)=>{let{boardSectionId:r}=a.payload;return r&&e[r]?e_(e,{id:r,pin_count:(e[r].pin_count??0)+1}):e},ei=(e,a)=>{let{boardSectionId:r}=a.payload;return r&&e[r]?e_(e,{id:r,pin_count:(e[r].pin_count??0)-1}):e},el=(e,a,r,t)=>a===r?e:{...e,...a&&e[a]?{[a]:{...e[a],pin_count:Math.max(0,(e[a].pin_count??0)-t)}}:{},...r&&e[r]?{[r]:{...e[r],pin_count:(e[r].pin_count||0)+t}}:{}},eE=(e,a)=>{let{sectionId:r,source:t}=a.payload,s=t&&t.sectionId||null;return el(e,s,r,1)},eu=(e,a)=>{let{pinIds:r,source:{sectionId:t},target:{sectionId:s}}=a.payload;return el(e,t,s,r.length)},ec=(e,{payload:a})=>e_(e,a),eS=(e,a)=>{let{payload:{section:r}}=a;return r.id?{...e,[r.id]:{...e[r.id],...r}}:e},eT=(e,a)=>{let{payload:{sectionId:r,increment:t}}=a;if(!r)return e;let s=e[r];return s?{...e,[r]:{...s,pin_count:s.pin_count?Math.max(0,s.pin_count+t):t}}:e},ep=e=>e?.type==="board_section"?{...e,type:"boardsection"}:e,eR=(0,k.Z)("boardsections",(e={},a)=>{switch(a.type){case x.zP:case x.aW:let{resource:r,normalizedResponse:t}=a.payload;if(!t){let{data:t}=a.payload.response.resource_response;if("BoardSectionsResource"===r){let a=t||[],r=a.reduce((a,r)=>(a[r.id]={...e[r.id],...ep(r)},a),{});return{...e,...r}}if("BoardSectionResource"===r&&t)return{...e,[t.id]:{...e[t.id],...ep(t)}}}return e;case"SECTION_ADDED":let{payload:{section:s}}=a;if(s.id)return{...e,[s.id]:s};return e;case"SECTION_DELETED":let{payload:{sectionId:o}}=a,n={...e};return delete n[o],n;case"SECTION_UPDATED":return eS(e,a);case"BOARD_PIN_COUNT_CHANGED":return eT(e,a);case"BOARD_SECTION_EDIT":return ec(e,a);case"PIN_ADD":return ed(e,a);case"PIN_DELETE":return ei(e,a);case"PIN_EDIT":return eE(e,a);case"PINS_MOVE":return eu(e,a);default:return e}}),eA={currentStep:{index:0,canProceed:!1},businessGoals:[],businessName:"",businessVertical:"",numberEmployees:"",hasWebsite:"",website:"",country:"",locale:"",advertisingIntent:null,accountType:"",agencyRole:"",agencyClients:"",agencyContent:"",agencyService:"",agencyServiceOther:"",firstName:"",lastName:"",fullName:"",email:"",countryCode:"",phoneNumber:"",worksWithAgency:null,leadId:"",whatsAppConsent:!1,calendlyUpsellEligible:!1,shouldShowCalendlyModal:!1};function eI(e=eA,a){switch(a.type){case"UPDATE_BIZ_NUX_FIELD":return{...e,[a.field]:a.value,currentStep:{...e.currentStep}};case"SET_BIZ_NUX_STEP":return{...e,currentStep:{...e.currentStep,index:a.indexValue}};case"INCREMENT_BIZ_NUX_STEP":return{...e,currentStep:{...e.currentStep,index:e.currentStep.index+1}};case"DECREMENT_BIZ_NUX_STEP":return{...e,currentStep:{...e.currentStep,index:e.currentStep.index-1}};case"UPDATE_BIZ_NUX_CAN_PROCEED":return{...e,currentStep:{...e.currentStep,canProceed:a.value}};default:return e}}let ey={experience:void 0,newPin:void 0,originalPinId:void 0,shouldOpenModal:!1},eO=(e=ey,a)=>{if("OPEN_CHANGE_MODAL"===a.type){let{experience:r,newPin:t,originalPinId:s,showChangeBoardModal:o}=a.payload;if(t)return{...e,experience:r,newPin:t,originalPinId:s,shouldOpenModal:o}}else if("CLOSE_CHANGE_MODAL"===a.type){let{showChangeBoardModal:r}=a.payload;return{...e,shouldOpenModal:r}}else if("CLEAR_BOARD_EDU_EXPERIENCE"===a.type){let{experience:r}=a.payload;if(e.experience?.id===r.id)return{...e,experience:void 0}}return e},eP=(0,k.Z)("contactrequests",(e={},a)=>{switch(a.type){case x.zP:let{payload:{normalizedResponse:r,resource:t}}=a;if("ContactRequestsResource"===t&&r)return{...r.entities.contactrequests};return e;case"UPDATE_CONTACT_REQUEST_STATUS":let{contactRequestId:s,hasDeclined:o,hasBlocked:n}=a.payload,_={...e,[s]:{...e[s],hasDeclined:o,hasBlocked:n}};return _;case"REMOVE_CONTACT_REQUESTS":let{contactRequestIds:d}=a.payload;return Object.keys(e).reduce((a,r)=>(d.includes(r)||(a[r]=e[r]),a),{});default:return e}}),eN={};function eD(e=eN,a){if("SEARCH_QUERY_STARTED"===a.type){let{query:r}=a.payload;if(!e[r]||"valid"===e[r].status){let a=e[r]&&e[r].pinIds||[];return{...e,[r]:{...e[r],status:"valid",pinIds:a}}}}else if("SEARCH_PIN_CLOSEUP_VIEWED"===a.type){let{pinId:r,query:t}=a.payload;if(e[t]&&"valid"===e[t].status){let a=e[t].pinIds||[];return{...e,[t]:{...e[t],pinIds:a.concat(r)}}}}else if("SEARCH_QUERY_INVALIDATED"===a.type)return{...e,[a.payload.query]:{status:"invalid"}};return e}let eC=e=>e||[],eg={BaseSearchResource:e=>e?e.results:[],BoardFeedResource:eC,BoardSectionPinsResource:eC,BoardContentRecommendationResource:eC,TodayArticleFeedResource:e=>Array.isArray(e)?e.reduce((e,a)=>{if("story"===a.type){if(a.user){let r={...a},{user:t}=r;r.user=t.id,e.push(r)}else e.push(a)}return e},[]):e||[],TodayTabResource:eC},ef=(e={},a)=>{if(a.type===x.zP||a.type===x.aW){let{resource:r}=a.payload,{data:t}=a.payload.response.resource_response;if(r in eg){let a=eg[r](t)||[],s={...e};return a.forEach(e=>{"story"===e.type&&(s[e.id]=e)}),s}}return e};var eL=r(105737),eU=r(996523);let em=(e,a)=>{let r=(0,eU.Z)(e,a);return(0,eL.ZP)(e,r)?e:r},eG={},ev=function(e=eG,a){if(a.type===x.zP||a.type===x.aW){let{resource:r}=a.payload,{data:t}=a.payload.response.resource_response;if("AggregatedActivityFeedResource"===r||"DidItUserFeedResource"===r){let a=t||[],r=a.reduce((a,r)=>(a[r.id]=em(e[r.id],r),a),{});return{...e,...r}}if(("DidItActivityResource"===r||"DidItUserPinActivityResource"===r)&&t)return{...e,[t.id]:em(e[t.id],t)};if("NewsHubDetailsResource"===r&&t&&t.length>0&&t[0].content_items){let a={};return t.forEach(e=>{e.content_items.forEach(e=>{let r=e.content_object&&e.content_object.type;"userdiditdata"===r&&(a[e.content_object.id]=e.content_object)})}),{...e,...a}}if("UnifiedCommentsResource"===r&&t&&t.length>0){let a=t.filter(e=>"userdiditdata"===e.type),r=a.reduce((a,r)=>(a[r.id]=em(e[r.id],r),a),{});return{...e,...r}}else if("UnifiedCommentsPreviewResource"===r&&t&&t.length>0){let a=t[0].user_did_it_data,r=a?{[a.id]:em(e[a.id],a)}:{};return{...e,...r}}}else if("USER_DID_IT_DATA_CREATE"===a.type){let{payload:{user_did_it_data:r}}=a;return{...e,[r.id]:r}}else if("USER_DID_IT_DATA_UPDATE"===a.type){let{payload:{user_did_it_data:r}}=a;return{...e,[r.id]:em(e[r.id],r)}}else if("USER_DID_IT_DATA_DELETE"===a.type){let{payload:{id:r}}=a,t={...e};return delete t[r],t}else if("USER_DID_IT_DATA_UPDATE_COMMENT_COUNT"===a.type){let{payload:{id:r,increment:t}}=a,s=e[r].comment_count??0;return{...e,[r]:em(e[r],{comment_count:s+t})}}else if("USER_DID_IT_DATA_LIKE_TOGGLED"===a.type){let{payload:{id:r,liked_by_me:t}}=a;if(e[r].like_count||0===e[r].like_count){let a=e[r].like_count,s=t?a+1:a-1;return{...e,[r]:em(e[r],{liked_by_me:t,like_count:s})}}}else if("USER_DID_IT_DATA_HELPFUL_TOGGLED"===a.type){let{payload:{id:r,marked_helpful_by_me:t}}=a,s=e[r],o=s.helpful_count||0,n={...s,marked_helpful_by_me:t,helpful_count:t?o+1:o-1};return{...e,[r]:n}}return e},eM=(e={})=>e;var eb=r(670633);let eh=(e={},a)=>{if("SET_FLASHLIGHT_CROP_SOURCE"===a.type){let{payload:{cropSource:r}}=a;return{...e,cropSource:r}}return e},eB=(e={activeTabBoardId:"",activeTabIndex:0},a)=>{if("SET_ACTIVE_HOMEFEED_TAB"===a.type){let{payload:{boardId:r,index:t}}=a;return{...e,activeTabBoardId:r,activeTabIndex:t}}return e};function eF(e=Object.freeze({}),a){switch(a.type){case"SHOW_TOAST_CONTACT_REQUEST_UNDO":return{...e,showToastForContactRequest:a.payload.contactRequestId};case"SHOW_BLOCK_UNBLOCK_MODAL_CONTACT_REQUEST":let r={contactRequestId:a.payload.contactRequestId,modalAction:a.payload.modalAction};return{...e,blockModalContactRequest:r};default:return e}}var eY=r(645247);let eH={canProceed:!0,topBusinessGoal:"",dailyAdsBudget:"",weeklyAddToCarts:0,weeklyLeads:0,weeklyCheckouts:0,hasFeed:!1,shouldShowGoalsStep:!0,isSurveyOpen:!1,isCalendlyModalOpen:!1,marketingPlanName:"",marketingPlanSuggestion:[]};function eV(e=eH,a){switch(a.type){case"UPDATE_PMP_FIELD":return{...e,[a.field]:a.value};case"UPDATE_PMP_INITIAL_STATE":return{...a.value};default:return e}}function ew(e={},a){if(a.type===x.zP||a.type===x.aW){let{resource:r}=a.payload,{data:t}=a.payload.response.resource_response;if("BaseSearchResource"===r){let a=(t||{}).results||[],r={...e};return a.forEach(e=>{"module"===e.type&&(r[e.id]=e)}),r}}return e}function ek(e=null,a){if("MOST_RECENT_BOARD"!==a.type)return e;{let{id:r,name:t,url:s}=a.payload;return{...e,id:r,name:t,url:s}}}let eK=({notifications:e,pins:a})=>{Object.keys(e).forEach(r=>{let t=e[r];t.content_items&&t.content_items.forEach(e=>{if(e.content_object){let{id:r,schema:t}=e.content_object;"pin"===t&&(e.trackingParams=a[r]?a[r].tracking_params:void 0)}})})},eW=(0,k.Z)("notifications",(e={},a)=>{if(a.type===x.zP||a.type===x.aW){let{normalizedResponse:e}=a.payload;e&&e.entities&&e.entities.notifications&&e.entities.pins&&eK(e.entities)}return e}),ex={dirtyFields:[],description:"",link:"",title:"",board:null,descriptionError:null,linkError:null,titleError:null};var ej=r(851193);let eZ=Object.freeze({assets:[],createdPinIds:[],fonts:[],layoutMode:0,pinDraftIdUploadStatusMap:{},pinDraftIds:[],selectedPinDraftIds:[],isBatchEditMode:!1,entryPoint:null,closeupImageSignature:null,pinEditorPinDraft:null,failureErrorLogged:!1,showDisabledPinCreationBanner:!1,showFeedbackModal:!1});var eQ=r(203966);let eq={altText:null,altTextError:null,apiError:null,apiErrorCode:null,boardError:null,interestTags:[],isAdIneligible:!1,isCommentsAllowed:!0,isShoppingRecAllowed:!0,lastEditedTime:null,lastSavedTime:null,mediaError:null,mode:"create",pinId:null,pinItemIds:[],pinItemIndex:-1,pinIsAdsOnly:!1,pinItemShareable:!0,publishingStatus:"notAttempted",publishOption:"publish-immediately",scheduledPin:null,scheduledDate:null,scheduledDateError:null,scheduledTime:null,scheduledTimeError:null,selectedItem:null,status:"created",storyPin:null,storyPinDraftId:null,storyPinMetadata:null,storyPinUploadManager:null,storyPinSelectedPinItemIds:[],type:"single",uploadStartTime:null,urlCreationSource:null,view:"upload",websiteLink:"",websiteLinkError:null,websiteMedia:[],websiteDefaultImageUrl:null,createMethod:null,showcaseBannerError:null,creativeStudioPinParams:null},ez=(e=eq,a)=>{switch(a.type){case"PIN_BUILDER_ADD_PIN_DRAFT":case"PIN_DRAFT_UPDATE_DATA":{let{pinDraft:r}=a.payload;return{...e,...r}}case"PIN_BUILDER_REMOVE_UPLOAD_DRAFT_FLAG":return{...e,isUploadDraft:void 0};case"PIN_DRAFT_ADD_PIN_ITEM":{let{pinItemId:r,options:t}=a.payload,s=[...e.pinItemIds,r];return{...e,pinItemIds:[...e.pinItemIds,r],pinItemIndex:t&&t.saveIndex?e.pinItemIndex:e.pinItemIds.length,type:s.length>1&&"story"!==e.type?"carousel":e.type}}case"PIN_DRAFT_ADD_STORY_PIN_ITEM":{let{pinItemId:r,options:t}=a.payload,s=[...e.pinItemIds,r],o=t&&t.saveIndex?e.pinItemIndex:e.pinItemIds.length;return{...e,pinItemIds:s,pinItemIndex:o,storyPinSelectedPinItemIds:[s[o]]}}case"PIN_DRAFT_REMOVE_PIN_ITEM":{let{pinItemId:r}=a.payload,t=e.pinItemIds.findIndex(e=>e===r),s=e.pinItemIds.filter(e=>e!==r),o=e.pinItemIndex<=t?Math.min(e.pinItemIndex,s.length-1):e.pinItemIndex-1,n=o>=0?[s[o]]:[];return{...e,pinItemIds:s,pinItemIndex:o,storyPinSelectedPinItemIds:n,type:s.length<=1&&"story"!==e.type?"single":e.type}}case"PIN_DRAFT_SET_PIN_ID":{let{pinId:r}=a.payload;return{...e,pinId:r}}case"PIN_DRAFT_SET_ADS_ONLY_STATUS":{let{pinIsAdsOnly:r}=a.payload;return{...e,pinIsAdsOnly:r}}case"PIN_DRAFT_SET_SCHEDULED_PIN":{let{scheduledPin:r}=a.payload;return{...e,scheduledPin:r}}case"PIN_DRAFT_SET_STORY_PIN":{let{storyPin:r}=a.payload;return{...e,storyPin:r}}case"PIN_DRAFT_SET_STORY_PIN_DRAFT_ID":{let{storyPinDraftId:r}=a.payload;return{...e,storyPinDraftId:r}}case"PIN_DRAFT_UPDATE_STORY_PIN_METADATA":{let{storyPinMetadata:r}=a.payload;return{...e,storyPinMetadata:{...e.storyPinMetadata,...r}}}case"PIN_DRAFT_SET_STORY_PIN_SELECTED_PIN_ITEM_IDS":{let{pinItemIds:r}=a.payload;return{...e,storyPinSelectedPinItemIds:r}}case"PIN_DRAFT_RESET_STORY_PIN_SELECTED_PIN_ITEM_IDS":return{...e,storyPinSelectedPinItemIds:[e.pinItemIds[e.pinItemIndex]]};case"PIN_DRAFT_SET_IS_COMMENTS_ALLOWED":{let{isCommentsAllowed:r}=a.payload;return{...e,isCommentsAllowed:r}}case"PIN_DRAFT_SET_IS_SHOPPING_REC_ALLOWED":{let{isShoppingRecAllowed:r}=a.payload;return{...e,isShoppingRecAllowed:r}}case"PIN_DRAFT_SET_PIN_ITEM_INDEX":{let{pinItemIndex:r}=a.payload;return{...e,pinItemIndex:r}}case"PIN_DRAFT_SET_PIN_ITEM_SHAREABLE":{let{pinItemShareable:r}=a.payload;return{...e,pinItemShareable:r}}case"PIN_DRAFT_SET_URL_CREATION_SOURCE":{let{urlCreationSource:r}=a.payload;return{...e,urlCreationSource:r}}case"PIN_DRAFT_SET_VIEW":{let{view:r}=a.payload;return{...e,view:r}}case"PIN_DRAFT_SET_CREATE_METHOD":{let{createMethod:r}=a.payload;return{...e,createMethod:r}}case"PIN_DRAFT_SET_IS_AD_INELIGIBLE":{let{isAdIneligible:r}=a.payload;return{...e,isAdIneligible:r}}case"PIN_DRAFT_SET_PUBLISHING_STATUS":{let{publishingStatus:r}=a.payload;return{...e,publishingStatus:r}}case"PIN_DRAFT_SET_PUBLISH_OPTION":{let{publishOption:r}=a.payload;return{...e,publishOption:r}}case"PIN_DRAFT_SET_STATUS":{let{status:r}=a.payload;return{...e,status:r}}case"PIN_DRAFT_SET_SCHEDULED_DATE":{let{scheduledDate:r}=a.payload;return{...e,scheduledDate:r}}case"PIN_DRAFT_SET_SCHEDULED_DATE_ERROR":{let{scheduledDateError:r}=a.payload;return{...e,scheduledDateError:r}}case"PIN_DRAFT_SET_SCHEDULED_TIME":{let{scheduledTime:r}=a.payload;return{...e,scheduledTime:r}}case"PIN_DRAFT_SET_SCHEDULED_TIME_ERROR":{let{scheduledTimeError:r}=a.payload;return{...e,scheduledTimeError:r}}case"PIN_DRAFT_SET_MEDIA_ERROR":{let{mediaError:r}=a.payload;return{...e,mediaError:r}}case"PIN_DRAFT_SET_LAST_EDITED_TIME":{let{lastEditedTime:r}=a.payload;return{...e,lastEditedTime:r}}case"PIN_DRAFT_SET_LAST_SAVED_TIME":{let{lastSavedTime:r}=a.payload;return{...e,lastSavedTime:r}}case"PIN_DRAFT_SET_WEBSITE_LINK":{let{websiteLink:r,error:t,websiteDefaultImageUrl:s}=a.payload;return{...e,websiteLink:r,websiteLinkError:t,websiteDefaultImageUrl:s}}case"PIN_DRAFT_SET_SELECTED_ITEM":let{selectedItem:r}=a.payload;return{...e,selectedItem:{...r},boardError:null};case"PIN_DRAFT_SET_UPLOAD_START_TIME":let{uploadStartTime:t}=a.payload;return{...e,uploadStartTime:t};case"PIN_DRAFT_SET_BOARD_ERROR":let{boardError:s}=a.payload;return{...e,boardError:s};case"PIN_DRAFT_ADD_WEBSITE_MEDIA":{let{media:r}=a.payload;return{...e,websiteMedia:[...e.websiteMedia,r]}}case"PIN_DRAFT_REMOVE_WEBSITE_MEDIA":{let{mediaUrl:r}=a.payload;return{...e,websiteMedia:e.websiteMedia.filter(e=>e.src!==r)}}case"PIN_DRAFT_CLEAR_WEBSITE_MEDIA":return{...e,websiteMedia:[]};case"PIN_DRAFT_SET_PIN_ITEM_IDS":return{...e,pinItemIds:a.payload.pinItemIds};case"PIN_DRAFT_SET_API_ERROR":return{...e,apiError:a.payload.apiError,apiErrorCode:a.payload.apiErrorCode};case"PIN_DRAFT_ADD_INTEREST_TAG":{let{tag:r}=a.payload;return{...e,interestTags:[...e.interestTags,r]}}case"PIN_DRAFT_REMOVE_INTEREST_TAG":{let{id:r}=a.payload;return{...e,interestTags:[...e.interestTags.filter(e=>e.id!==r)]}}case"PIN_DRAFT_SET_INTEREST_TAGS":{let{tags:r}=a.payload;return{...e,interestTags:[...r]}}case"PIN_DRAFT_CLEAR_INTEREST_TAGS":return{...e,interestTags:[]};case"PIN_DRAFT_SET_STORY_PIN_UPLOAD_MANAGER":{let{uploadManager:r}=a.payload;return{...e,storyPinUploadManager:r}}case"PIN_DRAFT_SET_ALT_TEXT":{let{altText:r}=a.payload;return{...e,altText:r}}case"PIN_DRAFT_SET_ALT_TEXT_ERROR":{let{altTextError:r}=a.payload;return{...e,altTextError:r}}case"PIN_DRAFT_SET_SHOWCASE_BANNER_ERROR":{let{showcaseBannerError:r}=a.payload;return{...e,showcaseBannerError:r}}case"PIN_DRAFT_SET_CREATIVE_STUDIO_PIN_DATA":{let{creativeStudioPinParams:r}=a.payload;return{...e,creativeStudioPinParams:r}}case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":case"STORY_PIN_ITEM_REMOVE_BLOCK":case"STORY_PIN_ITEM_REORDER_BLOCKS":case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":case"STORY_PIN_ITEM_SET_LAYOUT":case"STORY_PIN_ITEM_UPDATE_BLOCK":case"STORY_PIN_ITEM_UPDATE_DATA":return{...e,lastEditedTime:new Date,status:eQ.qm.includes(e.status)?e.status:"edited"};default:return e}};var e$=r(473401);let eX={id:null,link:"",linkError:null,pinTagKey:null,status:"created",taggedObjectIds:[],x:-1,y:-1},eJ=(e=eX,a)=>{switch(a.type){case"PIN_ITEM_ADD_PIN_TAG":case"STORY_PIN_ITEM_ADD_PIN_TAG":{let{pinTag:r}=a.payload;return{...e,...r}}case"PIN_ITEM_REMOVE_PIN_TAG":return{...e,status:"created"!==e.status?"deleted":e.status};case"PIN_TAG_ADD_TAGGED_OBJECT":{let{taggedObjectId:r}=a.payload;return{...e,taggedObjectIds:[...e.taggedObjectIds,r],status:"saved"===e.status?"edited":e.status}}case"PIN_TAG_REMOVE_TAGGED_OBJECT":{let{taggedObjectId:r}=a.payload;return{...e,taggedObjectIds:e.taggedObjectIds.filter(e=>e!==r),status:"saved"===e.status?"edited":e.status}}case"PIN_TAG_SET_COORDINATES":{let{x:r,y:t}=a.payload;return{...e,x:r,y:t,status:"saved"===e.status?"edited":e.status}}case"PIN_TAG_SET_LINK":{let{link:r,error:t}=a.payload;return{...e,link:r,linkError:t}}case"PIN_TAG_SET_STATUS":{let{status:r}=a.payload;return{...e,status:r}}default:return e}},e0={id:null,link:"",media:null,status:"created",pin:null,type:null},e1=(e=e0,a)=>{switch(a.type){case"PIN_TAG_ADD_TAGGED_OBJECT":let{taggedObject:r}=a.payload;return{...e,...r};case"PIN_TAG_REMOVE_TAGGED_OBJECT":return{...e,status:"created"!==e.status?"deleted":e.status};case"TAGGED_OBJECT_SET_STATUS":let{status:t}=a.payload;return{...e,status:t};default:return e}},e2={edits:{left:0,scale:1,top:0,transform:{rotate:0,scaleX:1,scaleY:1}},error:null,media:null,text:"",type:"story_pin_paragraph_block"},e3=(e=e2,a)=>{switch(a.type){case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_UPDATE_BLOCK":let{storyPinItemBlock:r}=a.payload;return{...e,...r};case"STORY_PIN_ITEM_BLOCK_SET_PLAYING":let{playing:t}=a.payload;return{...e,playing:t};case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":let{edits:s}=a.payload;return{...e,edits:{...e.edits,...s}};case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":{let{media:r}=a.payload;return{...e,media:e.media?(0,eU.Z)(e.media,r):null}}default:return e}},e4={backgroundColor:"#ffffff",blockIds:[],canvasJson:null,coverImgSignature:"",cwtData:{didUserEditAutogeneratedDescription:!1,didUserEditAutogeneratedTitle:!1,isDescriptionAutogenerated:!1,isLoading:!1,isTitleAutogenerated:!1},description:"",descriptionError:null,dominantColors:[],isEditable:!0,isTaggable:!0,layout:null,linkBlock:{text:"",srcUrl:"",canonicalUrl:"",imageSignature:"",imageUrl:"",isFetching:!1},linkError:null,media:null,pinTagIds:[],publishProgress:void 0,selectedBlockId:null,selectedPinTagId:null,signals:{},tagError:null,title:"",titleError:null},e8=(e=e4,a)=>{switch(a.type){case"PIN_DRAFT_ADD_STORY_PIN_ITEM":case"STORY_PIN_ITEM_UPDATE_DATA":{let{pinItem:r}=a.payload;return{...e,...r}}case"STORY_PIN_ITEM_SET_DESCRIPTION":{let{description:r}=a.payload;return{...e,description:r}}case"STORY_PIN_ITEM_SET_DESCRIPTION_ERROR":{let{descriptionError:r}=a.payload;return{...e,descriptionError:r}}case"STORY_PIN_ITEM_UPDATE_LINK_BLOCK":{let{linkBlock:r}=a.payload;return{...e,linkBlock:{...e.linkBlock,...r}}}case"STORY_PIN_ITEM_SET_LINK_ERROR":{let{linkError:r}=a.payload;return{...e,linkError:r}}case"STORY_PIN_ITEM_SET_MEDIA":{let{media:r}=a.payload,t=r?.type!=="localVideo"&&(!!r&&!e.linkBlock||e.isTaggable);return{...e,canvasJson:null,isTaggable:t,media:r,pinTagIds:[],selectedPinTagId:null}}case"STORY_PIN_ITEM_UPDATE_MEDIA":{let{media:r}=a.payload;return{...e,media:e.media?(0,eU.Z)(e.media,r):null}}case"STORY_PIN_ITEM_SET_TITLE":{let{title:r}=a.payload;return{...e,title:r}}case"STORY_PIN_ITEM_SET_TITLE_ERROR":{let{titleError:r}=a.payload;return{...e,titleError:r}}case"STORY_PIN_ITEM_SET_BLOCK_IDS":{let{blockIds:r}=a.payload;return{...e,blockIds:r}}case"STORY_PIN_ITEM_SET_EDITED_IMAGE":{let{editedMedia:r,canvasJson:t}=a.payload;return{...e,media:r,canvasJson:t}}case"STORY_PIN_ITEM_SET_SELECTED_BLOCK_ID":{let{blockId:r}=a.payload;return{...e,selectedBlockId:r}}case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":{let{backgroundColor:r}=a.payload;return{...e,backgroundColor:r}}case"STORY_PIN_ITEM_SET_COVER_IMAGE_SIGNATURE":{let{coverImgSignature:r}=a.payload;return{...e,coverImgSignature:r}}case"STORY_PIN_ITEM_SET_LAYOUT":{let{layout:r}=a.payload;return{...e,layout:r}}case"STORY_PIN_ITEM_SET_DOMINANT_COLORS":{let{dominantColors:r}=a.payload;return{...e,dominantColors:r}}case"STORY_PIN_ITEM_SET_PUBLISH_PROGRESS":{let{publishProgress:r}=a.payload;return{...e,publishProgress:r}}case"STORY_PIN_ITEM_ADD_BLOCK":{let{blockId:r,index:t}=a.payload,{blockIds:s}=e,o=[...s];return o.splice("number"==typeof t?t:s.length,0,r),{...e,blockIds:o}}case"STORY_PIN_ITEM_REMOVE_BLOCK":{let{blockId:r}=a.payload,{blockIds:t}=e;return{...e,blockIds:[...t.filter(e=>e!==r)]}}case"STORY_PIN_ITEM_REORDER_BLOCKS":{let{blockIds:r}=a.payload;return{...e,blockIds:r}}case"STORY_PIN_ITEM_ADD_PIN_TAG":{let{pinTagId:r}=a.payload;return{...e,pinTagIds:[...e.pinTagIds,r]}}case"STORY_PIN_ITEM_SET_SELECTED_PIN_TAG_ID":{let{selectedPinTagId:r}=a.payload;return{...e,selectedPinTagId:r}}case"STORY_PIN_ITEM_UPDATE_CWT_DATA":{let{cwtData:r}=a.payload;return{...e,cwtData:{...e.cwtData,...r}}}default:return e}};Object.freeze({...eZ,batchDraftCreationIds:[],batchEditModeFields:ex,pinDrafts:{},pinItems:{},pinTags:{},storyPinItemBlocks:{},storyPinItems:{},taggedObjects:{}});let e9=(0,u.combineReducers)({assets:(e=eZ.assets,a)=>"PIN_BUILDER_ADD_ASSET"===a.type?[a.payload.asset,...e]:e,batchDraftCreationIds:(e=[],a)=>{switch(a.type){case"BATCH_DRAFT_CREATION_SET_IDS":let{pinDraftIds:r}=a.payload;return r;case"BATCH_DRAFT_CREATION_REMOVE_ID":let{pinDraftId:t}=a.payload;return[...e.filter(e=>e!==t)];default:return e}},batchEditModeFields:(e=ex,a)=>{switch(a.type){case"BATCH_PIN_EDIT_MODE_SET_DESCRIPTION":{let{description:r}=a.payload;return{...e,description:r}}case"BATCH_PIN_EDIT_MODE_SET_LINK":{let{link:r}=a.payload;return{...e,link:r}}case"BATCH_PIN_EDIT_MODE_SET_TITLE":{let{title:r}=a.payload;return{...e,title:r}}case"BATCH_PIN_EDIT_MODE_SET_BOARD":{let{board:r}=a.payload;return{...e,board:{...r}}}case"BATCH_PIN_EDIT_MODE_ADD_DIRTY_FIELD":{let{field:r}=a.payload;return{...e,dirtyFields:[...e.dirtyFields,r]}}case"BATCH_PIN_EDIT_MODE_SET_DESCRIPTION_ERROR":{let{descriptionError:r}=a.payload;return{...e,descriptionError:r}}case"BATCH_PIN_EDIT_MODE_SET_LINK_ERROR":{let{linkError:r}=a.payload;return{...e,linkError:r}}case"BATCH_PIN_EDIT_MODE_SET_TITLE_ERROR":{let{titleError:r}=a.payload;return{...e,titleError:r}}case"BATCH_PIN_EDIT_MODE_RESET_ALL_FIELDS":return{...e,...ex};default:return e}},closeupImageSignature:(e=eZ.closeupImageSignature,a)=>{if("PIN_BUILDER_SET_CLOSEUP_IMAGE_SIGNATURE"===a.type){let{closeupImageSignature:e}=a.payload;return e}return e},createdPinIds:(e=eZ.createdPinIds,a)=>{switch(a.type){case"PIN_BUILDER_ADD_CREATED_PIN_ID":{let{pinId:r}=a.payload;return e.concat(r)}case"PIN_BUILDER_REMOVE_CREATED_PIN_ID":{let{pinId:r}=a.payload;return e.filter(e=>e!==r)}case"PIN_BUILDER_CLEAR_CREATED_PIN_IDS":return[];default:return e}},entryPoint:(e=eZ.entryPoint,a)=>{if("PIN_BUILDER_ENTRY_POINT"===a.type){let{entryPoint:e}=a.payload;return e}return e},failureErrorLogged:(e=eZ.failureErrorLogged,a)=>{if("PIN_BUILDER_SET_FAILURE_ERROR_LOGGED"===a.type){let{failureErrorLogged:e}=a.payload;return e}return e},fonts:(e=eZ.fonts,a)=>{if(a.type===x.zP){let{resource:e,options:r={}}=a.payload,{data:t}=a.payload.response.resource_response;if("ApiResource"===e&&"/v3/storypins/fonts/"===r.url){let e=t?.all||[],a=e.map(ej.Z);return a}}return e},isBatchEditMode:(e=eZ.isBatchEditMode,a)=>{if("PIN_BUILDER_SET_BATCH_EDIT_MODE"===a.type){let{isBatchEditMode:e}=a.payload;return e}return e},layoutMode:(e=eZ.layoutMode,a)=>(a.type,e),pinDraftIds:(e=eZ.pinDraftIds,a)=>{switch(a.type){case"PIN_BUILDER_ADD_PIN_DRAFT":{let{pinDraftId:r,options:t={}}=a.payload,{insertBefore:s,isAppend:o}=t;if(s){let a=e.indexOf(t.insertBefore);if(a>=0){let t=[...e];return t.splice(a,0,r),t}}if(o)return[...e,r];return[r,...e]}case"PIN_BUILDER_DELETE_PIN_DRAFT":case"PIN_BUILDER_REMOVE_PIN_DRAFT_ID":{let{pinDraftId:r}=a.payload;return[...e.filter(e=>e!==r)]}case"PIN_BUILDER_CLEAR_PIN_DRAFTS":return[];default:return e}},pinDraftIdUploadStatusMap:(e=eZ.pinDraftIdUploadStatusMap,a)=>{switch(a.type){case"PIN_BUILDER_ADD_PIN_DRAFT_ITEM_UPLOAD":{let{pinDraftId:r,pinItemId:t,upload:s}=a.payload;if(!e[r])return{...e,[r]:{items:{[t]:s},status:"uploading"}};return{...e,[r]:{...e[r]||{items:{},status:"uploading"},items:{...e[r].items,[t]:s}}}}case"PIN_BUILDER_SET_PIN_DRAFT_UPLOAD_STATUS":{let{pinDraftId:r,status:t}=a.payload;return{...e,[r]:{...e[r]||{items:{},status:"uploading"},status:t}}}case"PIN_BUILDER_SET_PIN_ITEM_UPLOAD_STATUS":{let{pinDraftId:r,pinItemId:t,status:s}=a.payload,o=e[r]&&"items"in e[r]?e[r].items:{};return{...e,[r]:{...e[r],items:{...o,[t]:{...o[t],status:s}}}}}case"PIN_BUILDER_SET_PIN_ITEM_UPLOAD_XHR":{let{pinDraftId:r,pinItemId:t,xhr:s}=a.payload,o=e[r]&&"items"in e[r]?e[r].items:{};return{...e,[r]:{...e[r],items:{...o,[t]:{...o[t],xhr:s}}}}}case"PIN_BUILDER_REMOVE_PIN_ITEM_UPLOAD":{let{pinDraftId:r,pinItemId:t}=a.payload,s={...e[r].items};return delete s[t],{...e,[r]:{...e[r],items:s}}}case"PIN_BUILDER_REMOVE_PIN_DRAFT_UPLOAD":{let{pinDraftId:r}=a.payload,t={...e};return delete t[r],t}default:return e}},pinDrafts:(e={},a)=>{switch(a.type){case"PIN_BUILDER_DELETE_PIN_DRAFT":{let{pinDraftId:r}=a.payload,t={...e};return delete t[r],t}case"PIN_BUILDER_ADD_PIN_DRAFT":case"PIN_BUILDER_REMOVE_UPLOAD_DRAFT_FLAG":case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_DRAFT_ADD_STORY_PIN_ITEM":case"PIN_DRAFT_ADD_WEBSITE_MEDIA":case"PIN_DRAFT_CLEAR_WEBSITE_MEDIA":case"PIN_DRAFT_REMOVE_PIN_ITEM":case"PIN_DRAFT_REMOVE_WEBSITE_MEDIA":case"PIN_DRAFT_RESET_STORY_PIN_SELECTED_PIN_ITEM_IDS":case"PIN_DRAFT_SET_API_ERROR":case"PIN_DRAFT_SET_BOARD_ERROR":case"PIN_DRAFT_SET_INPUT_VIEW":case"PIN_DRAFT_SET_IS_AD_INELIGIBLE":case"PIN_DRAFT_SET_IS_COMMENTS_ALLOWED":case"PIN_DRAFT_SET_IS_SHOPPING_REC_ALLOWED":case"PIN_DRAFT_SET_LAST_EDITED_TIME":case"PIN_DRAFT_SET_LAST_SAVED_TIME":case"PIN_DRAFT_SET_MEDIA_ERROR":case"PIN_DRAFT_SET_MEDIA_VIEW":case"PIN_DRAFT_SET_PIN_ID":case"PIN_DRAFT_SET_PIN_ITEM_IDS":case"PIN_DRAFT_SET_PIN_ITEM_INDEX":case"PIN_DRAFT_SET_PIN_ITEM_SHAREABLE":case"PIN_DRAFT_SET_PUBLISHING_STATUS":case"PIN_DRAFT_SET_PUBLISH_OPTION":case"PIN_DRAFT_SET_SCHEDULED_DATE_ERROR":case"PIN_DRAFT_SET_SCHEDULED_DATE":case"PIN_DRAFT_SET_SCHEDULED_PIN":case"PIN_DRAFT_SET_SCHEDULED_TIME_ERROR":case"PIN_DRAFT_SET_SCHEDULED_TIME":case"PIN_DRAFT_SET_SELECTED_ITEM":case"PIN_DRAFT_SET_STATUS":case"PIN_DRAFT_SET_STORY_PIN":case"PIN_DRAFT_SET_STORY_PIN_DRAFT_ID":case"PIN_DRAFT_SET_STORY_PIN_SELECTED_PIN_ITEM_IDS":case"PIN_DRAFT_SET_UPLOAD_START_TIME":case"PIN_DRAFT_SET_URL_CREATION_SOURCE":case"PIN_DRAFT_SET_VIEW":case"PIN_DRAFT_SET_CREATE_METHOD":case"PIN_DRAFT_SET_WEBSITE_LINK":case"PIN_DRAFT_UPDATE_DATA":case"PIN_DRAFT_UPDATE_STORY_PIN_METADATA":case"PIN_DRAFT_ADD_INTEREST_TAG":case"PIN_DRAFT_REMOVE_INTEREST_TAG":case"PIN_DRAFT_SET_INTEREST_TAGS":case"PIN_DRAFT_CLEAR_INTEREST_TAGS":case"PIN_DRAFT_SET_STORY_PIN_UPLOAD_MANAGER":case"PIN_DRAFT_SET_ALT_TEXT":case"PIN_DRAFT_SET_ALT_TEXT_ERROR":case"PIN_DRAFT_SET_ADS_ONLY_STATUS":case"PIN_DRAFT_SET_SHOWCASE_BANNER_ERROR":case"PIN_DRAFT_SET_CREATIVE_STUDIO_PIN_DATA":case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":case"STORY_PIN_ITEM_REMOVE_BLOCK":case"STORY_PIN_ITEM_REORDER_BLOCKS":case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":case"STORY_PIN_ITEM_SET_LAYOUT":case"STORY_PIN_ITEM_UPDATE_BLOCK":case"STORY_PIN_ITEM_UPDATE_DATA":{let{pinDraftId:r}=a.payload;return{...e,[r]:ez(e[r],a)}}case"PIN_DRAFT_CLEAR_STATE":return{};default:return e}},pinEditorPinDraft:(e=eZ.pinEditorPinDraft,a)=>{if("PIN_EDITOR_SET_PIN_DRAFT"===a.type){let{payload:e}=a;return e.editedPinDraftId}return e},pinItems:(e={},a)=>{switch(a.type){case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_ITEM_ADD_PIN_TAG":case"PIN_ITEM_REMOVE_PIN_TAG":case"PIN_ITEM_SET_DESCRIPTION":case"PIN_ITEM_SET_DESCRIPTION_ERROR":case"PIN_ITEM_SET_IS_TAGGABLE":case"PIN_ITEM_SET_LINK_ERROR":case"PIN_ITEM_SET_LINK":case"PIN_ITEM_SET_MEDIA":case"PIN_ITEM_SET_SELECTED_PIN_TAG_ID":case"PIN_ITEM_SET_TAG_ERROR":case"PIN_ITEM_SET_TITLE":case"PIN_ITEM_SET_TITLE_ERROR":case"PIN_ITEM_UPDATE_MEDIA":case"PIN_ITEM_UPDATE_DATA":case"PIN_ITEM_SET_EDITED_IMAGE":let{pinItemId:r}=a.payload;return{...e,[r]:(0,e$.Z)(e[r],a)};default:return e}},pinTags:(e={},a)=>{switch(a.type){case"PIN_ITEM_ADD_PIN_TAG":case"PIN_ITEM_REMOVE_PIN_TAG":case"STORY_PIN_ITEM_ADD_PIN_TAG":case"PIN_TAG_ADD_TAGGED_OBJECT":case"PIN_TAG_REMOVE_TAGGED_OBJECT":case"PIN_TAG_SET_COORDINATES":case"PIN_TAG_SET_LINK":case"PIN_TAG_SET_STATUS":let{pinTagId:r}=a.payload;return{...e,[r]:eJ(e[r],a)};default:return e}},selectedPinDraftIds:(e=eZ.selectedPinDraftIds,a)=>{switch(a.type){case"PIN_BUILDER_SELECT_PIN_DRAFT":{let{pinDraftId:r}=a.payload;return[...e,r]}case"PIN_BUILDER_DESELECT_PIN_DRAFT":{let{pinDraftId:r}=a.payload;return e.filter(e=>e!==r)}case"PIN_BUILDER_CLEAR_SELECTED_PIN_DRAFTS":return[];default:return e}},showDisabledPinCreationBanner:(e=eZ.showDisabledPinCreationBanner,a)=>{if("PIN_BUILDER_SHOW_DISABLE_PIN_CREATION_BANNER"===a.type){let{showDisabledPinCreationBanner:e}=a.payload;return e}return e},showFeedbackModal:(e=eZ.showFeedbackModal,a)=>{if("PIN_BUILDER_SHOW_FEEDBACK_MODAL"===a.type){let{payload:e}=a;return e.showFeedbackModal}return e},storyPinItemBlocks:(e={},a)=>{switch(a.type){case"STORY_PIN_ITEM_BLOCK_SET_PLAYING":case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":case"STORY_PIN_ITEM_UPDATE_BLOCK":{let{blockId:r}=a.payload;if(!(r in e))return e;return{...e,[r]:e3(e[r],a)}}case"STORY_PIN_ITEM_ADD_BLOCK":{let{blockId:r}=a.payload;return{...e,[r]:e3(e[r],a)}}case"STORY_PIN_ITEM_REMOVE_BLOCK":{let{blockId:r}=a.payload;if(!(r in e))return e;let t={...e};return delete t[r],t}default:return e}},storyPinItems:(e={},a)=>{switch(a.type){case"PIN_DRAFT_ADD_STORY_PIN_ITEM":case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_REMOVE_BLOCK":case"STORY_PIN_ITEM_REORDER_BLOCKS":case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":case"STORY_PIN_ITEM_SET_BLOCK_IDS":case"STORY_PIN_ITEM_SET_COVER_IMAGE_SIGNATURE":case"STORY_PIN_ITEM_SET_DESCRIPTION":case"STORY_PIN_ITEM_SET_DESCRIPTION_ERROR":case"STORY_PIN_ITEM_SET_DOMINANT_COLORS":case"STORY_PIN_ITEM_SET_EDITED_IMAGE":case"STORY_PIN_ITEM_SET_LAYOUT":case"STORY_PIN_ITEM_SET_LINK_ERROR":case"STORY_PIN_ITEM_SET_MEDIA":case"STORY_PIN_ITEM_SET_PUBLISH_PROGRESS":case"STORY_PIN_ITEM_SET_SELECTED_BLOCK_ID":case"STORY_PIN_ITEM_SET_TITLE":case"STORY_PIN_ITEM_SET_TITLE_ERROR":case"STORY_PIN_ITEM_UPDATE_CWT_DATA":case"STORY_PIN_ITEM_UPDATE_DATA":case"STORY_PIN_ITEM_UPDATE_LINK_BLOCK":case"STORY_PIN_ITEM_UPDATE_MEDIA":case"STORY_PIN_ITEM_ADD_PIN_TAG":case"STORY_PIN_ITEM_SET_SELECTED_PIN_TAG_ID":let{pinItemId:r}=a.payload;return{...e,[r]:e8(e[r],a)};default:return e}},taggedObjects:(e={},a)=>{switch(a.type){case"PIN_TAG_ADD_TAGGED_OBJECT":case"PIN_TAG_REMOVE_TAGGED_OBJECT":case"TAGGED_OBJECT_SET_STATUS":let{taggedObjectId:r}=a.payload;return{...e,[r]:e1(e[r],a)};default:return e}}}),e7=(e,a,r)=>({...e,[a]:{...e[a]||{},...r}}),e5=(e={},a)=>{switch(a.type){case x.zP:{let{payload:{resource:r,response:t,options:s}}=a,o="FindPinImagesResource"===r&&s?.source==="pin_create";if(o){let a={...t.resource_response.data};a.items=a.items.slice(0,50);let r=s?.url||"";return e7(e,r,a)}return e}case"PIN_BUILDER_LOADED_IMAGES":{let{payload:{loadedImages:r,scrapedWebsite:t}}=a;return e7(e,t,{loadedImages:r})}case"UPDATE_PIN_BUILDER_INPUT":return{...e,...a.payload};default:return e}};function e6(e=null,a){return"PIN_NAV_CONTEXT_CREATE"===a.type?{...e,...a.payload}:"PIN_NAV_CONTEXT_DELETE"===a.type?null:e}var ae=r(686873);let aa=(e={},a)=>{if(a.type===x.zP){let{resource:r,options:t={},response:s}=a.payload;if("VisualSearchFlashlightUnifiedResource"===r){let a=t.pin_id,{x:r,y:o,w:n,h:_}=t.crop,d=t.is_shopping,i=`related-products-unified:${a}:${r}:${o}:${n}:${_}:${d}`,{data:l}=s.resource_response,E={[i]:{priceFilters:l.price_filters,domainFilters:l.domain_filters,categoryFilters:l.category_filters}},u=Object.values(E[i]),c=u.filter(Boolean),S=c.length;if(S)return{...e,...E}}}return e};var ar=r(202593),at=r(879932);let as=(e={},a)=>{if("SHOW_QUICK_PROMOTE_PIN_SELECTION"===a.type)return{...e,modal:"PIN_SELECTION_MODAL",firstStepModal:at.Gl.PIN_SELECTION_MODAL,sterlingCreateCampaignUrl:a.payload.sterlingCreateCampaignUrl};if("SELECT_QUICK_PROMOTE_PIN"===a.type)return{...e,initialDataSet:!1,selected_pin:a.payload.pin,selectedProductGroup:null,selectedProductGroupImage:null};if("SELECT_QUICK_PROMOTE_PRODUCT_GROUP"===a.type)return{...e,initialDataSet:!1,selected_pin:void 0,selectedProductGroup:a.payload.productGroup,selectedProductGroupImage:a.payload.productGroupImage};if("SET_PRODUCT_PINS_AND_GROUPS_DATA"===a.type)return{...e,productPinsAndGroupsData:a.payload.productPinsAndGroupsData};if("SET_ACTIVE_FEED_ID"===a.type)return{...e,activeFeedId:a.payload.activeFeedId};if("SET_FEEDS_AND_PRODUCT_GROUPS_DATA"===a.type)return{...e,feedsAndProductGroupsData:a.payload.feedsAndProductGroupsData};if("QUICK_PROMOTE_CHANGE_ADVERTISER"===a.type&&a.payload){let{advertiserId:r}=a.payload,t=(e.advertisers||[]).find(e=>e.id===r);if(t)return{...e,advertiserCountry:parseInt(t.country,10),hasValidBillingProfile:t.has_valid_billing_profile||"VALID"===t.billing_profile_status,hasBusinessAddress:!!t.business_address,advertiserId:t.id,initialDataSet:!0}}if("QUICK_PROMOTE_SET_DATA"===a.type&&a.payload){let r=e.shouldOpenQuickPromoteOnSterling?e.sterlingAdvertiser&&e.sterlingAdvertiser.id:a.payload.advertiserId,{advertisers:t}=a.payload,s=t.find(e=>e.id===r)||e.advertiser;return{...e,advertiserCountry:a.payload.advertiserCountry,hasValidBillingProfile:a.payload.hasValidBillingProfile,hasBusinessAddress:a.payload.hasBusinessAddress,advertiserId:r,initialDataSet:!0,advertisers:a.payload.advertisers,advertiser:s,shouldRefreshBillingInfo:!!a.payload.shouldRefreshBillingInfo}}if("QUICK_PROMOTE_PIN_SELECT_PAGE_OPEN_FROM_STERLING"===a.type){let r={},t=a.payload.sterlingAdvertiser||null;t&&(r={advertiserCountry:t.country,hasValidBillingProfile:t.has_valid_billing_profile,hasBusinessAddress:t.has_business_address,advertiserId:t.id});let s=t&&t.id||e.sterlingAdvertiser&&e.sterlingAdvertiser.id;return{...e,modal:"PIN_SELECTION_MODAL",isFromSterling:a.payload.isFromSterling,sterlingCreateCampaignUrl:(0,ar.Z)({advertiser:{id:s??""},isAdsSite:!0,isAnalyticsSite:!1,isTrendsSite:!1,baseUrl:a.payload.baseUrl,adsUrl:null,isQuickPromote:!0}),initialDataSet:!0,firstStepModal:at.Gl.PIN_SELECTION_MODAL,...r}}if("QUICK_PROMOTE_SHOULD_OPEN_ON_STERLING"===a.type){let r={},t=a.payload.sterlingAdvertiser||null;return t&&(r={advertiserCountry:t.country,hasValidBillingProfile:t.has_valid_billing_profile,hasBusinessAddress:t.has_business_address,advertiserId:t.id,sterlingAdvertiser:t}),{...e,initialDataSet:!0,sterlingAdvertiser:t,shouldOpenQuickPromoteOnSterling:a.payload.shouldOpenQuickPromoteOnSterling,isFromSterling:a.payload.isFromSterling,...r}}if("QUICK_PROMOTE_UPDATE_FORM_VALUES"===a.type)return{...e,...a.payload};if("QUICK_PROMOTE_UPDATE_FORM_URL"===a.type){let{destinationUrl:r,error:t}=a.payload,s={...e.errors,destinationUrl:t};return{...e,errors:s,destinationUrl:r}}if("QUICK_PROMOTE_UPDATE_FORM_AD_TYPE"===a.type){let{adType:r,selectedOCPMTag:t,error:s}=a.payload,o={...e.errors,adType:s};return{...e,adType:r,selectedOCPMTag:t,errors:o}}if("QUICK_PROMOTE_UPDATE_FORM_BUDGET"===a.type){let{dailyBudget:r,error:t}=a.payload,s={...e.errors,dailyBudget:t};return{...e,dailyBudget:r,errors:s}}if("QUICK_PROMOTE_UPDATE_FORM_DURATION"===a.type){let{duration:r,error:t}=a.payload,s={...e.errors,duration:t};return{...e,duration:r,errors:s}}if("QUICK_PROMOTE_UPDATE_FORM_NAME"===a.type){let{name:r,error:t}=a.payload,s={...e.errors,name:t};return{...e,name:r,errors:s}}if("QUICK_PROMOTE_UPDATE_IS_ONGOING"===a.type){let{isOngoing:r,error:t}=a.payload,s={...e.errors,duration:t};return{...e,isOngoing:r,errors:s}}if("QUICK_PROMOTE_SET_INITIAL_FORM_DATA"===a.type)return{...e,dailyBudget:a.payload.budget,duration:a.payload.duration,isOngoing:!!a.payload.isOngoing,destinationUrl:a.payload.destinationUrl,adType:a.payload.adType,name:a.payload.name,locale:a.payload.locale};let r={isOngoing:void 0,dailyBudget:void 0,duration:void 0,destinationUrl:void 0,adType:void 0,name:void 0,ages:[],genders:[],interests:[],errors:{},showShortDurationModal:void 0,showConversionOpenAdsManagerModal:void 0,sterlingCreateCampaignUrl:void 0,selected_pin:void 0,selectedProductGroup:void 0,selectedProductGroupImage:void 0,advertiserId:void 0,advertiserCountry:void 0,hasBusinessAddress:void 0,hasValidBillingProfile:void 0,isFormOnSubmitting:!1,isAutoTargeting:!0};if("QUICK_PROMOTE_RESET_DATA"===a.type)return{...e,...r,modal:void 0,firstStepModal:void 0,fromPickaPin:void 0,pin:void 0,productGroup:void 0,isOnlySetupBilling:!1};if("QUICK_PROMOTE_RESET_DATA_WHEN_RESELECT_PIN"===a.type)return{...e,isOngoing:!1,ages:[],genders:[],interests:[],errors:{}};if("QUICK_PROMOTE_SELECT_AUTO_TARGETING"===a.type)return{...e,isAutoTargeting:a.payload.isAutoTargeting};if("QUICK_PROMOTE_RESET_FIRST_STEP_MODAL"===a.type)return{...e,firstStepModal:void 0};if("QUICK_PROMOTE_RESET_FORM_WHEN_MOVE_BACK"===a.type)return{...e,...r};if("SHOW_QUICK_PROMOTE_MODAL_FROM_PIN_SELECTION"===a.type)return{...e,fromPickaPin:a.payload.isFromPickaPin,pin:a.payload.pin,selectedProductGroup:null,selectedProductGroupImage:null,productGroup:null,productGroupImage:null};if("SHOW_QUICK_PROMOTE_MODAL_FROM_PRODUCT_GROUP_SELECTION"===a.type)return{...e,fromPickaPin:a.payload.isFromPickaPin,pin:null,selected_pin:null,productGroup:a.payload.productGroup,productGroupImage:a.payload.productGroupImage};if("QUICK_PROMOTE_SET_PIN"===a.type)return{...e,pin:a.payload.pin};if("QUICK_PROMOTE_INIT_PAGE"===a.type)return{...e,firstStepModal:at.hf};if("QUICK_PROMOTE_TARGETING_OPTIONS_SET"===a.type)return{...e,targetingOptions:a.payload.targeting};if("SHOW_QUICK_PROMOTE_BILLING_MODAL"===a.type)return{...e,firstStepModal:at.Gl.BILLING_FORM,isOnlySetupBilling:!0};if("SHOW_QUICK_PROMOTE_BUSINESS_FORM_MODAL"===a.type)return{...e,firstStepModal:at.Gl.BUSINESS_FORM,isOnlySetupBilling:!0};if("RESET_SHOW_QUICK_PROMOTE_BILLING_MODAL_FLAG"===a.type)return{...e,isOnlySetupBilling:!1};if("QUICK_PROMOTE_RESET_FORM_SUBMIT_STATUS"===a.type)return{...e,isFormOnSubmitting:!1};if("QUICK_PROMOTE_BILLING_INFO_REFRESHED"===a.type)return{...e,shouldRefreshBillingInfo:!1};if("SHOW_GDPR_MODAL"===a.type)return{...e,firstStepModal:at.Gl.GDPR_MODAL};if("QUICK_PROMOTE_UPDATE_SHARED_OCPM_ELIGIBLE_TAGS"===a.type)return{...e,sharedOCPMEligibleTags:a.payload.sharedOCPMEligibleTags};if("QUICK_PROMOTE_SET_SERVER_ERROR"===a.type)return{...e,serverError:a.payload.serverError};if("SHOW_PICK_A_PIN_SHEET"===a.type)return{...e,showPickPinSheet:a.payload.showPickPinSheet};if("SET_IN_SHOPPING_EXPERIMENT"===a.type)return{...e,inShoppingExperiment:a.payload.inShoppingExperiment};if("CLEAR_PIN_SHEET_SELECTED"===a.type)return{...e,selected_pin:null,selectedProductGroup:null,selectedProductGroupImage:null};if("QUICK_PROMOTE_PAGE_SET_DATA"===a.type){let{hasValidBillingProfile:r,hasBusinessAddress:t,advertiserId:s,advertiserCountry:o,advertisers:n,budget:_,destination_url:d,ad_type:i,duration:l,locale:E,name:u,pin:c,selectedProductGroup:S,selectedProductGroupImage:T,isFromSterling:p,isFromAnalytics:R,firstStepModal:A=at.hf,isFromWww:I}=a.payload,y=n.find(e=>e.id===s)||e.advertiser;return{...e,hasValidBillingProfile:r,hasBusinessAddress:t,advertiserId:s,advertiserCountry:o,advertisers:n,advertiser:y,duration:l,locale:E,name:u,pin:c,selectedProductGroup:S,selectedProductGroupImage:T,isFromSterling:p,isFromAnalytics:R,isFromWww:I,dailyBudget:_,destinationUrl:d,firstStepModal:A,adType:i}}return e},ao=(e,a)=>({...e,[a.id]:{...e[a.id],...a}}),an=(0,k.Z)("reactions",(e={},a)=>{switch(a.type){case x.zP:if("ReactionsResource"===a.payload.resource&&a.payload.normalizedResponse&&a.payload.normalizedResponse.entities&&a.payload.normalizedResponse.entities.reactions)return{...e,...a.payload.normalizedResponse.entities.reactions};return e;case x.AF:let{options:r}=a.payload,{reaction_type:t,reaction_pin_id:s,user_id:o}=r;return ao(e,{user:o,id:`${s}:${o}:${t}`,reaction_type:t,type:"userreaction"});default:return e}}),a_=[],ad=(e,a)=>{let r=0,t=e.length-1;for(;r<=t;){let s=r+Math.floor((t-r)/2);e[s].scheduled_ts>a.scheduled_ts?t=s-1:e[s].scheduled_ts<=a.scheduled_ts&&(r=s+1)}return r},ai=(e=a_,a)=>{if(a.type===x.zP||a.type===x.aW){let{resource:e}=a.payload,{data:r}=a.payload.response.resource_response;if("ScheduledPinsResource"===e)return r||[]}else if("SCHEDULED_PIN_DELETE_COMPLETE"===a.type||"SCHEDULED_PIN_PUBLISH_COMPLETE"===a.type){let{payload:{scheduledPinId:r}}=a,t=e.filter(e=>e.id!==r);return t}else if("SCHEDULED_PIN_CREATE_COMPLETE"===a.type){let{payload:{scheduledPin:r}}=a,t=ad(e,r),s=[...e];return s.splice(t,0,r),s}else if("SCHEDULED_PIN_UPDATE_COMPLETE"===a.type){let{payload:{title:r,scheduledPinId:t,scheduledTimestamp:s}}=a,o=e.find(e=>e.id===t),n=e.filter(e=>e.id!==t);if(o){let e={...o,title:r??"",scheduled_ts:s},a=ad(n,e),t=[...n];return t.splice(a,0,e),t}}return e};var al=r(278493);let aE={},au=new Set(["BoardResource","PinResource","RepinResource"]),ac=(e=aE,a)=>{switch(a.type){case"REPLACE_STATE":return{...e,...a.payload.session};case"SET_LOGIN_SIGNUP_FROM":if(a.payload.from!==e.loginSignupFrom)return{...e,loginSignupFrom:a.payload.from};return e;case"SET_UNAUTH_SAVE_PIN_ID":return{...e,unauthSavePinId:a.payload.unauthSavePinId};case"DISMISS_UNAUTH_SAVE":return{...e,unauthSavePinId:void 0};case"COMPLETE_UNAUTH_SAVE_ACTION":return{...e,hasSavedUnauthPin:!0};case"AUTHENTICATE_USER":case"REGISTER_USER":return{...e,isAuthenticated:!0,userId:a.payload.user.id};case"SET_VIEWED_IMAGE":let{viewedImageSignature:r}=a.payload,{viewedImages:t}=e,s=(t||[]).slice(0,10),o=[r].concat(s.filter(e=>e!==r));return{...e,viewedImages:o};case"SET_VIEWED_SHARED_PINS":return{...e,viewedSharedPins:a.payload.pins};case"SHOW_BIZ_NUX_HOMEFEED_LOADER":return{...e,isBizNuxHomefeedLoadShown:a.payload};case"SHOW_REPIN_ANIMATION":return{...e,isShowingRepinAnimation:!0};case"HIDE_REPIN_ANIMATION":return{...e,isShowingRepinAnimation:!1};case"SET_NUM_SIGNUP_STEPS":return{...e,numSignupSteps:a.payload.steps};case"HIDE_NAV_FOOTER":return{...e,shouldHideNavBar:!0};case"SHOW_NAV_FOOTER":return{...e,shouldHideNavBar:!1};case"BOARD_DELETE":case"BOARD_SECTION_DELETE":case"PIN_DELETE":return{...e,isProfilePinsStale:!0};case"CREATE_COMPLETE":let{resource:n}=a.payload;return au.has(n)?{...e,isProfilePinsStale:!0}:e;case"SET_OWN_PROFILE_PINS_REFRESH":return{...e,isProfilePinsStale:!1};case"DISMISS_UNAUTH_APP_UPSELL":return{...e,unauthInterstitialDismissed:!0};case"LOGGED_OUT_USER_INFO_FOUND":return{...e,loggedOutUserInfo:a.payload};case"LOGGED_OUT_USER_INFO_NOT_FOUND":return{...e,loggedOutUserInfo:null};case"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX":if(e.isAuthenticated)return{...e,firstHomeFeedRequestAfterNux:a.payload};return e;case"SET_LANDING_PAGE_TYPE":return{...e,landingPageType:a.payload};default:return e}},aS=(e={},a)=>{if(a.type===x.zP||a.type===x.aW){let{payload:{response:r,resource:t,options:s={}}}=a;if("CountriesResource"===t)return{...e,countryOptions:r.resource_response.data.map(e=>({value:e.key,label:e.name}))};if("LocalesResource"===t)return{...e,localeOptions:r.resource_response.data.map(e=>({value:e.key,label:e.name}))};if("ApiResource"===t&&"/v3/settings/news/"===s.url)return{...e,newsSettings:r.resource_response.data};if("ApiResource"===t&&"/v3/settings/push/"===s.url)return{...e,pushSettings:r.resource_response.data}}if("SETTINGS_CHANGE"===a.type){let{id:r,value:t}=a.payload,{newsSettings:s,pushSettings:o}=e,n=s?.map(e=>(e.options=e.options.map(e=>(e.id===r&&(e.value=t),e)),e))??[],_=o?.map(e=>(e.options=e.options.map(e=>(e.id===r&&(e.value=t),e)),e))??[];return{...e,newsSettings:n,pushSettings:_}}return e},aT=e=>e.trim().toLowerCase(),ap=({state:e,boardId:a,name:r})=>{let t=aT(r);return Object.keys(e).reduce((r,s)=>{let o=e[s];return{...r,[s]:"section_title_recommendations"===o.story_type&&o.objects.find(e=>"board"===e.schema&&e.id===a)?{...o,objects:o.objects.filter(e=>!("board_section_name_recommendation"===e.type&&aT(e.name)===t))}:o}},{})},aR=(0,k.Z)("stories",(e={},a)=>{switch(a.type){case x.AF:case x.aW:if("BoardSectionResource"===a.payload.resource&&a.payload.normalizedResponse){let{name:r,board_id:t}=a.payload.options??{};return ap({state:e,boardId:t,name:r})}return e;case x.zP:if("BoardsFeedResource"===a.payload.resource){let r=a.payload.response.resource_response.data.filter(e=>"story"===e.type).reduce((e,a)=>({...e,[a.id]:a}),{});return{...e,...r}}return e;default:return e}}),aA=(e={},a)=>{switch(a.type){case x.zP:case x.aW:{let{response:r,resource:t}=a.payload,{data:s}=r.resource_response;if("StoryPinDraftsResource"===t){let a=(s||[]).reduce((e,a)=>(e[a.id]=a,e),{});return{...e,...a}}return e}case"STORY_PIN_DATA_DELETE":{let{storyPinDataId:r}=a.payload,t={...e};return delete t[r],t}default:return e}};var aI=r(193163);let ay={},aO=(e=ay,a)=>{if(a.type===x.zP||a.type===x.aW){let{response:{resource_response:{data:r}},resource:t}=a.payload;if(["IdeasHubTodayArticlesResource","RelatedArticlesResource","TodayTabInterestFeedResource","TodayTabResource"].includes(t)&&r){let a=r.reduce((e,a)=>((0,aI.Y_)(a)&&(e[a.id]=a),e),{});return{...e,...a}}if("TodayArticleResource"===t&&r?.id){let a={[r.id]:r};return{...e,...a}}if("TodayArticleFeedResource"===t&&r&&(0,aI.nx)(r)){let a=r.reduce((e,a)=>(Array.isArray(a.objects)&&a.objects.forEach(a=>{(0,aI.Y_)(a)&&(e[a.id]=a)}),e),{});return{...e,...a}}}return e},aP=(0,k.Z)("todayArticles",(e={},a)=>(a.type,e)),aN=(e,a)=>({...e,[a.id]:{...e[a.id],...a}}),aD=(0,k.Z)("topics",(e={},a)=>{switch(a.type){case"TOPIC_FOLLOW":let{payload:{id:r,value:t}}=a;return aN(e,{id:r,is_followed:t});case x.zP:let{payload:{options:s,resource:o,response:n}}=a,_=n.resource_response.data,d="ApiResource"===o&&s?.url?.match(/\/v3\/boards\/([0-9]|[a-z]|[A-Z])+\/interests\//);if(("PinInterestsResource"===o||d)&&_?.length)return _.reduce((e,a)=>aN(e,a),e);return e;default:return e}}),aC=(0,k.Z)("triedits",(e={},a)=>(a.type,e));var ag=r(7760),af=r(608410),aL=r(224796),aU=r(731714),am=r(520719);let aG=(e,a,r)=>({...e,[a]:r}),av={vmpBannerLastDismissedAt:{},vmpWelcomeBannerDismissCount:{},vmpCelebrationBannerDismissed:{}};function aM(e=av,a){switch(a.type){case x.zP:{let{payload:{response:r,resource:t,options:s}}=a,o=r.resource_response.data,n=s?.userId||"";if("VerifiedMerchantResource"===t&&o)return aG(e,n,o);return e}case"INIT_VMP_BANNER_REDUX_STATE":return{...e,vmpBannerLastDismissedAt:aU.Z.getItem(aL.z$)||{},vmpWelcomeBannerDismissCount:aU.Z.getItem(aL.Gs)||{},vmpCelebrationBannerDismissed:aU.Z.getItem(aL.jK)||{}};case"DISMISS_VMP_BANNER":{let r=a.banner!==am.it.CELEBRATION_BANNER?{...e.vmpBannerLastDismissedAt,[a.userId]:Date.now()}:{...e.vmpBannerLastDismissedAt};aU.Z.setItem(aL.z$,r);let t=a.banner===am.it.WELCOME_BANNER?{...e.vmpWelcomeBannerDismissCount,[a.userId]:(e.vmpWelcomeBannerDismissCount[a.userId]||0)+1}:{...e.vmpWelcomeBannerDismissCount};aU.Z.setItem(aL.Gs,t);let s=a.banner===am.it.CELEBRATION_BANNER?{...e.vmpCelebrationBannerDismissed,[a.userId]:!0}:{...e.vmpCelebrationBannerDismissed};return aU.Z.setItem(aL.jK,s),{...e,vmpBannerLastDismissedAt:r,vmpWelcomeBannerDismissCount:t,vmpCelebrationBannerDismissed:s}}case"CLEAR_VMP_BANNER_LAST_DISMISSED_AT":{let r=e.vmpBannerLastDismissedAt,t=Object.keys(r).filter(e=>e!==a.userId).reduce((e,a)=>({...e,[a]:r[a]}),{});return aU.Z.setItem(aL.z$,t),{...e,vmpBannerLastDismissedAt:t}}default:return e}}function ab({viewingUser:e}){return{adminUser:n,articles:K,billing:W,boards:en,boardsections:eR,businessAccess:w,businessNux:eI,underageConfirmation:o,changeBoardFromToast:eO,contactRequests:eP,createBoardUpsell:eD,desktopStories:ef,didItData:ev,experiences:_.D,experiencesMulti:_.G,explore:eM,feeds:eb.Z,flashlight:eh,form:t.Z,guidance:l,homefeedTabUI:eB,inbox:eF,invites:eY.Z,marketingPlan:eV,modules:ew,mostRecentBoard:ek,notifications:eW,pinbuilder:e9,pinbuilderMobile:e5,pinNavContext:e6,pins:ae.Z,productFilters:aa,quickPromote:as,reactions:an,resources:E.Z,scheduledPins:ai,search:al.Z,session:ac,settings:aS,stories:aR,storyPinData:aA,todayarticles:aO,todayArticles:aP,topics:aD,triedits:aC,ui:ag.rh,users:(0,af.ZP)(e),verifiedMerchants:aM}}},645247:(e,a,r)=>{"use strict";r.d(a,{U:()=>s,Z:()=>_});var t=r(614137);let s=e=>`${e.board}:${e.invited_user??""}`,o=(e,a)=>({...e,[s(a)]:{...e[s(a)],...a}}),n=(0,t.Z)("collaboratorinvite",(e={},a)=>{switch(a.type){case"BOARD_COLLABORATOR_DELETE":return o(e,{board:a.payload.boardId,invited_user:a.payload.userId,status:"not_invited"});case"BOARD_COLLABORATOR_ADD":let{boardId:r,viewingUser:t,status:n,collaboratingUsers:_}=a.payload,d=_.map(e=>e?.id).filter(Boolean),i=d.reduce((e,a)=>{let _={access:["delete"],board:r,invited_user:a,invited_by_user:t,status:n,type:"collaboratorinvite"},d=s(_);return e[d]&&"not_invited"!==e[d].status?e:o(e,_)},{...e});return i;case"BOARD_INVITE_ACCEPTED_BY_VIEWER":return o(e,{board:a.payload.boardId,invited_user:a.payload.collaboratingUser?.id,status:"accepted"});case"BOARD_INVITE_APPROVED_BY_VIEWER":let l=a.payload.isRequestToJoin?"accepted":"new";return o(e,{board:a.payload.boardId,invited_user:a.payload.collaboratingUser?.id??"",status:l});case"BOARD_INVITE_DENIED_BY_VIEWER":let E={board:a.payload.boardId,invited_user:a.payload.userId},u=s(E),{[u]:c,...S}=e;return S;default:return e}}),_=n},473401:(e,a,r)=>{"use strict";r.d(a,{E:()=>s,Z:()=>o});var t=r(996523);let s={description:"",descriptionError:null,editorInstanceId:"",isTaggable:!0,link:"",linkError:null,media:null,pinTagIds:[],selectedPinTagId:null,tagError:null,title:"",titleError:null,canvasJson:null,signals:{},userMentionTags:[]},o=(e=s,a)=>{switch(a.type){case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_ITEM_UPDATE_DATA":{let{pinItem:r}=a.payload;return{...e,...r,signals:{...e.signals,...r?.signals}}}case"PIN_ITEM_ADD_PIN_TAG":{let{pinTagId:r}=a.payload;return{...e,pinTagIds:[...e.pinTagIds,r]}}case"PIN_ITEM_REMOVE_PIN_TAG":{let{pinTagId:r}=a.payload;return{...e,pinTagIds:e.pinTagIds.filter(e=>e!==r)}}case"PIN_ITEM_SET_DESCRIPTION":{let{description:r}=a.payload;return{...e,description:r}}case"PIN_ITEM_SET_DESCRIPTION_ERROR":{let{descriptionError:r,signals:t}=a.payload;return{...e,descriptionError:r,signals:{...e.signals,...t}}}case"PIN_ITEM_SET_IS_TAGGABLE":{let{isTaggable:r}=a.payload;return{...e,isTaggable:r}}case"PIN_ITEM_SET_LINK":{let{link:r}=a.payload;return{...e,link:r}}case"PIN_ITEM_SET_LINK_ERROR":{let{linkError:r,signals:t}=a.payload;return{...e,linkError:r,signals:{...e.signals,...t}}}case"PIN_ITEM_SET_MEDIA":{let{media:r}=a.payload,t=r?.type!=="localVideo"&&(!!r&&!e.link||e.isTaggable);return{...e,canvasJson:null,isTaggable:t,media:r,pinTagIds:[],selectedPinTagId:null}}case"PIN_ITEM_UPDATE_MEDIA":{let{media:r}=a.payload;return{...e,media:e.media?(0,t.Z)(e.media,r):null}}case"PIN_ITEM_SET_SELECTED_PIN_TAG_ID":{let{selectedPinTagId:r}=a.payload;return{...e,selectedPinTagId:r}}case"PIN_ITEM_SET_TAG_ERROR":{let{tagError:r}=a.payload;return{...e,tagError:r}}case"PIN_ITEM_SET_TITLE":{let{title:r}=a.payload;return{...e,title:r}}case"PIN_ITEM_SET_TITLE_ERROR":{let{titleError:r,signals:t}=a.payload;return{...e,titleError:r,signals:{...e.signals,...t}}}case"PIN_ITEM_SET_EDITED_IMAGE":{let{editedMedia:r,canvasJson:t}=a.payload;return{...e,media:r,canvasJson:t}}default:return e}}},686873:(e,a,r)=>{"use strict";r.d(a,{Z:()=>N});var t=r(422578),s=r(172045),o=r(105737),n=r(954690);let _=(e,a)=>{let r=(0,n.Ig)();r&&e&&(0,t.commitLocalUpdate)(r,r=>{let t=r.get(e);t||(t=r.create(e,"Pin"));let o=Object.entries(a).map(([e,a])=>{let t=r.create((0,s.Z)(),"TrackingParamsMap");return t?.setValue(a,"data"),t?.setValue(e,"key"),t});t.setLinkedRecords(o,"trackingParamsMap")})};var d=r(996523),i=r(419821),l=r(749886),E=r(614137),u=r(193163);let c=e=>e||[],S=e=>e?e.reduce((e,a)=>a?.objects?e.concat(a.objects):e.concat([a].filter(Boolean)),[]):[],T=e=>{if(e&&Array.isArray(e)){let a=e.reduce((e,a)=>a.content_pin?e.concat(a.content_pin):e,[]);return a}return[]},p={ApiResource:e=>{if(e&&Array.isArray(e)){let a=[];return e.forEach(e=>{e.call_to_create_source_pin_id?a.push(e):"story"===e.type&&e.objects&&Array.isArray(e.objects)&&e.objects.forEach(e=>{a.push(e)})}),a}return[]},BaseSearchResource:e=>e?S(e.results):[],BoardContentRecommendationResource:c,BoardFeedResource:c,BoardlessPinsResource:c,BoardSectionPinsResource:c,BoardShopCategoryFeedResource:c,BoardShopSavedProductsFeedResource:c,BrandCatalogFeedResource:c,BusinessProfileUserPinsResource:c,CategoryFeedResource:c,DomainFeedResource:c,IdeaPinStelaResultsResource:c,InterestResource:e=>e?e.results:[],LiveSessionProductsResource:e=>e?Object.values(e).reduce((e,a)=>e.concat(a),[]):[],NewsHubDetailsResource:e=>e?e.reduce((e,a)=>a.content_items?e.concat(a.content_items.map(e=>e.content_object).filter(Boolean)):e,[]):[],PinCatalogResource:c,ProfileCoverFeedResource:c,RelatedModulesResource:S,RelatedPinFeedResource:c,RelatedProductFeedResource:c,RelatedStreamResource:c,SearchResource:c,SectionSuggestionsPinsResource:c,ShoppingFeedModularizedResource:S,TaggedObjectsResource:S,TodayArticleFeedResource:e=>{if((0,u.nx)(e)){let a=e.reduce((e,a)=>{if(Array.isArray(a.objects)){let r=[];return a.objects.forEach(e=>{"todayarticle"===e.type&&e.content_pin?.type==="pin"?r.push(e.content_pin):"pin"===e.type&&r.push(e)}),e.concat(r)}return e},[]);return a}return e||[]},TodayTabInterestFeedResource:T,TodayTabResource:T,TopicFeedResource:c,UserDiscoveredPinsResource:c,UserHomefeedResource:S,UserActivityPinsResource:c,UserRecentActivityResource:c,UserStoryPinsFeedResource:c,UserPinsResource:c,VisualLiveSearchResource:e=>e?e.results:[],VisualLiveSearchProductFeedResource:c,VisualLinkVisualSearchResource:c,VisualSearchFlashlightUnifiedResource:e=>e?S(e.results):[],ShoppingListFeedResource:S,ShoppingListRecentlyViewedFeedResource:c,BestPinsFeedAltResource:c,StoryFeedResource:S},R=(e,a)=>{let r,t=e;switch(e){case"ApiResource":break;case"BaseSearchResource":case"SearchResource":let{query:s}=a,o=a.auth_lp_type;"blp"===o?r=null:s&&(r=encodeURIComponent(s)),t="SearchResource";break;case"BrandCatalogFeedResource":case"RelatedModulesResource":case"RelatedPinFeedResource":case"RelatedProductFeedResource":case"ShoppingFeedModularizedResource":case"VisualSearchFlashlightUnifiedResource":case"BoardShopCategoryFeedResource":r=a.pin;break;case"CategoryFeedResource":r=a.feed;break;case"DomainFeedResource":r=a.domain;break;case"LiveSessionProductsResource":r=a.classId;break;case"NewsHubDetailsResource":r=a.news_id;break;case"BestPinsFeedAltResource":case"TopicFeedResource":r=a.interest;break;case"TodayArticleFeedResource":r=a.id;break;case"StoryFeedResource":r=`${a.feed_type}-${a.request_params}`}return r?`${t}_${r.toLowerCase()}`:e},A=(e,a,r=!1)=>{let t=(0,d.Z)(e,a,r?(e,a)=>null===a?e:void 0:void 0);return(0,o.ZP)(e,t)?e:t},I=(e,a)=>({...e,[a.id]:{...e[a.id]||{},...a}}),y=(e,a)=>{let{pinId:r,increment:t,reactionType:s}=a.payload;if(!e[r])return e;let o=e[r].reaction_counts??{},n=o[s]??0,_=t?n+1:Math.max(n-1,0);return 0===_?(delete e[r].reaction_counts?.[s],I(e,{id:r,reaction_counts:{...o}})):I(e,{id:r,reaction_counts:{...o,[s]:_}})};function O(e,a){let r=(0,n.Ig)();switch(a.type){case"CHANGE_CAROUSEL_SLOT_INDEX":{let{id:r,index:t}=a.payload;if(r===e.id&&e.carousel_data)return{...e,carousel_data:{...e.carousel_data,index:t}};return e}case"SET_PIN_COMMENTS_DISABLED":{let{id:r,pinCommentsDisabled:t}=a.payload;if(r===e.id)return{...e,comments_disabled:t,is_eligible_for_aggregated_comments:!t};return e}case"PIN_SAVE":{let{boardId:s,localPinId:o,id:n,title:_,url:d,nodeId:i}=a.payload;if(n===e.id)return r&&i&&(0,t.commitLocalUpdate)(r,e=>{let a=e.get(i);a||(a=e.create(i,"Pin"));let r=a.getOrCreateLinkedRecord("savedInfo","SaveTarget");r.setValue(s,"boardId"),r.setValue(o,"localPinId"),r.setValue(null,"score"),r.setValue(null,"sectionId"),r.setValue(_,"title"),r.setValue(null,"type"),r.setValue(d,"url")}),{...e,savedInfo:{boardId:s,title:_,url:d,localPinId:o}};return e}case"PIN_UNSAVE":{let{id:s,nodeId:o}=a.payload;if(s===e.id){r&&o&&(0,t.commitLocalUpdate)(r,e=>{let a=e.get(o);a&&a.setValue(null,"savedInfo")});let{savedInfo:a,...s}=e;return s}return e}case"PIN_SHOW_SUGGESTED_CREATOR_RECS":if(a.payload.id===e.id)return{...e,show_suggested_creator_recs:a.payload.value};return e;case"PIN_QUICK_SAVE":{let{pinId:s,boardId:o,localPinId:n,title:_,url:d,nodeId:i}=a.payload;if(s===e.id)return r&&i&&(0,t.commitLocalUpdate)(r,e=>{let a=e.get(i);a||(a=e.create(i,"Pin"));let r=a.getOrCreateLinkedRecord("savedInfo","SaveTarget");r.setValue(o,"boardId"),r.setValue(n,"localPinId"),r.setValue(null,"score"),r.setValue(null,"sectionId"),r.setValue(_,"title"),r.setValue(null,"type"),r.setValue(d,"url")}),{...e,savedInfo:{boardId:o,localPinId:n,title:_,url:d}};return e}case"PIN_SHOW_FEEDBACK":{let{id:o,value:n,text:_,nodeId:d}=a.payload;if(o===e.id)return r&&d&&(0,t.commitLocalUpdate)(r,e=>{let a=e.get(d);a||(a=e.create(d,"Pin")),a.setValue(n,"showFeedback");let r=a.getOrCreateLinkedRecord("feedbackText","FeedbackText");r.setValue(_?.title,"title"),r.setValue(_?.subTitle,"subTitle");let{unfollow:t,undoCallbackProps:o}=_??{},i=r.getOrCreateLinkedRecord("unfollow","Unfollow");i.setValue(t?.action,"action"),i.setValue(t?.title,"title"),i.setValue(t?.subTitle,"subTitle");let l=r.getOrCreateLinkedRecord("undoCallbackProps","UndoCallbackProps");l.setValue(o?.action,"action"),l.setValue(o?.viewType,"viewType"),l.setValue(o?.viewParameter,"viewParameter");let E=(a,r)=>{let t=a.getOrCreateLinkedRecord("actionOptions","ActionOptions");if(t.setValue(r?.board_id,"boardId"),t.setValue(r?.interest_id,"interestId"),t.setValue(r?.interest_list,"interestList"),t.setValue(r?.complaint_reason,"complaintReason"),t.setValue(r?.feedback_type,"feedbackType"),t.setValue(r?.pin_id,"pinId"),t.setValue(r?.pin_type,"pinType"),t.setValue(r?.pin,"pin"),t.setValue(r?.promoted,"promoted"),t.setValue(r?.recommendation_reason_id,"recommendationReasonId"),t.setValue(r?.undo,"undo"),t.setValue(r?.user_id,"userId"),t.setValue(r?.query,"query"),t.setValue(r?.news_id,"newsId"),t.setValue(r?.through_id,"throughId"),t.setValue(r?.client_tracking_params,"clientTrackingParams"),t.setValue(r?.is_third_party_ad,"isThirdPartyAd"),r?.through_properties){let a=Object.entries(r.through_properties).map(([a,r])=>{let t=e.create((0,s.Z)(),"ThroughProperties");return t?.setValue(r,"data"),t?.setValue(a,"key"),t});t.setLinkedRecords(a,"throughProperties")}};E(i,t?.actionOptions),E(l,o?.actionOptions)}),{...e,showFeedback:n,feedbackText:_};return e}case"PIN_UPDATE_COMMENT_COUNT":{let{id:r,increment:t}=a.payload;if(r===e.id&&e.aggregated_pin_data){let a={...e.aggregated_pin_data,comment_count:(e.aggregated_pin_data.comment_count||0)+t};return{...e,aggregated_pin_data:a}}return e}case"PIN_DID_IT":{let{id:r,value:t}=a.payload;if(r===e.id){let a=(e.aggregated_pin_data||{}).did_it_data,r={...a,images_count:(a?.images_count||0)+(t?1:-1)},s={...e.aggregated_pin_data,did_it_data:r};return{...e,aggregated_pin_data:s,done_by_me:t}}return e}case"PIN_SHOW_FEEDBACK_OVERLAY":{let{id:s,value:o,nodeId:n}=a.payload;if(s===e.id)return r&&n&&(0,t.commitLocalUpdate)(r,e=>{let a=e.get(n);a||(a=e.create(n,"Pin")),a.setValue(o,"showFeedbackOverlay")}),{...e,showFeedbackOverlay:o};return e}case"PIN_SHOW_AD_REASONS_MODAL":if(a.payload.id===e.id)return{...e,show_ad_reasons:a.payload.value};return e;case"APPROVE_PIN_SPONSORSHIP":{let{isApproved:r,pinId:t}=a.payload;if(t===e.id)return{...e,sponsorship:{...e.sponsorship,sponsor:r?e.sponsorship?.sponsor:void 0,status:r?1:2}};return e}case"DELETE_PIN_SPONSORSHIP":{let{pinId:r,userId:t}=a.payload;if(r===e.id){if(t===e.sponsorship?.creator?.id)return{...e,sponsorship:void 0};if(t===e.sponsorship?.sponsor?.id)return{...e,sponsorship:{...e.sponsorship,sponsor:void 0,status:3}}}return e}case"PIN_UPDATE_REACTION_COUNT":{let{id:r,increment:t,reactionType:s}=a.payload;if(r===e.id){let{reaction_counts:a={}}=e,r=a[s]||0,o=t?r+1:Math.max(r-1,0),n=t?s:0;if(0===o){let r={...e,reaction_counts:{...a},reaction_by_me:n};return delete r.reaction_counts[s],{...r}}{let r={...e,reaction_counts:{...a,[s]:o},reaction_by_me:n};return{...r}}}return e}case"PIN_BETTER_SAVE":{let{pinId:s,boardId:o,localPin:n,localPinId:_,sectionId:d,title:i,type:l,url:E,nodeId:u}=a.payload;if(s===e.id)return r&&u&&(0,t.commitLocalUpdate)(r,e=>{let a=e.get(u);a||(a=e.create(u,"Pin"));let r=a.getOrCreateLinkedRecord("savedInfo","SaveTarget");r.setValue(o,"boardId"),r.setValue(_,"localPinId"),r.setValue(null,"score"),r.setValue(d,"sectionId"),r.setValue(i,"title"),r.setValue(l,"type"),r.setValue(E,"url")}),{...e,savedInfo:{boardId:o,localPinId:_||n&&n.id,sectionId:d,title:i,type:l,url:E}};return e}case"PIN_BETTER_UNSAVE":{let{pinId:s,nodeId:o}=a.payload;if(s===e.id){r&&o&&(0,t.commitLocalUpdate)(r,e=>{let a=e.get(o);a&&a.setValue(null,"savedInfo")});let a={...e};return delete a.savedInfo,{...a}}return e}case"PIN_BETTER_SELECT_BOARD_OR_SECTION":{let{pinId:s,boardId:o,sectionId:n,score:_,title:d,type:i,url:l,nodeId:E}=a.payload;if(s===e.id)return r&&E&&(0,t.commitLocalUpdate)(r,e=>{let a=e.get(E);a||(a=e.create(E,"Pin"));let r=a.getOrCreateLinkedRecord("selectedItem","SaveTarget");r.setValue(o,"boardId"),r.setValue(null,"localPinId"),r.setValue(_,"score"),r.setValue(n,"sectionId"),r.setValue(d,"title"),r.setValue(i,"type"),r.setValue(l,"url")}),{...e,selectedItem:{boardId:o,sectionId:n,score:_,title:d,type:i,url:l}};return e}case"DELETE_PIN_MENTION":{let{pinId:r,userId:t}=a.payload;if(r===e.id){let{story_pin_data:a}=e;if(!a)return e;let{pages:r=[]}=a,s=r.map(e=>{let{blocks:a=[]}=e,r=a.map(e=>e.type===l.h8.MENTION_STICKER&&e.user_id===t?{...e,is_removed:!0}:e);return{...e,blocks:r}}),o={...e,story_pin_data:{...a,pages:s}};return{...o}}return e}case"PIN_FAVORITE":{let{id:r,increment:t,value:s}=a.payload,{favorite_user_count:o=0}=e;if(r===e.id)return{...e,favorited_by_me:s,favorite_user_count:o+t};return e}case"PIN_NOTE_UPDATE":{let{pinId:r,pinNote:t}=a.payload;if(r===e.id)return{...e,pin_note:t??void 0};return e}case"UPDATE_PIN_TRACKING_PARAMS_MAP":{let{id:r,nodeId:t,resource:s,value:o}=a.payload;if(r===e.id){let a=R(s.name,s.options),r={};return e.tracking_params_map&&(r=e.tracking_params_map||{}),r[a]=o,_(t,r),{...e,tracking_params_map:r}}return e}default:return e}}let P=(0,E.Z)("pins",(e={},a)=>{let r=(0,n.Ig)();switch(a.type){case i.zP:case i.aW:{let{options:r,resource:t,response:{resource_response:{data:s}}}=a.payload,{isDesktop:o}=r||{};if(t in p){let a=p[t](s)||[],o={...e};return a.forEach(a=>{if("pin"===a.type){let s=R(t,r),o={},n=a.node_id;e[a.id]&&(o=e[a.id].tracking_params_map||{}),o[s]=a.tracking_params||"",a.tracking_params_map=o,_(n,o)}a.type&&"pin"!==a.type||(o[a.id]=A(e[a.id],a,!0))}),o}if(("PinResource"===t||"PinPageResource"===t||"StoryPinEditResource"===t)&&s){let{preserve_component_state:a=!1}=r??{},o=s||{},n=R(t,r),d=o.node_id,i={};return e[o.id]&&(i=e[o.id].tracking_params_map||{}),i[n]=o.tracking_params,o.tracking_params_map=i,_(d,i),{...e,[o.id]:a?A(o,e[o.id]):A(e[o.id],o)}}if("ApiResource"===t&&r?.url?.match(/\/v3\/pins\/([0-9]|[a-z]|[A-Z])+\/board_title_suggestions\//))return function(e,a){if(a.type===i.zP&&a.payload.options?.pin_id){let r=a.payload.options.pin_id,t=a.payload.response.resource_response.data.map(e=>e.title);return I(e,{id:r,boardTitleSuggestions:t})}return e}(e,a);if("BoardPickerBoardsResource"===t&&!o)return function(e,a){if(a.type===i.zP&&a.payload.normalizedResponse&&a.payload.options?.pin_id){let r=a.payload.options.pin_id,{boards_shortlist:t}=a.payload.normalizedResponse.result;return I(e,{id:r,boards_shortlist:t})}return e}(e,a);else if("PinInterestsResource"===t)return function(e,a){if(a.type===i.zP&&a.payload.options?.pinId){let{options:r,response:t}=a.payload,s=t.resource_response.data;if(s?.length)return I(e,{id:r.pinId,related_interest_ids:s.map(e=>e.id)})}return e}(e,a);else if("StoryPinTaggedProductsResource"===t)return function(e,a){if(a.type===i.zP){let{response:r}=a.payload,t=r.resource_response.data;if(t?.[0])return t.reduce((e,a)=>I(e,a),e)}return e}(e,a);else if("LiveSessionProductsResource"===t)return function(e,a){if(a.type===i.zP){let{options:r,response:t}=a.payload,{data:s}=t.resource_response;return s[r?.classId].reduce((e,a)=>I(e,a),e)}return e}(e,a);return e}case i.AF:let{payload:s}=a;if("RepinResource"===s.resource){let{pin_id:a,board_id:r}=s.options,{name:t,privacy:o,url:n}=s.response.resource_response.data.board;return I(e,{id:a,pinned_to_board:{id:r,name:t,url:n,type:"board"},privacy:o})}if("BoardResource"===s.resource&&s.options.initial_pins){let a=s.options.initial_pins[0],{name:r,id:t,url:o}=s.response.resource_response.data;return I(e,{id:a,pinned_to_board:{id:t,name:r,url:o,type:"board"}})}return e;case"CHANGE_CAROUSEL_SLOT_INDEX":case"PIN_DID_IT":case"PIN_SAVE":case"PIN_SHOW_SUGGESTED_CREATOR_RECS":case"PIN_UNSAVE":case"PIN_UPDATE_COMMENT_COUNT":case"SET_PIN_COMMENTS_DISABLED":case"PIN_SHOW_FEEDBACK":case"PIN_SHOW_FEEDBACK_OVERLAY":case"PIN_FEEDBACK":case"PIN_SHOW_AD_REASONS_MODAL":case"PIN_FAVORITE":case"UPDATE_PIN_TRACKING_PARAMS_MAP":case"PIN_UPDATE_REACTION_COUNT":{let{id:r}=a.payload;if(!e[r])return e;return{...e,[r]:O(e[r],a)}}case"PIN_BETTER_SAVE":{let{payload:{localPin:r,pinId:t}}=a,s={...e};return r&&"pin"===r.type&&(s[r.id]=r),e[t]&&(s[t]=O(e[t],a)),s}case"APPROVE_PIN_SPONSORSHIP":case"DELETE_PIN_SPONSORSHIP":case"PIN_BETTER_UNSAVE":case"PIN_BETTER_SELECT_BOARD_OR_SECTION":case"PIN_QUICK_SAVE":case"DELETE_PIN_MENTION":case"PIN_NOTE_UPDATE":{let{pinId:r}=a.payload;if(!e[r])return e;return{...e,[r]:O(e[r],a)}}case"UPDATE_PINS_WITH_QUICKSAVE_REPIN":{let{payload:{newPin:r}}=a;if(r&&"pin"===r.type)return{...e,[r.id]:r};return e}case"PIN_REMOVE_USER_STORY_PIN_TAGGED_PRODUCTS":{let{payload:{blocksIds:r,pinId:t}}=a,s={...e},o=s[t];return o={...o,story_pin_data:{...o.story_pin_data,pages:o.story_pin_data?.pages?.map(e=>(e.blocks=e.blocks?.map(e=>("story_pin_product_sticker_block"===e.type&&r.includes(e.pin_id)&&(e.is_removed=!0),e)),e))??[]}},s[t]=o,s}case"NFT_FETCH_DATA":{let{payload:{data:r}}=a;return{...e,[r.id]:r}}case"UPDATE_PIN_REACTION_COUNT":return y(e,a);case"PIN_DELETE":{let{pinId:r}=a.payload;return{...Object.keys(e).reduce((a,t)=>(t!==r&&(a[t]=e[t]),a),{})}}case"PIN_EDIT":{let{pinId:r,description:t,boardId:s,sectionId:o,title:n}=a.payload;return I(e,{id:r,closeup_user_note:t,board:{id:s,type:"board"},section:{id:o},title:n,unified_user_note:t})}case"ONE_TAP_SAVE":{let{boardId:s,localPinId:o,pinId:n,nodeId:_}=a.payload;if(e[n])return r&&_&&(0,t.commitLocalUpdate)(r,e=>{let a=e.get(_);a||(a=e.create(_,"Pin"));let r=a.getOrCreateLinkedRecord("savedInfo","SaveTarget");r.setValue(s,"boardId"),r.setValue(o,"localPinId"),r.setValue(null,"score"),r.setValue(null,"sectionId"),r.setValue(null,"title"),r.setValue(null,"type"),r.setValue(null,"url")}),I(e,{id:n,savedInfo:{boardId:s,localPinId:o}})}return e;case"ONE_TAP_UNSAVE":{let{pinId:s,nodeId:o}=a.payload,n=e[s];if(!n)return e;r&&o&&(0,t.commitLocalUpdate)(r,e=>{let a=e.get(o);a&&a.setValue(null,"savedInfo")});let{savedInfo:_,...d}=n;return{...e,[s]:d}}default:return e}}),N=P},278493:(e,a,r)=>{"use strict";r.d(a,{Z:()=>D,_:()=>s});var t=r(419821);let s=20,o=(e,a)=>e.concat(a.filter(a=>!e.some(e=>e.label===a.label))),n={animated:!1,currentSearch:{query:"",scope:"pins"},queries:{},productFilters:{},recentSearches:[],recentPersonalSearches:[],recommendedSearches:[],typeaheadCache:{},pins:{},visualSearches:{}},_=(e,a,r)=>({...e,queries:{...e.queries,[a]:r}}),d=(e,a)=>{let r=e.recentPersonalSearches.filter(e=>!a.find(a=>(a.query||"").toLowerCase()===(e.query||"").toLowerCase()));return{recentPersonalSearches:a.concat(r).slice(0,s)}},i=(e,a)=>({...e,...d(e,a)}),l=(e,a)=>{let r=e.recentSearches.filter(e=>!a.find(a=>(a.query||"").toLowerCase()===(e.query||"").toLowerCase()));return{recentSearches:a.concat(r).slice(0,s)}},E=(e,a)=>({...e,recentSearches:a.slice(0,s)}),u=(e,a)=>({...e,...l(e,a)}),c=(e,a,r)=>({...e,currentSearch:{query:r||"",scope:a||"pins"}}),S=(e,a)=>({...e,recentSearches:e.recentSearches.filter(e=>e.query!==a)}),T=e=>({...e,recentSearches:[]}),p=(e,a)=>({...e,recentPersonalSearches:e.recentPersonalSearches.filter(e=>e.query!==a)}),R=e=>({...e,recentPersonalSearches:[]}),A=(e,a)=>({...e,animated:a}),I=(e,a)=>({...e,visualSearches:{...e.visualSearches,[a]:[]}}),y=(e,a)=>({...e,recommendedSearches:[...e.recommendedSearches,...a]}),O=(e,a,r)=>a?a.startsWith("my_")?i(e,[{query:r,type:"recent_personal_searches",id:r,is_verified_merchant:!1,label:r,url:""}]):u(e,[{query:r,type:"recent_query",id:r,is_verified_merchant:!1,label:r,url:""}]):e,P=(e,a,r,t)=>{if(!a.length){if("recent_unauth_search_suggestions"===r){let a=l(e,[]).recentSearches.filter(({type:e})=>"recent_query"===e);return{...e,recentSearches:a.concat(t).slice(0,s)}}if((r||"").split(",").length>1){let a=[],r=[];return t.forEach(e=>{"recent_personal_searches"===e.type?a.push(e):r.push(e)}),{...e,...d(e,a),...l(e,r)}}return"recent_personal_searches"===r?i(e,t):u(e,t)}return{...e,typeaheadCache:{...e.typeaheadCache,[a]:t}}},N=(e,a,r,t)=>{let s=`${t}-${r}`,n=e.productFilters[s];return n?a?{...e,productFilters:{...e.productFilters,[s]:Object.entries(n).reduce((e,r)=>{let t=r[0],s=r[1],n=a[t];return Array.isArray(s)&&Array.isArray(n)?e[t]=o(s,n):s&&!Array.isArray(s)&&n&&!Array.isArray(n)&&(e[t]={...s,max_value:Math.max(s.max_value,n.max_value),min_value:Math.min(s.min_value,n.min_value),suggested_max_value:Math.max(s.suggested_max_value,n.suggested_max_value)}),e},{})}}:e:{...e,productFilters:{...e.productFilters,[s]:a}}},D=(e=n,a)=>{switch(a.type){case t.zP:{let{resource:r,response:t}=a.payload;if("AdvancedTypeaheadResource"===r){let{term:r,recent_queries_tags:s}=a.payload.options??{};return P(e,r,s,t.resource_response.data.items)}if("SearchTabResource"===r)return y(e,t.resource_response.data);if("BaseSearchResource"===r){let{query:r,auto_correction_disabled:s,scope:o,article:n,filters:d,appliedProductFilters:i}=a.payload.options??{},l=`${o}:${r}:${d||""}:${i}:${n||""}${s?":auto-correction-disabled":""}`,E=t.resource_response.data.productFilters,u={guides:t.resource_response.data.guides,rankedGuides:t.resource_response.data.rankedGuides,typo:t.resource_response.data.typo,nags:t.resource_response.data.nag,sensitivity:t.resource_response.data.sensitivity,filters:t.resource_response.data.filters,tabs:t.resource_response.data.tabs,modeIcon:t.resource_response.data.modeIcon,oneBarModules:t.resource_response.data.oneBarModules};return N(O(c(_(e,l,u),o,r),o,r),E,o,r)}if("SearchResource"===r){let{query:r,scope:t}=a.payload.options||{};return O(e,t,r)}if("VisualLiveSearchResource"===r){let{data:r}=t.resource_response;return{...e,visualSearches:{...e.visualSearches,[a.payload.options.pin_id]:r.annotations}}}return e}case"CLEAR_RECENT_SEARCH":{let{query:r}=a.payload;return S(e,r)}case"CLEAR_RECENT_SEARCHES":return T(e);case"CLEAR_RECENT_PERSONAL_SEARCH":{let{query:r}=a.payload;return p(e,r)}case"CLEAR_RECENT_PERSONAL_SEARCHES":return R(e);case"RELOAD_VISUAL_SEARCH_ANNOTATIONS":return I(e,a.payload.pinId);case"UPDATE_CURRENT_SEARCH":{let{query:r,scope:t}=a.payload;return c(e,t,r)}case"UPDATE_RECENT_SEARCHES":{let{query:r,scope:t}=a.payload;return O(e,t,r)}case"UPDATE_RECENT_SEARCHES_BATCH":{let{data:r}=a.payload;return E(e,r)}case"UPDATE_TYPEAHEAD_CACHE":{let{items:r,term:t,recent_queries_tags:s}=a.payload;return P(e,t,s,r)}case"SET_ANIMATION_ON_BODY_FILTER":return A(e,a.payload.animated);default:return e}}},7760:(e,a,r)=>{"use strict";r.d(a,{Cp:()=>i,rh:()=>l,XT:()=>d,xw:()=>E});var t=r(14890);let s={current:null,locationToErrorMap:{}},o={step:"welcome"},n={images:[]},_={recentSaves:[],recentUpsell:{}},d={mainComponent:(e=s,a)=>{if("SET_LOCATION_TO_ERROR_MAP_ENTRY"===a.type){let r={...e.locationToErrorMap};return r[a.payload.pathname]=a.payload.renderError,{...e,locationToErrorMap:r}}if("UNSET_LOCATION_TO_ERROR_MAP_ENTRY"===a.type){let r={...e.locationToErrorMap};return delete r[a.payload.pathname],{...e,locationToErrorMap:r}}return e}},i={nuxSelectedInterestImages:(e=n,a)=>"SET_NUX_SELECTED_INTEREST_IMAGES"===a.type?{...e,images:a.payload.images}:e,nuxProgress:(e=o,a)=>"SET_NUX_PROGRESS"===a.type?{...e,step:a.payload.step}:e,postRepinMoreIdeasUpsell:(e=_,a)=>{switch(a.type){case"PIN_BETTER_SAVE":{let{localPin:r,boardId:t}=a.payload;if(!r||!t)return e;return{...e,recentSaves:[{boardId:t},...e.recentSaves]}}case"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN":{let{boardId:r}=a.payload;return{...e,recentUpsell:{...e.recentUpsell,[r]:Date.now()}}}default:return e}}},l=(0,t.combineReducers)({...d,...i}),E=(0,t.combineReducers)(d)},608410:(e,a,r)=>{"use strict";r.d(a,{ZP:()=>E});var t=r(419821),s=r(614137);let o=["SearchResource","UserFollowingResource","SuggestedCreatorFollowsResource"],n=(e,a)=>({...e,[a.id]:{...e[`${a.id}`],...a}}),_=(e,a)=>({...e,[a.id]:{...e[a.id],partner:{...e[a.id].partner,...a.partner}}}),d=(e,a)=>a.reduce((e,a)=>{let{type:r}=a;return r&&"user"!==r?e:n(e,a)},{...e});function i(e={},a){switch(a.type){case"UPDATE_USER_PIN_COUNT":{let{payload:{increment:r}}=a;return{...e,pin_count:(e.pin_count||0)+r}}case"USER_FOLLOW":let{value:r}=a.payload;return{...e,explicitly_followed_by_me:r,follower_count:(e.follower_count??0)+(r?1:-1)};case"USER_BLOCK":return{...e,blocked_by_me:a.payload.value,...a.payload.value?{explicitly_followed_by_me:!1}:{}};default:return e}}function l(e){let a=(e&&e.id)??"";return{[a]:{...e||{},id:a}}}function E(e){let a=(e&&e.id)??"";return(0,s.Z)("users",(r=l(e),s)=>{let E=a?r[a]:void 0;switch(s.type){case"REPLACE_STATE":return{...r,...s.payload.users};case"BOARD_SECTION_DELETE":{let{userId:e,pinCount:a}=s.payload,t=r[e].pin_count??0;return n(r,{id:e,pin_count:t-a})}case t.AF:{let{options:e,resource:a,response:t}=s.payload,o=e.user_id;if(o){let{board_count:s=0,pin_count:_=0}=r[o]||{},{resource_response:d}=t;if("BoardResource"===a){let{initial_pins:a}=e,{owner:t={}}=d.data;return n(r,{id:o,pin_count:t.pin_count||_+a.length,board_count:s+1,last_repin_id:a[0]})}if("RepinResource"===a||"PinResource"===a&&"uploaded"===e.method){let{pin_id:a}=e,{pinner:t={}}=d.data;return n(r,{id:o,pin_count:(t.pin_count||_)+1,last_repin_id:a})}}return r}case t.zP:case t.aW:let{resource:u,normalizedResponse:c,options:S,response:{resource_response:{data:T}}}=s.payload;if(s.type===t.zP&&"BoardPickerBoardsResource"===u&&c)return n(r,{id:S?.user_id||"",recent_boards:c.result.boards_shortlist});if("UserResource"===u&&T)return n(r,T);if(o.includes(u)&&T)return d(r,T);if("TodayArticleResource"===u&&T?.article_creator_user)return n(r,T.article_creator_user);if("TodayArticleFeedResource"===u&&Array.isArray(T)){let e=T.reduce((e,a)=>("story"===a.type&&a.user?.type==="user"&&e.push(a.user),e),[]);return d(r,e)}return r;case"USER_BLOCK":let{payload:{id:p}}=s;return{...r,[p]:i(r[p],s)};case"USER_FOLLOW":let{payload:{id:R}}=s;return{...r,[R]:i(r[R],s)};case"USER_BULK_FOLLOW":let{ids:A,value:I}=s.payload,y={...r};return A.forEach(e=>{let a=r[e];y[e]={...a,explicitly_followed_by_me:I}}),y;case"USER_SETTING_CHANGE":return n(r,{id:s.payload.id,[s.payload.field]:s.payload.value});case"USER_PARTNER_SETTING_CHANGE":return _(r,{id:s.payload.id,partner:{[s.payload.field]:s.payload.value}});case"UPDATE_USER_PIN_COUNT":{let{payload:{userId:e}}=s;if(r[e])return{...r,[e]:i(r[e],s)};return r}case"UPDATE_USER_SCHEDULED_PIN_COUNT":{let{payload:{userId:e,increment:a}}=s,t=r[e],o=t.scheduled_pin_count||0;return{...r,[e]:{...t,scheduled_pin_count:o+a}}}case"PROFILE_COVER_SOURCE":let{payload:{coverSource:O,id:P}}=s,N=r[P]||{};return{...r,[P]:{...N,profile_cover:O}};case"BOARD_CREATE_COMPLETE":if(E&&!E.has_quicksave_board)return{...r,[E.id]:{...E,board_count:void 0===E.board_count?void 0:E.board_count+1}};return r;case"BOARD_DELETE":if(E){let{boardPinCount:e}=s.payload,a=E.pin_count??0;return{...r,[E.id]:{...E,board_count:E.board_count?E.board_count-1:E.board_count,pin_count:a-(e??0)}}}return r;case"PIN_DELETE":return n(r,{id:s.payload.userId,pin_count:r[s.payload.userId].pin_count??-1});case"PIN_ADD":let{pinnerId:D}=s.payload;return n(r,{id:D,pin_count:r[D].pin_count??1});case"SET_PERSONALIZATION_COOKIES":if(E){let{payload:e}=s;return{...r,[E.id]:{...E,allow_personalization_cookies:e.value}}}return r;case"SET_ANALYTICS_COOKIES":if(E){let{payload:e}=s;return{...r,[E.id]:{...E,allow_analytic_cookies:e.value}}}return r;case"SET_MARKETING_COOKIES":if(E){let{payload:e}=s;return{...r,[E.id]:{...E,allow_marketing_cookies:e.value}}}return r;case"ALLOW_ALL_COOKIES":if(E)return{...r,[E.id]:{...E,allow_personalization_cookies:!0,allow_analytic_cookies:!0,allow_marketing_cookies:!0}};return r;case"REJECT_ALL_COOKIES":if(E)return{...r,[E.id]:{...E,allow_personalization_cookies:!1,allow_analytic_cookies:!1,allow_marketing_cookies:!1}};return r;case"AUTHENTICATE_USER":case"REGISTER_USER":let C=s.payload.user.id;return a=C,{...r,[C]:{...r[C],...s.payload.user}};case"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX":let g=s.payload;if(E&&E.firstHomeFeedRequestAfterNux!==g)return{...r,[E.id]:{...E,firstHomeFeedRequestAfterNux:g}};return r;case"UPDATE_USER_SET":if(E){let e=s.payload.partner?{...E.partner,...s.payload.partner}:E.partner;return{...r,[E.id]:{...E,...s.payload,partner:e}}}return r;case"UPDATE_USER_SOCIAL_NETWORK":if(E){let e=s.payload.socialNetworkName;return{...r,[E.id]:{...E,[`connected_to_${e}`]:s.payload.connected}}}return r;case"UPDATE_HAS_QUICKSAVE_BOARD":let{createdQuicksaveBoard:f}=s.payload;if(E&&E.has_quicksave_board!==f){let{createdQuicksaveBoard:e}=s.payload;return{...r,[E.id]:{...E,has_quicksave_board:e}}}return r;case"UPDATE_USER_SAVE_BEHAVIOR":let{saveBehavior:L}=s.payload;if(E&&E.save_behavior!==L)return{...r,[E.id]:{...E,save_behavior:L}};return r;case"USER_DOMAIN_VERIFIED":if(E&&E.verified_user_websites){let{verifiedWebsite:e}=s.payload;return{...r,[E.id]:{...E,verified_user_websites:[...E.verified_user_websites,e],is_any_website_verified:!0}}}return r;case"USER_DOMAIN_UNVERIFIED":if(E&&E.verified_user_websites){let{verifiedWebsite:e}=s.payload,a=E.verified_user_websites&&E.verified_user_websites.indexOf(e),t=E.verified_user_websites&&E.verified_user_websites.slice(0);return t&&t.splice(a,1),{...r,[E.id]:{...E,verified_user_websites:t,isAnyWebsiteVerified:t&&t.length>0}}}return r;default:return r}})}},851193:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});var t=r(837639);function s(e){return{defaultStyle:0,fontFamily:e.name??"",fontGroup:t.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/84911-e92c7b1bec09a26d.mjs.map